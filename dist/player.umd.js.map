{"version":3,"file":"player.umd.js","sources":["../src/class/BaseEvent.ts","../src/utils/domUtils.ts","../src/class/Component.ts","../src/component/Controller/path/defaultPath.ts","../src/component/Controller/parts/Options.ts","../src/component/Controller/parts/FullScreen.ts","../src/component/Controller/parts/PlayButton.ts","../src/component/Controller/parts/Playrate.ts","../src/component/Controller/parts/VolumeCompletedProgress.ts","../src/component/Controller/parts/Volume.ts","../src/utils/store.ts","../src/component/ToolBar/toolbar.ts","../src/component/Progress/parts/Dot.ts","../src/component/Progress/parts/CompletedProgress.ts","../src/component/Progress/parts/BufferedProgress.ts","../src/component/Progress/progress.ts","../src/component/Controller/parts/SubSetting.ts","../src/component/Controller/controller.ts","../src/utils/format.ts","../node_modules/mp4box/dist/mp4box.all.js","../src/dash/net/HTTPRequest.ts","../src/dash/FactoryMaker.ts","../src/dash/net/XHRLoader.ts","../src/mp4/net/DownLoader.ts","../src/mp4/MediaPlayer.ts","../src/utils/play.ts","../src/dash/event/EventBus.ts","../src/dash/event/EventConstants.ts","../src/dash/net/URLLoader.ts","../src/types/dash/DomNodeTypes.ts","../src/dash/parser/SegmentTemplateParser.ts","../src/dash/utils/URLUtils.ts","../src/dash/parser/DashParser.ts","../src/dash/parser/BaseURLParser.ts","../src/dash/utils/TimeRangeUtils.ts","../src/dash/stream/StreamController.ts","../src/dash/vo/MediaPlayerBuffer.ts","../src/dash/vo/MediaPlayerController.ts","../src/dash/MediaPlayer.ts","../src/page/player.ts"],"sourcesContent":["import { EventObject } from \"../types/EventObject\";\n\nexport class BaseEvent {\n  $events: EventObject = {};\n  constructor() {}\n\n  //事件触发\n  emit(event: string, ...args: any[]) {\n    if (this.$events[event]) {\n      this.$events[event].forEach((cb) => {\n        cb.call(this, ...args);\n      });\n    }\n  }\n\n  //事件监听\n  on(event: string, cb: Function) {\n    this.$events[event] = this.$events[event] || [];\n    this.$events[event].push(cb);\n  }\n}\n","import { ComponentItem, DOMProps, Node, registerOptions,getFunctionParametersType } from \"../types/Player\";\r\nexport function getDOMPoint(dom:HTMLElement):{x:number,y:number} {\r\n    var t = 0; \r\n    var l = 0; \r\n    //判断是否有父容器，如果存在则累加其边距\r\n    while (dom !== document.body) {\r\n        t += dom.offsetTop; //叠加父容器的上边距\r\n        l += dom.offsetLeft; //叠加父容器的左边距\r\n        //if(dom.style.borderLeftWidth) l += Number(dom.style.borderLeftWidth);\r\n        //if(dom.style.borderTopWidth) t += Number(dom.style.borderTopWidth);\r\n        dom = dom.parentNode as HTMLElement;\r\n    }\r\n    return {x:l,y:t};\r\n}\r\n\r\n/**\r\n * @description 查看当前的鼠标位置是否在父元素和绝对定位的子元素的组合范围内，如果超出则返回false\r\n * @param parent \r\n * @param topChild \r\n * @param pageX \r\n * @param pageY \r\n * @returns {boolean}\r\n */\r\nexport function checkIsMouseInRange(parent:HTMLElement,topChild:HTMLElement,pageX:number,pageY:number) {\r\n    let {x,y} = getDOMPoint(parent);\r\n    let allTop = y - parseInt(topChild.style.bottom) - topChild.clientHeight;\r\n    let allBottom = y + parent.clientHeight;\r\n    let allLeft = x + Math.round(parent.clientWidth / 2) - Math.round(topChild.clientWidth / 2);\r\n    let allRight = x + Math.round(parent.clientWidth / 2) + Math.round(topChild.clientWidth / 2);\r\n    let parentLeft = x;\r\n    let parentRight = x + parent.clientWidth;\r\n    if(pageX >= allLeft && pageX <= allRight && pageY <= y && pageY >= allTop) return true;\r\n    if(pageX >= parentLeft && pageX <= parentRight   && pageY >= y && pageY <= allBottom) return true;\r\n    return false;\r\n}\r\n\r\nconst SELECTOR_REG = /([\\w-]+)?(?:#([\\w-]+))?(?:\\.([\\w-]+))?/;\r\n\r\n/**\r\n * @description 根据desc的标签描述和props的属性描述来创建一个DOM对象，并且在实例上挂载各种属性\r\n * @param {string} desc \r\n * @param {DOMProps} props \r\n * @param {Node[]} children \r\n * @returns \r\n */\r\n\r\n\r\nexport function $<T extends HTMLElement>(\r\n    desc?: string,\r\n    props?: DOMProps,\r\n    children?: string | Array<Node>\r\n):T {\r\n    let match = [];\r\n    let regArray = SELECTOR_REG.exec(desc)\r\n    match[0] = regArray[1] || undefined;\r\n    match[1] = regArray[2] || undefined;\r\n    match[2] = regArray[3] || undefined;\r\n    let el: HTMLElement = match[0] ? document.createElement(match[0]) : document.createElement(\"div\");\r\n    if(match[1]) {\r\n        el.id = match[1];\r\n    }\r\n    match[2] && addClass(el,[match[2]]);\r\n    for(let key in props) {\r\n        if(typeof props[key] === \"object\") {\r\n            if(key === \"style\") {\r\n                let str = \"\"\r\n                let styles = props[key];\r\n                for(let k in styles) {\r\n                    str += `${k}: ${styles[k]};`\r\n                }\r\n                el.setAttribute(\"style\",str);\r\n            } else {}\r\n        } else {\r\n            el.setAttribute(key,String(props[key]));\r\n        }\r\n    }\r\n    if(typeof children === \"string\") {\r\n        el.innerHTML += children;\r\n    } else if(children){\r\n        for(let child of children) {\r\n            el.appendChild(child.el);\r\n        }\r\n    }\r\n    return el as T;\r\n}\r\n/**\r\n * @description 根据传入的字符串获取对应的DOM元素\r\n * @param dom \r\n * @returns {HTMLElement | null}\r\n */\r\nexport function getEl(dom: HTMLElement | string ): HTMLElement | null  {\r\n    if(dom instanceof HTMLElement) return dom;\r\n    if(typeof dom === \"string\") {\r\n        return document.querySelector(dom);\r\n    }\r\n}\r\n\r\nexport function addClass(dom:HTMLElement,classNames:Array<string>) {\r\n    let classList = dom.classList;\r\n    for(let name of classNames) {\r\n        if(!includeClass(dom,name)) {\r\n            classList.add(name);\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeClass(dom:HTMLElement,classNames:Array<string>) {\r\n    let classList = dom.classList;\r\n    classList.remove(...classNames);\r\n} \r\n\r\nexport function changeClass(dom:HTMLElement,className) {\r\n    dom.className = className;\r\n}\r\n\r\nexport function includeClass(dom:HTMLElement,className:string): boolean {\r\n    let classList = dom.classList;\r\n    for(let key in classList) {\r\n        if(classList[key] === className) return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport function getElementSize(\r\n    dom: HTMLElement,\r\n): { width: number; height: number } {\r\n    const clone = dom.cloneNode(true) as HTMLElement;\r\n    clone.style.position = 'absolute';\r\n    clone.style.opacity = '0';\r\n    clone.removeAttribute('hidden');\r\n\r\n    const parent = dom.parentNode || document.body;\r\n\r\n    parent.appendChild(clone);\r\n\r\n    const rect = clone.getBoundingClientRect();\r\n\r\n    parent.removeChild(clone);\r\n\r\n    return rect;\r\n}\r\n\r\nconst svgNS = 'http://www.w3.org/2000/svg';\r\n\r\nexport function createSvg(d?: string, viewBox = '0 0 24 24'): SVGSVGElement {\r\n  const svg = document.createElementNS(svgNS, 'svg'); //创建带有命名空间的元素节点\r\n  svg.setAttribute('viewBox', viewBox);\r\n  if (d) {\r\n    const path = document.createElementNS(svgNS, 'path');\r\n    path.setAttributeNS(null, 'd', d);\r\n    svg.appendChild(path);\r\n  }\r\n  return svg;\r\n}\r\n\r\nexport function setSvgPath(svg:SVGSVGElement,d:string) {\r\n    const path = svg.getElementsByTagNameNS(svgNS, \"path\")[0];\r\n    path.setAttributeNS(null, \"d\", d);\r\n}\r\n\r\nexport function createSvgs(d:string[],viewBox = '0 0 24 24'):SVGSVGElement {\r\n    const svg = document.createElementNS(svgNS,'svg')\r\n    svg.setAttribute('viewBox',viewBox);\r\n    for(let key of d){\r\n        const path = document.createElementNS(svgNS, 'path');\r\n        path.setAttributeNS(null, 'd', key);\r\n        svg.appendChild(path);\r\n    }\r\n\r\n    return svg;\r\n}\r\n\r\n/**\r\n * \r\n * @description 合并两个组件的实例对象\r\n * @param target\r\n * @param another\r\n */\r\n\r\nexport function patchComponent(\r\n    target:ComponentItem,\r\n    another:Partial<ComponentItem>,\r\n    options:registerOptions = {replaceElementType:\"replaceOuterHTMLOfComponent\"}\r\n) {\r\n    console.log(target,another,options,'!!')\r\n    if(target.id !== another.id) throw new Error(\"需要合并的两个组件id不相同\");\r\n\r\n    for(let key in another) { //遍历新\r\n        console.log(key,'key') // id onhidefn()\r\n        if(key in target) {   //遍历旧\r\n            if(key === 'props') {\r\n                patchDOMProps(target[key],another[key],target.el);\r\n            } else if(key === 'el') {\r\n                if(options.replaceElementType === \"replaceOuterHTMLOfComponent\") {\r\n                    target.el = another.el;\r\n                } else {\r\n                    for(let child of target.el.childNodes) {\r\n                        target.el.removeChild(child);\r\n                    }\r\n                    target.el.appendChild(another.el);\r\n                }\r\n            } else {\r\n                if(target[key] instanceof Function) {\r\n                    if(!(another[key] instanceof Function)) {\r\n                        throw new Error(`属性${key}对应的值应该为函数类型`);\r\n                    }\r\n                    console.log(\"合并函数\",another[key])\r\n                    target[key] = patchFn(target[key],another[key],target);\r\n                    target.resetEvent()\r\n                } else if(target[key] instanceof HTMLElement) {\r\n                    if(!(another[key] instanceof HTMLElement) && typeof another[key] !== 'string') {\r\n                        throw new Error(`属性${key}对应的值应该为DOM元素或者字符串类型`);\r\n                    }\r\n                    if(typeof another[key] === 'string') {\r\n                        \r\n                        \r\n                    } else {\r\n                        (target[key] as HTMLElement).parentNode?.insertBefore(another[key],target[key]);\r\n                        (target[key] as HTMLElement).parentNode?.removeChild(target[key]);\r\n                        target[key] = another[key];\r\n                    }\r\n                    \r\n                }\r\n            }\r\n        } \r\n        \r\n    }\r\n}\r\n\r\nexport function patchDOMProps(targetProps: DOMProps,anotherProps:DOMProps,el:HTMLElement) {\r\n    for(let key in anotherProps) {\r\n        if(targetProps.hasOwnProperty(key)) {\r\n            if(key === 'id') {\r\n                targetProps.id = anotherProps.id;\r\n                el.id = targetProps.id;\r\n            } else if(key === \"className\") {\r\n                targetProps.className.concat(anotherProps.className);\r\n                addClass(el,anotherProps.className);\r\n            } else if(key === \"style\") {\r\n                patchStyle(targetProps.style,anotherProps.style,el);\r\n            }\r\n        } else {\r\n            targetProps[key] = anotherProps[key];\r\n            if(key !== \"style\") { \r\n                el[key] = anotherProps[key];\r\n            } else if(key === \"style\") {\r\n                for(let prop in anotherProps['style']) {\r\n                    el.style[prop] = anotherProps['style'][prop];\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function patchStyle(\r\n    targetStyle: Partial<CSSStyleDeclaration>,\r\n    anotherStyle: Partial<CSSStyleDeclaration>,\r\n    el: HTMLElement\r\n) {\r\n    for(let key in anotherStyle) {\r\n        targetStyle[key] = anotherStyle[key];\r\n    } \r\n    for(let key in targetStyle) {\r\n        el.style[key] = targetStyle[key];\r\n    }\r\n}\r\n\r\nexport function patchFn<T extends (...args:any[]) => any>(targetFn: T,anotherFn : T, context: ComponentItem) {\r\n    // let args = targetFn.arguments;\r\n    // console.log(targetFn,'66'+anotherFn,context,'12314')\r\n    // 创建一个新函数 fn，该函数会调用传入的 targetFn 和 anotherFn，并将它们绑定到指定的 context 上。这可以用于在调用原始函数前后执行额外的逻辑，例如添加一些拦截器或修改参数等。\r\n    function fn(...args: getFunctionParametersType<T>[]) {\r\n        targetFn.call(context,...args);\r\n        anotherFn.call(context,...args);\r\n    }\r\n\r\n    return fn.bind(context) as T;\r\n}","import { $ } from \"../utils/domUtils\";\r\nimport { BaseEvent } from \"./BaseEvent\";\r\nimport { DOMProps, Node } from \"../types/Player\";\r\n\r\nexport class Component extends BaseEvent {\r\n    el: HTMLElement; //el代表着该组件对应的整个HTML元素\r\n    constructor(container: HTMLElement, desc?: string, props?: DOMProps, children?: string | Node[]) {\r\n        super();\r\n        let dom = $(desc, props, children);\r\n        this.el = dom;\r\n        // 安装组件成功\r\n        container.append(dom);\r\n    }\r\n\r\n    init() { }\r\n    initEvent() { }\r\n    initTemplate() { }\r\n    initComponent() { }\r\n    resetEvent() { }\r\n}\r\n\r\n","export const playPath = \"M6 2.914v18.172L20.279 12 6 2.914z\";\r\nexport const pausePath = \"M14.333 20.133H19V3.8h-4.667M5 20.133h4.667V3.8H5v16.333z\";\r\nexport const volumePath$1 = \"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z\"\r\n// export const volumePath$2 = \"M642.844444 183.466667c0 11.377778 7.111111 21.333333 17.066667 25.6 118.044444 49.777778 201.955556 166.4 201.955556 301.511111 0 136.533333-83.911111 253.155556-201.955556 301.511111-9.955556 4.266667-17.066667 14.222222-17.066667 25.6 0 19.911111 21.333333 34.133333 39.822223 25.6 137.955556-58.311111 236.088889-194.844444 236.088889-354.133333S822.044444 213.333333 682.666667 155.022222c-18.488889-5.688889-39.822222 8.533333-39.822223 28.444445z\"\r\nexport const fullscreenPath = \"M3 3h6.429v2.571H5.57V9.43H3V3m11.571 0H21v6.429h-2.571V5.57H14.57V3m3.858 11.571H21V21h-6.429v-2.571h3.858V14.57m-9 3.858V21H3v-6.429h2.571v3.858H9.43z\"\r\nexport const fullscreenExitPath = \"M14.571 14.571H21v2.572h-3.857V21H14.57v-6.429M3 14.571h6.429V21H6.857v-3.857H3V14.57M6.857 3H9.43v6.429H3V6.857h3.857V3M21 6.857V9.43h-6.429V3h2.572v3.857H21z\"\r\nexport const subSettingPath = \"M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66z\"","import { Component } from \"../../../class/Component\";\r\nimport { Player } from \"../../../page/player\";\r\nimport { ComponentItem, DOMProps, Node } from \"../../../types/Player\";\r\nimport { $, addClass, checkIsMouseInRange } from \"../../../utils/domUtils\";\r\nexport class Options extends Component implements ComponentItem {\r\n    id = \"Options\";\r\n    props: DOMProps;\r\n    player: Player;\r\n    hideWidth: number;\r\n    hideHeight: number;\r\n    hideBox: HTMLElement;\r\n    iconBox: HTMLElement;\r\n    constructor(player: Player, container: HTMLElement, hideWidth?: number, hideHiegth?: number, desc?: string, props?: DOMProps, children?: Node[]) {\r\n        super(container, desc, props, children);\r\n        this.player = player;\r\n        props ? (this.props = props) : (this.props = {});\r\n        this.hideWidth = hideWidth;\r\n        this.hideHeight = hideHiegth;\r\n        this.initBase()\r\n\r\n\r\n    }\r\n\r\n    initBase() {\r\n        this.initBaseTemplate();\r\n        this.initBaseEvent();\r\n    }\r\n\r\n    initBaseTemplate() {\r\n        this.hideBox = $(\"div\", { style: { display: \"none\" } })\r\n        addClass(this.hideBox, [\"video-set\"])\r\n        if (this.hideWidth && this.hideWidth > 0) {\r\n            this.hideBox.style.width = this.hideWidth + 'px'\r\n        }\r\n\r\n        if (this.hideHeight && this.hideHeight > 0) {\r\n            this.hideBox.style.height = this.hideHeight + 'px'\r\n        }\r\n\r\n        this.el.appendChild(this.hideBox);\r\n\r\n        this.iconBox = $(\"div\");\r\n        // hideBox距离底部的距离先写死，到时候再做微调\r\n        console.log(this.hideBox,'hide');\r\n        \r\n        this.hideBox.style.bottom = \"45px\"\r\n        addClass(this.iconBox, [\"video-icon\"])\r\n        this.el.appendChild(this.iconBox);\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    initBaseEvent() {\r\n        this.el.onmouseenter = (e) => {\r\n            let ctx = this;\r\n            ctx.hideBox.style.display = \"\";\r\n            document.body.onmousemove = ctx.handleMouseMove.bind(this);\r\n        }\r\n    }\r\n\r\n    handleMouseMove(e: MouseEvent) {\r\n        let pX = e.pageX, pY = e.pageY;\r\n        let ctx = this;\r\n        if (!checkIsMouseInRange(ctx.el, ctx.hideBox, pX, pY)) {\r\n            ctx.hideBox.style.display = \"none\"\r\n            document.body.onmousemove = null;\r\n        }\r\n    }\r\n\r\n\r\n}","import { Player } from \"../../../page/player\";\r\nimport { DOMProps, Node } from \"../../../types/Player\";\r\nimport { addClass, createSvg } from \"../../../utils/domUtils\";\r\nimport { storeControlComponent } from \"../../../utils/store\";\r\nimport { fullscreenExitPath, fullscreenPath } from \"../path/defaultPath\";\r\nimport { Options } from \"./Options\";\r\n\r\nexport class FullScreen extends Options {\r\n    readonly id = \"FullScreen\";\r\n    player: Player;\r\n    props: DOMProps;\r\n    icon: SVGSVGElement;\r\n    constructor(player: Player, container: HTMLElement, desc?: string, props?: DOMProps, children?: Node[]) {\r\n        super(player, container, 0, 0, desc, props, children);\r\n        this.player = player;\r\n        this.props = props || {};\r\n        this.init();\r\n    }\r\n    init() {\r\n        this.initTemplate()\r\n        this.initEvent()\r\n        storeControlComponent(this)\r\n    }\r\n\r\n    initTemplate() {\r\n        addClass(this.el, [\"video-fullscreen\", \"video-controller\"])\r\n    }\r\n\r\n    initEvent() {\r\n        this.el.onclick = this.onClick.bind(this);\r\n        addClass(this.el, [\"video-fullscreen\", \"video-controller\"]);\r\n        this.icon = createSvg(fullscreenPath);\r\n        this.iconBox.appendChild(this.icon);\r\n        this.el.appendChild(this.iconBox);\r\n    }\r\n\r\n    onClick(e: MouseEvent) {\r\n        if (this.player.container.requestFullscreen && !document.fullscreenElement) {\r\n            this.player.container.requestFullscreen(); //该函数请求全屏\r\n            this.iconBox.removeChild(this.icon);\r\n            this.icon = createSvg(fullscreenExitPath);\r\n            this.iconBox.appendChild(this.icon)\r\n        } else if (document.fullscreenElement) {\r\n            document.exitFullscreen(); //退出全屏函数仅仅绑定在document对象上，该点需要切记！！！\r\n            this.iconBox.removeChild(this.icon);\r\n            this.icon = createSvg(fullscreenPath);\r\n            this.iconBox.appendChild(this.icon)\r\n        }\r\n    }\r\n}","import { Component } from \"../../../class/Component\"\r\nimport { Player } from \"../../../page/player\";\r\nimport { ComponentItem, DOMProps,Node } from \"../../../types/Player\";\r\nimport { $, addClass, createSvg } from \"../../../utils/domUtils\";\r\nimport { storeControlComponent } from \"../../../utils/store\";\r\nimport { pausePath, playPath } from \"../path/defaultPath\";\r\n\r\nexport class PlayButton extends Component implements ComponentItem {\r\n    readonly id = \"PlayButton\";\r\n    private pauseIcon: SVGSVGElement | string;\r\n    private playIcon: SVGSVGElement | string;\r\n    private iconBox: HTMLElement;\r\n    private button: SVGSVGElement;\r\n    props: DOMProps;\r\n    player: Player;\r\n    constructor(player:Player,container:HTMLElement,desc?:string,props?:DOMProps,children?:Node[]) {\r\n        super(container,desc,props,children);\r\n        this.player = player;\r\n        this.props = props || {};\r\n        this.init();\r\n    }\r\n    init() {\r\n        this.initTemplate();\r\n        this.initEvent();\r\n        storeControlComponent(this);\r\n    }\r\n\r\n    initTemplate() {\r\n        addClass(this.el,[\"video-start-pause\",\"video-controller\"]);\r\n        this.iconBox = $(\"div.video-icon\");\r\n        this.el.appendChild(this.iconBox);\r\n        this.pauseIcon = createSvg(pausePath);\r\n        this.playIcon = createSvg(playPath);\r\n        this.button = this.playIcon as SVGSVGElement;\r\n        this.iconBox.appendChild(this.button);\r\n    }\r\n\r\n    initEvent() {\r\n        this.onClick = this.onClick.bind(this);\r\n        this.player.on(\"play\",(e:Event) => {\r\n            this.iconBox.removeChild(this.button);\r\n            this.button = this.pauseIcon as SVGSVGElement;\r\n            this.iconBox.appendChild(this.button);\r\n        })\r\n\r\n        this.player.on(\"pause\",(e:Event) => {\r\n            this.iconBox.removeChild(this.button);\r\n            this.button = this.playIcon as SVGSVGElement;\r\n            this.iconBox.appendChild(this.button);\r\n        })\r\n\r\n        this.el.onclick = this.onClick;\r\n\r\n    }\r\n    resetEvent(){\r\n        this.onClick = this.onClick.bind(this);\r\n        this.el.onclick = null;\r\n        this.el.onclick = this.onClick;\r\n        \r\n    }\r\n\r\n    onClick(e: MouseEvent) {\r\n        if (this.player.video.paused) {\r\n            this.player.video.play();\r\n        } else {\r\n            this.player.video.pause();\r\n        }\r\n    }\r\n}","import { Options } from \"./Options\";\r\nimport { Player } from \"../../../page/player\";\r\nimport { storeControlComponent } from \"../../../utils/store\";\r\nimport { DOMProps, Node } from \"../../../types/Player\";\r\nimport { $, addClass } from \"../../../utils/domUtils\";\r\n/**\r\n * @description 播放速率的类\r\n */\r\nexport class Playrate extends Options {\r\n    readonly id = \"Playrate\";\r\n    constructor(player: Player,container: HTMLElement, desc?: string, props?: DOMProps,children?: Node[]) {\r\n        super(player,container,0,0,desc);\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.initTemplate()\r\n        storeControlComponent(this)\r\n    }\r\n\r\n    initTemplate() {\r\n        this.el[\"aria-label\"] = \"播放倍速\"\r\n        addClass(this.el,[\"video-playrate\",\"video-controller\"])\r\n\r\n        this.el.removeChild(this.iconBox);\r\n        this.iconBox = $(\"span\",null,\"倍速\");\r\n        this.el.appendChild(this.iconBox);\r\n\r\n        this.el.removeChild(this.hideBox);\r\n        // this.hideBox = $(\"ul\",{style:{\"display\":\"none\"},\"aria-label\":\"播放速度调节\"});\r\n        addClass(this.hideBox,[\"video-playrate-set\"]);\r\n        this.el.appendChild(this.hideBox);\r\n\r\n        for(let i = 0;i<6;i++) {\r\n            let li = $(\"li\");\r\n            li.innerText = \"2.0x\";\r\n            this.hideBox.appendChild(li);\r\n        }\r\n    }   \r\n\r\n}","import { Component } from \"../../../class/Component\";\r\nimport { ComponentItem, DOMProps, Node } from \"../../../types/Player\";\r\nimport { Player } from \"../../../page/player\";\r\nimport { storeControlComponent } from \"../../../utils/store\";\r\nexport class VolumeCompletedProgress extends Component implements ComponentItem {\r\n    readonly id = \"VolumeCompletedProgress\";\r\n    props:DOMProps;\r\n    player: Player;\r\n    constructor(player:Player,container:HTMLElement,desc?:string,props?:DOMProps,children?:Node[]) {\r\n        super(container, desc, props, children);\r\n        this.props = props || {};\r\n        this.player = player;\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.initEvent();\r\n\r\n        storeControlComponent(this);\r\n    }\r\n\r\n    initEvent() {\r\n\r\n    }\r\n}","import { Options } from \"./Options\";\r\nimport { Player } from \"../../../page/player\";\r\nimport { DOMProps, Node } from \"../../../types/Player\";\r\nimport { $, addClass, createSvg, createSvgs, getDOMPoint } from \"../../../utils/domUtils\";\r\nimport { volumePath$1 } from \"../path/defaultPath\";\r\nimport { storeControlComponent } from \"../../../utils/store\";\r\nimport { VolumeCompletedProgress } from \"./VolumeCompletedProgress\";\r\n\r\nexport class Volume extends Options {\r\n    readonly id = \"Volume\";\r\n    volumeProgress: HTMLElement;\r\n    volumeShow: HTMLElement;\r\n    volumeCompleted: VolumeCompletedProgress;\r\n    icon: SVGSVGElement;\r\n    constructor(player: Player,container: HTMLElement, desc?: string, props?: DOMProps,children?: Node[]) {\r\n        super(player,container,0,0,desc);\r\n        this.init();\r\n    }\r\n    init() {\r\n        this.initTemplate();\r\n        this.initEvent();\r\n        storeControlComponent(this);\r\n    }\r\n    initTemplate() {\r\n        addClass(this.el,[\"video-volume\",\"video-controller\"])\r\n        this.el[\"aria-label\"] = \"音量\";\r\n        addClass(this.hideBox,[\"video-volume-set\"]);\r\n        this.volumeProgress = $(\"div.video-volume-progress\",{style:{height:\"70px\"}});\r\n        this.volumeShow = $(\"div.video-volume-show\");\r\n        this.volumeShow.innerText = \"50\";\r\n        this.volumeCompleted = new VolumeCompletedProgress(this.player,this.volumeProgress,\"div.video-volume-completed\");\r\n        this.hideBox.appendChild(this.volumeShow);\r\n        this.hideBox.appendChild(this.volumeProgress);\r\n        this.icon = createSvg(volumePath$1);\r\n        this.iconBox.appendChild(this.icon);\r\n    }\r\n\r\n    initEvent() {\r\n        this.player.on(\"volume-progress-click\", (e: MouseEvent, ctx: Volume) => {\r\n            let eoffsetY = e.pageY - getDOMPoint(this.volumeProgress).y;\r\n            let offsetY = this.volumeProgress.clientHeight - eoffsetY;\r\n            let scale = offsetY / this.volumeProgress.clientHeight;\r\n            if (scale < 0) {\r\n                scale = 0;\r\n            } else if (scale > 1) {\r\n                scale = 1;\r\n            }\r\n            this.volumeCompleted.el.style.height = scale * 100 + \"%\"\r\n        })\r\n\r\n        this.volumeProgress.onclick = (e) => {\r\n            this.player.emit(\"volume-progress-click\", e, this);\r\n        }\r\n    }\r\n}\r\n\r\n","import { FullScreen } from \"../component/Controller/parts/FullScreen\";\r\nimport { PlayButton } from \"../component/Controller/parts/PlayButton\";\r\nimport { Playrate } from \"../component/Controller/parts/Playrate\";\r\nimport { Volume } from \"../component/Controller/parts/Volume\";\r\nimport { ComponentItem } from \"../types/Player\";\r\n\r\nexport const CONTROL_COMPONENT_STORE = new Map<string,ComponentItem>();\r\n\r\nexport function storeControlComponent(item:ComponentItem) {\r\n    CONTROL_COMPONENT_STORE.set(item.id,item);\r\n}\r\n\r\nexport const controllersMapping = {\r\n    \"PlayButton\": PlayButton,\r\n    \"Playrate\": Playrate,\r\n    \"Volume\": Volume,\r\n    \"FullScreen\": FullScreen\r\n}","import { Node,ComponentItem,DOMProps,Player,Progress,Controller,} from \"../../index\";\nimport { Component } from \"../../class/Component\";\nimport { storeControlComponent } from \"../../utils/store\";\nimport { addClass, includeClass, removeClass } from \"../../utils/domUtils\";\nimport \"./toolbar.less\";\n// ComponentItem用于描述一个组件\n// export interface ComponentItem {\n//   id: string;\n//   el: HTMLElement;\n//   props?: DOMProps;\n//   [props:string]:any;\n// }\n// 视频播放器的工具栏组件   toolbar class 符合componentitem 接口规范,\nexport class ToolBar extends Component implements ComponentItem {\n    readonly id:string = 'Toolbar';\n    props:DOMProps;\n    player:Player;\n    progress:Progress;\n    controller:Controller;\n    private timer:number = 0;\n    // 先初始化播放器的默认样式，暂时不考虑用户自定义样式\n    constructor(player:Player,container:HTMLElement,desc?:string,props?:DOMProps,children?:Node[]){\n      super(container,desc,props,children);\n      this.player = player;\n      this.props = props || {};\n      this.initEvent()\n      this.init()\n    }\n    init(){\n      this.initTemplate();\n      this.initEvent();\n      this.initComponent()\n      storeControlComponent(this)\n    }\n\n    initComponent(){\n      this.progress = new Progress(this.player,this.el,\"div.video-progress\");\n      this.controller = new Controller(this.player,this.el,\"div.video-play\")\n    }\n\n    initTemplate(){\n      addClass(this.el,[\"video-controls\",\"video-controls-hidden\"]);\n    }\n\n    initEvent(){\n      this.player.on(\"showtoolbar\",(e)=>{\n        this.onShowToolBar(e)\n      })\n      this.player.on(\"hidetoolbar\",(e)=>{\n        this.onHideToolBar(e)\n      })\n    }\n\n\n    private hideToolBar() {\n      if(!includeClass(this.el,\"video-controls-hidden\")) {\n        addClass(this.el,[\"video-controls-hidden\"]);\n      }\n    }\n  \n    private showToolBar(e:MouseEvent) {\n      if(includeClass(this.el,\"video-controls-hidden\")) {\n        removeClass(this.el,[\"video-controls-hidden\"]);\n      }\n  \n      if(e.target === this.player.video) {\n        this.timer = window.setTimeout(()=>{\n          this.hideToolBar();\n        },3000)\n      }\n    }\n  \n    onShowToolBar(e:MouseEvent) {\n      if(this.timer) {\n        window.clearTimeout(this.timer);\n        this.timer = null;\n      }\n      this.showToolBar(e);\n    }\n  \n    onHideToolBar(e:MouseEvent) {\n      this.hideToolBar();\n    }\n  }","import { Component } from \"../../../class/Component\";\r\nimport { Player } from \"../../../page/player\";\r\nimport { ComponentItem, DOMProps, Node} from \"../../../types/Player\";\r\nimport { addClass, getElementSize, includeClass, removeClass } from \"../../../utils/domUtils\";\r\nimport { storeControlComponent } from \"../../../utils/store\";\r\nimport { Progress } from \"../progress\";\r\nexport class Dot extends Component implements ComponentItem {\r\n    readonly id = \"Dot\";\r\n    props:DOMProps;\r\n    player:Player;\r\n    container: HTMLElement;\r\n    constructor(player:Player,container:HTMLElement,desc?:string,props?:DOMProps,children?:Node[]) {\r\n        super(container, desc, props, children);\r\n        this.props = props || {};\r\n        this.player = player;\r\n        this.container = container;\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        addClass(this.el,[\"video-dot\",\"video-dot-hidden\"]);\r\n        this.initEvent();\r\n        storeControlComponent(this);\r\n    }\r\n    initEvent() {\r\n        this.player.on(\"progress-mouseenter\",(e)=>{\r\n            this.onShowDot(e);\r\n        })\r\n        this.player.on(\"progress-mouseleave\",(e)=>{\r\n            this.onHideDot(e);\r\n        })\r\n        this.player.on(\"progress-click\",(e:MouseEvent, ctx:Progress)=>{\r\n            this.onChangePos(e,ctx);\r\n        })\r\n\r\n        this.player.on(\"timeupdate\",(e) => {\r\n            this.updatePos(e);\r\n        })\r\n    }\r\n\r\n    onShowDot(e:MouseEvent) {\r\n        if(includeClass(this.el,\"video-dot-hidden\")) {\r\n            removeClass(this.el,[\"video-dot-hidden\"]);\r\n        }\r\n    }\r\n    onHideDot(e:MouseEvent) {\r\n        if(!includeClass(this.el,\"video-dot-hidden\")) {\r\n            addClass(this.el,[\"video-dot-hidden\"]);\r\n        }\r\n    }\r\n    onChangePos(e:MouseEvent,ctx: Component) {\r\n        let scale = e.offsetX / ctx.el.offsetWidth;\r\n        if (scale < 0) {\r\n            scale = 0;\r\n        } else if (scale > 1) {\r\n            scale = 1;\r\n        }\r\n        this.el.style.left = e.offsetX - getElementSize(this.el).width / 2 + 'px';\r\n    }\r\n\r\n    updatePos(e:Event) {\r\n        let video = e.target as HTMLVideoElement;\r\n        let scale = video.currentTime / video.duration;\r\n        if(scale < 0) {\r\n            scale = 0;\r\n        } else if(scale > 1) {\r\n            scale = 1;\r\n        }\r\n        this.el.style.left = scale * this.container.clientWidth - getElementSize(this.el).width / 2 + 'px';\r\n    }\r\n}","import { Component } from \"../../../class/Component\";\r\nimport { Player } from \"../../../page/player\";\r\nimport { ComponentItem, DOMProps, Node} from \"../../../types/Player\";\r\nimport { storeControlComponent } from \"../../../utils/store\";\r\nimport { Progress } from \"../progress\";\r\nexport class CompletedProgress extends Component implements ComponentItem {\r\n    readonly id = \"CompletedProgress\";\r\n    props: DOMProps;\r\n    player: Player;\r\n    constructor(player:Player,container:HTMLElement,desc?:string,props?:DOMProps,children?:Node[]) {\r\n        super(container, desc, props, children);\r\n        this.props = props || {};\r\n        this.player = player;\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.initEvent();\r\n\r\n        storeControlComponent(this);\r\n    }\r\n\r\n    initEvent() {\r\n        this.player.on(\"progress-click\",(e:MouseEvent, ctx:Progress)=>{\r\n            this.onChangeSize(e,ctx);\r\n        })\r\n\r\n        this.player.on(\"timeupdate\",(e) => {\r\n            this.updatePos(e);\r\n        })\r\n        // this.player.on(\"volume-progress-click\",(e:MouseEvent,ctx:))\r\n    }\r\n\r\n    onChangeSize(e:MouseEvent,ctx:Component) {\r\n        let scale = e.offsetX / ctx.el.offsetWidth;\r\n        if (scale < 0) {\r\n            scale = 0;\r\n        } else if (scale > 1) {\r\n            scale = 1;\r\n        }\r\n        this.el.style.width = scale * 100 + \"%\";\r\n    }\r\n\r\n    updatePos(e: Event) {\r\n        let video = e.target as HTMLVideoElement;\r\n        let scale = video.currentTime / video.duration;\r\n        if(scale < 0) {\r\n            scale = 0;\r\n        } else if(scale > 1) {\r\n            scale = 1;\r\n        }\r\n        this.el.style.width = scale * 100 + \"%\";\r\n    }\r\n}","import { Component } from \"../../../class/Component\";\r\nimport { Player } from \"../../../page/player\";\r\nimport { ComponentItem, DOMProps, Node} from \"../../../types/Player\";\r\nimport { storeControlComponent } from \"../../../utils/store\";\r\nimport { Progress } from \"../progress\";\r\nexport class BufferedProgress extends Component implements ComponentItem {\r\n    readonly id = \"BufferedProgress\";\r\n    props: DOMProps;\r\n    player: Player;\r\n    constructor(player:Player,container:HTMLElement,desc?:string,props?:DOMProps,children?:Node[]) {\r\n        super(container, desc, props, children);\r\n        this.props = props || {};\r\n        this.player = player;\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.initEvent();\r\n        storeControlComponent(this);\r\n    }\r\n\r\n    initEvent() {\r\n        this.player.on(\"progress-click\", (e: MouseEvent, ctx: Progress) => {\r\n            this.onChangeWidth(e, ctx);\r\n        })\r\n    }\r\n    onChangeWidth(e: MouseEvent, ctx: Component) {\r\n        let scale = e.offsetX / ctx.el.offsetWidth;\r\n        if (scale < 0) {\r\n            scale = 0;\r\n        } else if (scale > 1) {\r\n            scale = 1;\r\n        }\r\n        this.el.style.width = scale * 100 + \"%\";\r\n    }\r\n}","import { Node } from \"../../types/Player\";\nimport { Component } from \"../../class/Component\";\nimport { Player } from \"../../page/player\";\nimport { ComponentItem, DOMProps } from \"../../types/Player\";\nimport { Dot } from \"./parts/Dot\";\nimport { storeControlComponent } from \"../../utils/store\";\nimport { CompletedProgress } from \"./parts/CompletedProgress\";\nimport { BufferedProgress } from \"./parts/BufferedProgress\";\nimport \"./progress.less\"\nexport class Progress extends Component implements ComponentItem {\n  readonly id = \"Progress\";\n  private mouseDown: boolean = false;\n  props: DOMProps;\n  player:Player;\n\n  dot: Dot;\n  completedProgress: CompletedProgress;\n  bufferedProgress: BufferedProgress;\n  constructor(player:Player,container:HTMLElement,desc?:string,props?:DOMProps,children?:Node[]) {\n    super(container,desc,props,children);\n    this.player = player;\n    this.props = props || {}\n    this.init();\n  }\n\n  init() {\n    this.initComponent();\n    this.initEvent()\n    storeControlComponent(this)\n  }\n\n  initComponent() {\n    this.dot = new Dot(this.player,this.el,\"div\");\n    this.completedProgress = new CompletedProgress(this.player,this.el,\"div.video-completed\");\n    this.bufferedProgress = new BufferedProgress(this.player,this.el,\"div.video-buffered\");\n  }\n\n  \n  initEvent() {\n    this.el.onmouseenter = (e) => {\n      this.onMouseenter(e);\n    }\n\n    this.el.onmouseleave = (e) => {\n      this.onMouseleave(e);\n    }\n\n    this.el.onclick = (e) => {\n      this.onClick(e)\n    }\n  }\n\n  onMouseenter(e:MouseEvent) {\n    this.player.emit(\"progress-mouseenter\",e,this);\n  }\n\n  onMouseleave(e:MouseEvent) {\n    this.player.emit(\"progress-mouseleave\",e,this);\n  }\n\n  onClick(e:MouseEvent) {\n    this.player.emit(\"progress-click\",e,this);\n  }\n}\n// import { $warn, BaseEvent, formatTime, styles } from \"../../index\";\n// import { televisionSVG } from \"../SVGTool/TelevisionDotModel\";\n// import \"./pregress.less\";\n// export class Progress extends BaseEvent {\n//   private template_!: HTMLElement | string;\n//   private container!: HTMLElement;\n//   private video!: HTMLVideoElement;\n//   private progress!: HTMLElement;\n//   private bufferedProgress!: HTMLElement;\n//   private completedProgress!: HTMLElement;\n//   private pretime!: HTMLElement;\n//   private dot!: HTMLElement;\n//   private mouseDown: boolean = false;\n//   constructor(container: HTMLElement) {\n//     super();\n//     this.container = container;\n//     this.init();\n//     this.initEvent();\n//   }\n//   get template(): HTMLElement | string {\n//     return this.template_;\n//   }\n//   init() {\n//     this.template_ = `\n//         <div class=\"${styles[\"video-progress\"]}\">\n//             <div class=\"${styles[\"video-pretime\"]}\">00:00</div>\n//             <div class=\"${styles[\"video-buffered\"]}\"></div>\n//             <div class=\"${styles[\"video-completed\"]} \"></div>\n//             <div class=\"${styles[\"video-dot\"]} ${styles[\"video-dot-hidden\"]}\">\n//               ${televisionSVG}\n//             </div>\n//         </div>\n//         `;\n//   }\n//   initProgressEvent() {\n//     this.progress.onmouseenter = () => {\n//       this.dot.className = `${styles[\"video-dot\"]}`;\n//     };\n//     this.progress.onmouseleave = () => {\n//       if (!this.mouseDown) {\n//         this.dot.className = `${styles[\"video-dot\"]} ${styles[\"video-dot-hidden\"]}`;\n//       }\n//     };\n\n//     this.progress.onmousemove = (e: MouseEvent) => {\n//       let scale = e.offsetX / this.progress.offsetWidth;\n//       if (scale < 0) {\n//         scale = 0;\n//       } else if (scale > 1) {\n//         scale = 1;\n//       }\n\n//       let preTime = formatTime(scale * this.video.duration);\n//       this.pretime.style.display = \"block\";\n//       this.pretime.innerHTML = preTime;\n//       this.pretime.style.left = e.offsetX - 17 + \"px\";\n//       e.preventDefault();\n//     };\n\n//     this.progress.onmouseleave = (e: MouseEvent) => {\n//       this.pretime.style.display = \"none\";\n//     };\n//     this.progress.onclick = (e: MouseEvent) => {\n//       let scale = e.offsetX / this.progress.offsetWidth;\n//       if (scale < 0) {\n//         scale = 0;\n//       } else if (scale > 1) {\n//         scale = 1;\n//       }\n//       this.dot.style.left = this.progress.offsetWidth * scale - 5 + \"px\";\n//       this.bufferedProgress.style.width = scale * 100 + \"%\";\n//       this.completedProgress.style.width = scale * 100 + \"%\";\n\n//       this.video.currentTime = Math.floor(scale * this.video.duration);\n//       if (this.video.paused) this.video.play();\n//     };\n\n//     this.dot.addEventListener(\"mousedown\", (e: MouseEvent) => {\n//       let left = this.completedProgress.offsetWidth;\n//       let mouseX = e.pageX;\n//       this.mouseDown = true;\n//       document.onmousemove = (e: MouseEvent) => {\n//         let scale = (e.pageX - mouseX + left) / this.progress.offsetWidth;\n//         if (scale < 0) {\n//           scale = 0;\n//         } else if (scale > 1) {\n//           scale = 1;\n//         }\n//         this.dot.style.left = this.progress.offsetWidth * scale - 5 + \"px\";\n//         this.bufferedProgress.style.width = scale * 100 + \"%\";\n//         this.completedProgress.style.width = scale * 100 + \"%\";\n//         this.video.currentTime = Math.floor(scale * this.video.duration);\n//         if (this.video.paused) this.video.play();\n//         e.preventDefault();\n//       };\n//       document.onmouseup = (e: MouseEvent) => {\n//         document.onmousemove = document.onmouseup = null;\n//         this.mouseDown = false;\n//         e.preventDefault();\n//       };\n//       e.preventDefault();\n//     });\n//   }\n//   initEvent() {\n//     this.on(\"mounted\", () => {\n//       this.progress = this.container.querySelector(\n//         `.${styles[\"video-controls\"]} .${styles[\"video-progress\"]}`\n//       )!;\n//       this.pretime = this.progress.children[0] as HTMLElement;\n//       this.bufferedProgress = this.progress.children[1] as HTMLElement;\n//       this.completedProgress = this.progress.children[2] as HTMLElement;\n//       this.dot = this.progress.children[3] as HTMLElement;\n//       this.video = this.container.querySelector(\"video\")!;\n//       this.initProgressEvent();\n//     });\n//     this.on(\"timeupdate\", (current: number) => {\n//       let scaleCurr = (this.video.currentTime / this.video.duration) * 100;\n//       let scaleBuffer =\n//         ((this.video.buffered.end(0) + this.video.currentTime) /\n//           this.video.duration) *\n//         100;\n//       this.completedProgress.style.width = scaleCurr + \"%\";\n//       this.dot.style.left =\n//         this.progress.offsetWidth * (scaleCurr / 100) - 5 + \"px\";\n//       this.bufferedProgress.style.width = scaleBuffer + \"%\";\n//     });\n//     this.on(\"loadedmetadata\", (summary: number) => {});\n//   }\n// }","import { Options } from \"./Options\";\r\nimport { Player } from \"../../../page/player\";\r\nimport { DOMProps, Node } from \"../../../types/Player\";\r\nimport { storeControlComponent } from \"../../../utils/store\";\r\nimport { subSettingPath } from \"../path/defaultPath\";\r\nimport { $, addClass, createSvg } from \"../../../utils/domUtils\";\r\n\r\nexport class SubSetting extends Options {\r\n    readonly id = 'SubSetting';\r\n    icon:SVGSVGElement;\r\n    constructor(player: Player,container: HTMLElement, desc?: string, props?: DOMProps,children?: Node[]) {\r\n        super(player,container,0,0,desc);\r\n        this.init();\r\n    }\r\n    init() {\r\n        this.initTemplate();\r\n        storeControlComponent(this);\r\n    }\r\n    initTemplate() {\r\n        addClass(this.el,[\"video-subsettings\",\"video-controller\"]);\r\n        addClass(this.hideBox,[\"video-subsettings-set\"])\r\n        this.el[\"aria-label\"] = \"设置\";\r\n        this.icon = createSvg(subSettingPath);\r\n        this.iconBox.appendChild(this.icon);\r\n        this.el.appendChild(this.iconBox);\r\n        this.el.appendChild(this.hideBox);\r\n    }\r\n}","import { Component } from \"../../class/Component\";\r\nimport { Player } from \"../../page/player\";\r\nimport { ComponentConstructor, ComponentItem, DOMProps,Node, PlayerOptions } from \"../../types/Player\";\r\nimport { $, } from \"../../utils/domUtils\";\r\nimport { storeControlComponent,controllersMapping } from \"../../utils/store\";\r\nimport \"./controller.less\";\r\nimport { PlayButton } from \"./parts/PlayButton\";\r\nimport { Volume } from \"./parts/Volume\";\r\nimport { FullScreen } from \"./parts/FullScreen\";\r\nimport { SubSetting } from \"./parts/SubSetting\";\r\nimport { Playrate } from \"./parts/Playrate\";\r\nexport class Controller extends Component implements ComponentItem {\r\n  readonly id = \"Controller\";\r\n  subPlay: HTMLElement;\r\n  settings: HTMLElement;\r\n  props: DOMProps={};\r\n  player: Player;\r\n  // 控件\r\n  // playButton: PlayButton;\r\n  // volume:Volume;\r\n  // FullScreen:FullScreen;\r\n  // playrate: Playrate;\r\n  leftControllers: ComponentConstructor[] = [PlayButton];\r\n  rightController: ComponentConstructor[] = [Playrate,SubSetting,Volume,FullScreen]\r\n  constructor(player:Player,container:HTMLElement, desc?:string,props?:DOMProps,children?:Node[]) {\r\n    super(container,desc,props,children);\r\n    this.player = player;\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.initControllers()\r\n    this.initTemplate();\r\n    this.initComponent();\r\n    storeControlComponent(this)\r\n  }\r\n  initControllers(){\r\n    console.log(this.player.playerOptions,'oop');\r\n    \r\n\r\n    let leftControllers = (this.player.playerOptions as PlayerOptions).leftControllers\r\n    let rightControllers = (this.player.playerOptions as PlayerOptions).rightControllers\r\n    console.log(rightControllers,'rightControllers');\r\n    \r\n    if(leftControllers) {\r\n      this.leftControllers = leftControllers.map(item=>{\r\n        if(typeof item === 'string') {\r\n          if(!controllersMapping[item]) {\r\n            throw new Error(`传入的组件名${item}错误`);\r\n          }\r\n          return controllersMapping[item];\r\n        } else {\r\n          return item;\r\n        }\r\n      })\r\n    } \r\n    if(rightControllers) {\r\n      this.rightController = rightControllers.map(item=>{\r\n        if(typeof item === 'string') {\r\n          if(!controllersMapping[item]) {\r\n            throw new Error(`传入的组件名${item}错误`);\r\n          }\r\n          console.log(item,'item');\r\n          \r\n          return controllersMapping[item];\r\n        } else {\r\n          return item;\r\n        }\r\n      })\r\n      console.log(this.rightController)\r\n    }\r\n  } \r\n  initTemplate() {\r\n    this.subPlay = $(\"div.video-subplay\");\r\n    this.settings = $(\"div.video-settings\");\r\n    this.el.appendChild(this.subPlay);\r\n    this.el.appendChild(this.settings);\r\n  }\r\n\r\n  initComponent() {\r\n    // this.playButton = new PlayButton(this.player,this.subPlay,\"div\");\r\n    // this.playrate = new Playrate(this.player,this.settings,\"div\")\r\n    // this.volume = new Volume(this.player,this.settings,\"div\");\r\n    // // 给元素添加类名\r\n    // this.FullScreen = new FullScreen(this.player,this.settings,\"div\")\r\n\r\n    this.leftControllers.forEach(ControlConstructor => {\r\n      let instance = new ControlConstructor(this.player,this.subPlay,\"div\")\r\n      this[instance.id] = instance;\r\n    })\r\n\r\n\r\n    this.rightController.forEach(ControlConstructor => {\r\n      let instance = new ControlConstructor(this.player,this.settings,\"div\");\r\n      this[instance.id] = instance;\r\n    })\r\n  }\r\n  // private template_: HTMLElement | string;\r\n  // private container: HTMLElement;\r\n  // private video: HTMLVideoElement;\r\n  // private videoPlayBtn: HTMLElement;\r\n  // private currentTime: HTMLElement;\r\n  // private summaryTime: HTMLElement;\r\n  // // 相关的功能元素\r\n  // private fullScreen: HTMLElement;\r\n  // private volumeBtn: HTMLElement;\r\n  // private volumeSet: HTMLElement;\r\n  // private volumeDot: HTMLElement;\r\n  // private volumeProgress: HTMLElement;\r\n  // private volumeCompleted: HTMLElement;\r\n  // private playRate: HTMLElement;\r\n  // private playRateSet: HTMLElement;\r\n  // private resolvePower: HTMLElement;\r\n  // private resolvePowerSet: HTMLElement;\r\n  // private settings: HTMLElement;\r\n  // constructor(container: HTMLElement) {\r\n  //   super();\r\n  //   this.container = container;\r\n  //   this.init();\r\n  //   this.initEvent();\r\n  // }\r\n\r\n  // get template(): HTMLElement | string {\r\n  //   return this.template_;\r\n  // }\r\n\r\n  // init() {\r\n  //   this.template_ = `\r\n  //       <div class=\"${styles[\"video-play\"]}\">\r\n  //           <div class=\"${styles[\"video-subplay\"]}\">\r\n  //               <div class=\"${styles[\"video-start-pause\"]}\">\r\n  //                   <i class=\"${icon[\"iconfont\"]} ${icon[\"icon-bofang\"]}\"></i>\r\n  //               </div>\r\n  //               <div class=\"${styles[\"video-duration\"]}\">\r\n  //                   <span class=\"${styles[\"video-duration-completed\"]}\">00:00</span>&nbsp;/&nbsp;<span class=\"${styles[\"video-duration-all\"]}\">00:00</span>\r\n  //               </div>\r\n  //           </div>\r\n  //           <div class=\"${styles[\"video-settings\"]}\">\r\n  //               <div class=\"${styles[\"video-resolvepower\"]} ${styles[\"video-controller\"]}\" aria-label=\"分辨率\">\r\n  //                   分辨率\r\n  //                   <ul class=\"${styles[\"video-resolvepower-set\"]}\" style=\"display:none;bottom:41px\">\r\n  //                     <li><span>1080p超清</span></li>\r\n  //                     <li><span>720p高清</span></li>\r\n  //                     <li><span>480p标清</span></li>\r\n  //                     <li><span>360p流畅</span></li>\r\n  //                     <li><span>自动</span></li>\r\n  //                   </ul>\r\n  //               </div>\r\n  //               <div class=\"${styles[\"video-playrate\"]} ${styles[\"video-controller\"]}\" aria-label=\"倍速\">\r\n  //                   倍速\r\n  //                   <ul class=\"${styles[\"video-playrate-set\"]}\" aria-label=\"调节播放速度\" style=\"display:none; bottom:41px\">\r\n  //                     <li>2.0x</li>\r\n  //                     <li>1.5x</li>\r\n  //                     <li>1.25x</li>\r\n  //                     <li>1.0x</li>\r\n  //                     <li>0.75x</li>\r\n  //                     <li>0.5x</li>\r\n  //                   </ul>\r\n  //               </div>\r\n  //               <div class=\"${styles[\"video-volume\"]} ${styles[\"video-controller\"]}\" aria-label=\"音量\">\r\n  //                   <div class=\"${styles[\"video-volume-set\"]}\" aria-label=\"调节音量\" style=\"display:none; bottom:41px\" >\r\n  //                     <div class=\"${styles[\"video-volume-show\"]}\">48</div>\r\n  //                     <div class=\"${styles[\"video-volume-progress\"]}\" style=\"height: 70px\">\r\n  //                       <div class=\"${styles[\"video-volume-completed\"]}\" style=\"height: 0\"></div>\r\n  //                       <div class=\"${styles[\"video-volume-dot\"]}\" style=\"bottom: 100%\"></div>\r\n  //                     </div>\r\n  //                   </div>\r\n  //                   <div class=\"${styles[\"video-icon\"]}\">${volumeSVG}</div>\r\n  //               </div>\r\n  //               <div class=\"${styles[\"video-subsettings\"]} ${styles[\"video-controller\"]}\" aria-label=\"设置\">\r\n  //                 <div class=\"${styles[\"video-icon\"]}\">${settingSVG}</div>\r\n  //               </div>\r\n  //               <div class=\"${styles[\"video-fullscreen\"]} ${styles[\"video-controller\"]}\" aria-label=\"全屏\">\r\n  //                 <div class=\"${styles[\"video-icon\"]}\">${fullScreenSVG}</div>  \r\n  //               </div>\r\n  //           </div>\r\n  //       </div>\r\n  //   `;\r\n  // }\r\n\r\n  // initControllerEvent() {\r\n  //   this.volumeCompleted.style.height = this.video.volume * 100 + \"%\";\r\n  //   this.volumeDot.style.bottom = \r\n  //     parseInt(this.volumeProgress.style.height) * this.video.volume - 6 + \"px\";\r\n\r\n  //   /**\r\n  //    * @description 监听鼠标的点击事件来决定是否暂停还是播放视频\r\n  //    */\r\n  //   this.videoPlayBtn.onclick = (e: MouseEvent) => {\r\n  //     if (this.video.paused) {\r\n  //       this.video.play();\r\n  //     } else if (this.video.played) {\r\n  //       this.video.pause();\r\n  //     }\r\n  //   };\r\n\r\n  //   /**\r\n  //    * @description 点击进入全屏模式\r\n  //    */\r\n  //   this.fullScreen.onclick = () => {\r\n  //     if (this.container.requestFullscreen && !document.fullscreenElement) {\r\n  //       this.container.requestFullscreen(); //该函数请求全屏\r\n  //     } else if (document.fullscreenElement) {\r\n  //       document.exitFullscreen(); //退出全屏函数仅仅绑定在document对象上，该点需要切记！！！\r\n  //     }\r\n  //   };\r\n  //   /**\r\n  //    * @desciption 显示音量的设置\r\n  //    * TODO:这部分控制选项的显示和隐藏的逻辑可以复用\r\n  //    */\r\n  //   this.volumeBtn.onmouseenter = (e) => {\r\n  //     this.volumeSet.style.display = \"block\";\r\n  //     let ctx = this;\r\n  //     document.body.onmousemove = (e:MouseEvent) => {\r\n  //       ctx.handleMouseMove(e,\"volume\");\r\n  //     }\r\n  //   }\r\n\r\n  //   this.playRate.onmouseenter = (e) => {\r\n  //     this.playRateSet.style.display = \"block\";\r\n  //     let ctx = this;\r\n  //     document.body.onmousemove = (e:MouseEvent) => {\r\n  //       ctx.handleMouseMove(e,\"playrate\");\r\n  //     }\r\n  //   }\r\n\r\n  //   this.resolvePower.onmouseenter = (e) => {\r\n  //     this.resolvePowerSet.style.display = \"block\";\r\n  //     let ctx = this;\r\n  //     document.body.onmousemove = (e:MouseEvent) => {\r\n  //       ctx.handleMouseMove(e,\"resolvepower\");\r\n  //     }\r\n  //   }\r\n  //   // this.volumeProgress.onclick = (e:MouseEvent) => {\r\n  //   //   console.log(e.offsetY,this.volumeProgress.clientHeight)\r\n  //   //   let offsetY = this.volumeProgress.clientHeight - e.offsetY;\r\n  //   //   let scale = offsetY / this.volumeProgress.clientHeight;\r\n  //   //   if (scale < 0) {\r\n  //   //     scale = 0;\r\n  //   //   } else if (scale > 1) {\r\n  //   //     scale = 1;\r\n  //   //   }\r\n  //   //   this.volumeCompleted.style.height = scale * 100 + \"%\"\r\n  //   //   this.volumeDot.style.bottom = this.volumeProgress.clientHeight * scale - 6 + \"px\";\r\n  //   // }\r\n\r\n  //   this.volumeDot.onmousedown = (e:MouseEvent) => {\r\n  //     let mouseY = e.pageY;\r\n  //     let comHeight = this.volumeCompleted.clientHeight;\r\n  //     document.onmousemove = (e:MouseEvent) => {\r\n  //       let pageY = e.pageY;\r\n  //       let scale = (mouseY - pageY + comHeight) / this.volumeProgress.clientHeight;\r\n  //       if(scale > 1) scale = 1;\r\n  //       else if(scale < 0) scale = 0;\r\n  //       this.volumeCompleted.style.height = scale * 100 + \"%\";\r\n  //       this.volumeDot.style.bottom = this.volumeProgress.clientHeight * scale - 6 + \"px\";\r\n  //       this.video.volume = scale;\r\n  //     }\r\n  //     document.onmouseup = () => {\r\n  //       document.onmousemove = null;\r\n  //     }\r\n  //     e.preventDefault();\r\n  //   }\r\n  // }\r\n\r\n  // initEvent() {\r\n  //   this.on(\"play\", () => {\r\n  //     this.videoPlayBtn.className = `${icon[\"iconfont\"]} ${icon[\"icon-zanting\"]}`;\r\n  //   });\r\n\r\n  //   this.on(\"pause\", () => {\r\n  //     this.videoPlayBtn.className = `${icon[\"iconfont\"]} ${icon[\"icon-bofang\"]}`;\r\n  //   });\r\n\r\n  //   this.on(\"loadedmetadata\", (summary: number) => {\r\n  //     this.summaryTime.innerHTML = formatTime(summary);\r\n  //   });\r\n\r\n  //   this.on(\"timeupdate\", (current: number) => {\r\n  //     this.currentTime.innerHTML = formatTime(current);\r\n  //   });\r\n\r\n  //   /**\r\n  //    * @description 模板字符已经渲染到页面上，可以获取DOM元素了\r\n  //    */\r\n  //   this.on(\"mounted\", () => {\r\n  //     this.videoPlayBtn = this.container.querySelector(\r\n  //       `.${styles[\"video-start-pause\"]} i`\r\n  //     );\r\n  //     this.currentTime = this.container.querySelector(\r\n  //       `.${styles[\"video-duration-completed\"]}`\r\n  //     );\r\n  //     this.summaryTime = this.container.querySelector(\r\n  //       `.${styles[\"video-duration-all\"]}`\r\n  //     );\r\n\r\n  //     this.video = this.container.querySelector(\"video\")!;\r\n  //     this.fullScreen = this.container.querySelector(\r\n  //       `.${styles[\"video-fullscreen\"]}`\r\n  //     );\r\n  //     this.volumeBtn = this.container.querySelector(`.${styles[\"video-volume\"]}`);\r\n  //     this.volumeSet = this.container.querySelector(`.${styles[\"video-volume-set\"]}`);\r\n  //     this.volumeCompleted = this.container.querySelector(`.${styles[\"video-volume-completed\"]}`);\r\n  //     this.volumeProgress = this.container.querySelector(`.${styles[\"video-volume-progress\"]}`);\r\n  //     this.volumeDot = this.container.querySelector(`.${styles[\"video-volume-dot\"]}`);\r\n\r\n  //     this.playRate = this.container.querySelector(`.${styles[\"video-playrate\"]}`);\r\n  //     this.playRateSet = this.container.querySelector(`.${styles[\"video-playrate-set\"]}`);\r\n\r\n  //     this.resolvePower = this.container.querySelector(`.${styles[\"video-resolvepower\"]}`);\r\n  //     this.resolvePowerSet = this.container.querySelector(`.${styles[\"video-resolvepower-set\"]}`);\r\n  //     this.initControllerEvent();\r\n  //   });\r\n  // }\r\n\r\n  // handleMouseMove(e:MouseEvent,type:\"volume\" | \"playrate\" | \"resolvepower\") {\r\n  //   let pX = e.pageX,pY = e.pageY;\r\n  //   let ctx = this;\r\n  //   if(type === \"volume\") {\r\n  //     if(!checkIsMouseInRange(ctx.volumeBtn,ctx.volumeSet,pX,pY)) {\r\n  //       ctx.volumeSet.style.display = \"none\"\r\n  //       document.body.onmousemove = null;\r\n  //     }\r\n  //   } else if(type === \"playrate\") {\r\n  //     if(!checkIsMouseInRange(ctx.playRate,ctx.playRateSet,pX,pY)) {\r\n  //       ctx.playRateSet.style.display = \"none\";\r\n  //       document.body.onmousemove = null;\r\n  //     }\r\n  //   } else if(type === \"resolvepower\") {\r\n  //     if(!checkIsMouseInRange(ctx.resolvePower,ctx.resolvePowerSet,pX,pY)) {\r\n  //       ctx.resolvePowerSet.style.display = \"none\";\r\n  //       document.body.onmousemove = null;\r\n  //       document.onmousemove = null;\r\n  //     }\r\n  //   }\r\n  // }\r\n}","import { Time } from \"../types/dash/Time\";\r\nexport function addZero(num: number): string {\r\n  return num > 9 ? num + \"\" : \"0\" + num;\r\n}\r\n\r\nexport function formatTime(seconds: number): string {\r\n  seconds = Math.floor(seconds);\r\n  let minute = Math.floor(seconds / 60);\r\n  let second = seconds % 60;\r\n  return addZero(minute) + \":\" + addZero(second);\r\n}\r\nexport function switchToSeconds(time: Time): number {\r\n  let sum = 0;\r\n  if (time.hours) sum += time.hours * 3600;\r\n  if (time.minutes) sum += time.minutes * 60;\r\n  if (time.seconds) sum += time.seconds;\r\n\r\n  return sum;\r\n}\r\n\r\n// 解析MPD文件的时间字符串\r\nexport function parseDuration(pt: string): Time {\r\n  // Parse time from format \"PT#H#M##.##S\"\r\n  let hours = 0, minutes = 0, seconds = 0;\r\n  for (let i = pt.length - 1; i >= 0; i--) {\r\n    if (pt[i] === \"S\") {\r\n      let j = i;\r\n      while (pt[i] !== \"M\" && pt[i] !== \"H\" && pt[i] !== \"T\") {\r\n        i--;\r\n      }\r\n      i += 1;\r\n      seconds = parseInt(pt.slice(i, j));\r\n    } else if (pt[i] === \"M\") {\r\n      let j = i;\r\n      while (pt[i] !== \"H\" && pt[i] !== \"T\") {\r\n        i--;\r\n      }\r\n      i += 1;\r\n      minutes = parseInt(pt.slice(i, j));\r\n    } else if (pt[i] === \"H\") {\r\n      let j = i;\r\n      while (pt[i] !== \"T\") {\r\n        i--;\r\n      }\r\n      i += 1;\r\n      hours = parseInt(pt.slice(i, j));\r\n    }\r\n  }\r\n  return {\r\n    hours,\r\n    minutes,\r\n    seconds,\r\n  };\r\n}","// file:src/log.js\n/* \n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar Log = (function (){\n\t\tvar start = new Date();\n\t\tvar LOG_LEVEL_ERROR \t= 4;\n\t\tvar LOG_LEVEL_WARNING \t= 3;\n\t\tvar LOG_LEVEL_INFO \t\t= 2;\n\t\tvar LOG_LEVEL_DEBUG\t\t= 1;\n\t\tvar log_level = LOG_LEVEL_ERROR;\n\t\tvar logObject = {\n\t\t\tsetLogLevel : function(level) {\n\t\t\t\tif (level == this.debug) log_level = LOG_LEVEL_DEBUG;\n\t\t\t\telse if (level == this.info) log_level = LOG_LEVEL_INFO;\n\t\t\t\telse if (level == this.warn) log_level = LOG_LEVEL_WARNING;\n\t\t\t\telse if (level == this.error) log_level = LOG_LEVEL_ERROR;\n\t\t\t\telse log_level = LOG_LEVEL_ERROR;\n\t\t\t},\n\t\t\tdebug : function(module, msg) {\n\t\t\t\tif (console.debug === undefined) {\n\t\t\t\t\tconsole.debug = console.log;\n\t\t\t\t}\n\t\t\t\tif (LOG_LEVEL_DEBUG >= log_level) {\n\t\t\t\t\tconsole.debug(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t},\n\t\t\tlog : function(module, msg) {\n\t\t\t\tthis.debug(module.msg)\n\t\t\t},\n\t\t\tinfo : function(module, msg) {\n\t\t\t\tif (LOG_LEVEL_INFO >= log_level) {\n\t\t\t\t\tconsole.info(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t},\n\t\t\twarn : function(module, msg) {\n\t\t\t\tif (LOG_LEVEL_WARNING >= log_level) {\n\t\t\t\t\tconsole.warn(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t},\n\t\t\terror : function(module, msg) {\n\t\t\t\tif (LOG_LEVEL_ERROR >= log_level) {\n\t\t\t\t\tconsole.error(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn logObject;\n\t})();\n\t\n/* Helper function to print a duration value in the form H:MM:SS.MS */\nLog.getDurationString = function(duration, _timescale) {\n\tvar neg;\n\t/* Helper function to print a number on a fixed number of digits */\n\tfunction pad(number, length) {\n\t\tvar str = '' + number;\n\t\tvar a = str.split('.');\t\t\n\t\twhile (a[0].length < length) {\n\t\t\ta[0] = '0' + a[0];\n\t\t}\n\t\treturn a.join('.');\n\t}\n\tif (duration < 0) {\n\t\tneg = true;\n\t\tduration = -duration;\n\t} else {\n\t\tneg = false;\t\n\t}\n\tvar timescale = _timescale || 1;\n\tvar duration_sec = duration/timescale;\n\tvar hours = Math.floor(duration_sec/3600);\n\tduration_sec -= hours * 3600;\n\tvar minutes = Math.floor(duration_sec/60);\n\tduration_sec -= minutes * 60;\t\t\n\tvar msec = duration_sec*1000;\n\tduration_sec = Math.floor(duration_sec);\n\tmsec -= duration_sec*1000;\n\tmsec = Math.floor(msec);\n\treturn (neg ? \"-\": \"\")+hours+\":\"+pad(minutes,2)+\":\"+pad(duration_sec,2)+\".\"+pad(msec,3);\n}\n\t\n/* Helper function to stringify HTML5 TimeRanges objects */\t\nLog.printRanges = function(ranges) {\n\tvar length = ranges.length;\n\tif (length > 0) {\n\t\tvar str = \"\";\n\t\tfor (var i = 0; i < length; i++) {\n\t\t  if (i > 0) str += \",\";\n\t\t  str += \"[\"+Log.getDurationString(ranges.start(i))+ \",\"+Log.getDurationString(ranges.end(i))+\"]\";\n\t\t}\n\t\treturn str;\n\t} else {\n\t\treturn \"(empty)\";\n\t}\n}\n\nif (typeof exports !== 'undefined') {\n\texports.Log = Log;\n}\n// file:src/stream.js\nvar MP4BoxStream = function(arrayBuffer) {\n  if (arrayBuffer instanceof ArrayBuffer) {\n    this.buffer = arrayBuffer;\n    this.dataview = new DataView(arrayBuffer);\n  } else {\n    throw (\"Needs an array buffer\");\n  }\n  this.position = 0;\n};\n\n/*************************************************************************\n  Common API between MultiBufferStream and SimpleStream\n *************************************************************************/\nMP4BoxStream.prototype.getPosition = function() {\n  return this.position;\n}\n\nMP4BoxStream.prototype.getEndPosition = function() {\n  return this.buffer.byteLength;\n}\n\nMP4BoxStream.prototype.getLength = function() {\n  return this.buffer.byteLength;\n}\n\nMP4BoxStream.prototype.seek = function (pos) {\n  var npos = Math.max(0, Math.min(this.buffer.byteLength, pos));\n  this.position = (isNaN(npos) || !isFinite(npos)) ? 0 : npos;\n  return true;\n}\n\nMP4BoxStream.prototype.isEos = function () {\n  return this.getPosition() >= this.getEndPosition();\n}\n\n/*************************************************************************\n  Read methods, simimar to DataStream but simpler\n *************************************************************************/\nMP4BoxStream.prototype.readAnyInt = function(size, signed) {\n  var res = 0;\n  if (this.position + size <= this.buffer.byteLength) {\n    switch (size) {\n      case 1:\n        if (signed) {\n          res = this.dataview.getInt8(this.position);\n        } else {\n          res = this.dataview.getUint8(this.position);\n        }\n        break;\n      case 2:\n        if (signed) {\n          res = this.dataview.getInt16(this.position);\n        } else {\n          res = this.dataview.getUint16(this.position);\n        }\n        break;\n      case 3:\n        if (signed) {\n          throw (\"No method for reading signed 24 bits values\");\n        } else {\n          res = this.dataview.getUint8(this.position) << 16;\n          res |= this.dataview.getUint8(this.position+1) << 8;\n          res |= this.dataview.getUint8(this.position+2);\n        }\n        break;\n      case 4:\n        if (signed) {\n          res = this.dataview.getInt32(this.position);\n        } else {\n          res = this.dataview.getUint32(this.position);\n        }\n        break;\n      case 8:\n        if (signed) {\n          throw (\"No method for reading signed 64 bits values\");\n        } else {\n          res = this.dataview.getUint32(this.position) << 32;\n          res |= this.dataview.getUint32(this.position+4);\n        }\n        break;\n      default:\n        throw (\"readInt method not implemented for size: \"+size);\n    }\n    this.position+= size;\n    return res;\n  } else {\n    throw (\"Not enough bytes in buffer\");\n  }\n}\n\nMP4BoxStream.prototype.readUint8 = function() {\n  return this.readAnyInt(1, false);\n}\n\nMP4BoxStream.prototype.readUint16 = function() {\n  return this.readAnyInt(2, false);\n}\n\nMP4BoxStream.prototype.readUint24 = function() {\n  return this.readAnyInt(3, false);\n}\n\nMP4BoxStream.prototype.readUint32 = function() {\n  return this.readAnyInt(4, false);\n}\n\nMP4BoxStream.prototype.readUint64 = function() {\n  return this.readAnyInt(8, false);\n}\n\nMP4BoxStream.prototype.readString = function(length) {\n  if (this.position + length <= this.buffer.byteLength) {\n    var s = \"\";\n    for (var i = 0; i < length; i++) {\n      s += String.fromCharCode(this.readUint8());\n    }\n    return s;\n  } else {\n    throw (\"Not enough bytes in buffer\");\n  }\n}\n\nMP4BoxStream.prototype.readCString = function() {\n  var arr = [];\n  while(true) {\n    var b = this.readUint8();\n    if (b !== 0) {\n      arr.push(b);\n    } else {\n      break;\n    }\n  }\n  return String.fromCharCode.apply(null, arr); \n}\n\nMP4BoxStream.prototype.readInt8 = function() {\n  return this.readAnyInt(1, true);\n}\n\nMP4BoxStream.prototype.readInt16 = function() {\n  return this.readAnyInt(2, true);\n}\n\nMP4BoxStream.prototype.readInt32 = function() {\n  return this.readAnyInt(4, true);\n}\n\nMP4BoxStream.prototype.readInt64 = function() {\n  return this.readAnyInt(8, false);\n}\n\nMP4BoxStream.prototype.readUint8Array = function(length) {\n  var arr = new Uint8Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readUint8();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readInt16Array = function(length) {\n  var arr = new Int16Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readInt16();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readUint16Array = function(length) {\n  var arr = new Int16Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readUint16();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readUint32Array = function(length) {\n  var arr = new Uint32Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readUint32();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readInt32Array = function(length) {\n  var arr = new Int32Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readInt32();\n  }\n  return arr;\n}\n\nif (typeof exports !== 'undefined') {\n  exports.MP4BoxStream = MP4BoxStream;\n}// file:src/DataStream.js\n/**\n  DataStream reads scalars, arrays and structs of data from an ArrayBuffer.\n  It's like a file-like DataView on steroids.\n\n  @param {ArrayBuffer} arrayBuffer ArrayBuffer to read from.\n  @param {?Number} byteOffset Offset from arrayBuffer beginning for the DataStream.\n  @param {?Boolean} endianness DataStream.BIG_ENDIAN or DataStream.LITTLE_ENDIAN (the default).\n  */\nvar DataStream = function(arrayBuffer, byteOffset, endianness) {\n  this._byteOffset = byteOffset || 0;\n  if (arrayBuffer instanceof ArrayBuffer) {\n    this.buffer = arrayBuffer;\n  } else if (typeof arrayBuffer == \"object\") {\n    this.dataView = arrayBuffer;\n    if (byteOffset) {\n      this._byteOffset += byteOffset;\n    }\n  } else {\n    this.buffer = new ArrayBuffer(arrayBuffer || 0);\n  }\n  this.position = 0;\n  this.endianness = endianness == null ? DataStream.LITTLE_ENDIAN : endianness;\n};\nDataStream.prototype = {};\n\nDataStream.prototype.getPosition = function() {\n  return this.position;\n}\n\n/**\n  Internal function to resize the DataStream buffer when required.\n  @param {number} extra Number of bytes to add to the buffer allocation.\n  @return {null}\n  */\nDataStream.prototype._realloc = function(extra) {\n  if (!this._dynamicSize) {\n    return;\n  }\n  var req = this._byteOffset + this.position + extra;\n  var blen = this._buffer.byteLength;\n  if (req <= blen) {\n    if (req > this._byteLength) {\n      this._byteLength = req;\n    }\n    return;\n  }\n  if (blen < 1) {\n    blen = 1;\n  }\n  while (req > blen) {\n    blen *= 2;\n  }\n  var buf = new ArrayBuffer(blen);\n  var src = new Uint8Array(this._buffer);\n  var dst = new Uint8Array(buf, 0, src.length);\n  dst.set(src);\n  this.buffer = buf;\n  this._byteLength = req;\n};\n\n/**\n  Internal function to trim the DataStream buffer when required.\n  Used for stripping out the extra bytes from the backing buffer when\n  the virtual byteLength is smaller than the buffer byteLength (happens after\n  growing the buffer with writes and not filling the extra space completely).\n\n  @return {null}\n  */\nDataStream.prototype._trimAlloc = function() {\n  if (this._byteLength == this._buffer.byteLength) {\n    return;\n  }\n  var buf = new ArrayBuffer(this._byteLength);\n  var dst = new Uint8Array(buf);\n  var src = new Uint8Array(this._buffer, 0, dst.length);\n  dst.set(src);\n  this.buffer = buf;\n};\n\n\n/**\n  Big-endian const to use as default endianness.\n  @type {boolean}\n  */\nDataStream.BIG_ENDIAN = false;\n\n/**\n  Little-endian const to use as default endianness.\n  @type {boolean}\n  */\nDataStream.LITTLE_ENDIAN = true;\n\n/**\n  Virtual byte length of the DataStream backing buffer.\n  Updated to be max of original buffer size and last written size.\n  If dynamicSize is false is set to buffer size.\n  @type {number}\n  */\nDataStream.prototype._byteLength = 0;\n\n/**\n  Returns the byte length of the DataStream object.\n  @type {number}\n  */\nObject.defineProperty(DataStream.prototype, 'byteLength',\n  { get: function() {\n    return this._byteLength - this._byteOffset;\n  }});\n\n/**\n  Set/get the backing ArrayBuffer of the DataStream object.\n  The setter updates the DataView to point to the new buffer.\n  @type {Object}\n  */\nObject.defineProperty(DataStream.prototype, 'buffer',\n  { get: function() {\n      this._trimAlloc();\n      return this._buffer;\n    },\n    set: function(v) {\n      this._buffer = v;\n      this._dataView = new DataView(this._buffer, this._byteOffset);\n      this._byteLength = this._buffer.byteLength;\n    } });\n\n/**\n  Set/get the byteOffset of the DataStream object.\n  The setter updates the DataView to point to the new byteOffset.\n  @type {number}\n  */\nObject.defineProperty(DataStream.prototype, 'byteOffset',\n  { get: function() {\n      return this._byteOffset;\n    },\n    set: function(v) {\n      this._byteOffset = v;\n      this._dataView = new DataView(this._buffer, this._byteOffset);\n      this._byteLength = this._buffer.byteLength;\n    } });\n\n/**\n  Set/get the backing DataView of the DataStream object.\n  The setter updates the buffer and byteOffset to point to the DataView values.\n  @type {Object}\n  */\nObject.defineProperty(DataStream.prototype, 'dataView',\n  { get: function() {\n      return this._dataView;\n    },\n    set: function(v) {\n      this._byteOffset = v.byteOffset;\n      this._buffer = v.buffer;\n      this._dataView = new DataView(this._buffer, this._byteOffset);\n      this._byteLength = this._byteOffset + v.byteLength;\n    } });\n\n/**\n  Sets the DataStream read/write position to given position.\n  Clamps between 0 and DataStream length.\n\n  @param {number} pos Position to seek to.\n  @return {null}\n  */\nDataStream.prototype.seek = function(pos) {\n  var npos = Math.max(0, Math.min(this.byteLength, pos));\n  this.position = (isNaN(npos) || !isFinite(npos)) ? 0 : npos;\n};\n\n/**\n  Returns true if the DataStream seek pointer is at the end of buffer and\n  there's no more data to read.\n\n  @return {boolean} True if the seek pointer is at the end of the buffer.\n  */\nDataStream.prototype.isEof = function() {\n  return (this.position >= this._byteLength);\n};\n\n\n/**\n  Maps a Uint8Array into the DataStream buffer.\n\n  Nice for quickly reading in data.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Uint8Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapUint8Array = function(length) {\n  this._realloc(length * 1);\n  var arr = new Uint8Array(this._buffer, this.byteOffset+this.position, length);\n  this.position += length * 1;\n  return arr;\n};\n\n\n/**\n  Reads an Int32Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Int32Array.\n */\nDataStream.prototype.readInt32Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 4) : length;\n  var arr = new Int32Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads an Int16Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Int16Array.\n */\nDataStream.prototype.readInt16Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 2) : length;\n  var arr = new Int16Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads an Int8Array of desired length from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Int8Array.\n */\nDataStream.prototype.readInt8Array = function(length) {\n  length = length == null ? (this.byteLength-this.position) : length;\n  var arr = new Int8Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Uint32Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Uint32Array.\n */\nDataStream.prototype.readUint32Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 4) : length;\n  var arr = new Uint32Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Uint16Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Uint16Array.\n */\nDataStream.prototype.readUint16Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 2) : length;\n  var arr = new Uint16Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Uint8Array of desired length from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Uint8Array.\n */\nDataStream.prototype.readUint8Array = function(length) {\n  length = length == null ? (this.byteLength-this.position) : length;\n  var arr = new Uint8Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Float64Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Float64Array.\n */\nDataStream.prototype.readFloat64Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 8) : length;\n  var arr = new Float64Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Float32Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Float32Array.\n */\nDataStream.prototype.readFloat32Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 4) : length;\n  var arr = new Float32Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n\n/**\n  Reads a 32-bit int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readInt32 = function(e) {\n  var v = this._dataView.getInt32(this.position, e == null ? this.endianness : e);\n  this.position += 4;\n  return v;\n};\n\n/**\n  Reads a 16-bit int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readInt16 = function(e) {\n  var v = this._dataView.getInt16(this.position, e == null ? this.endianness : e);\n  this.position += 2;\n  return v;\n};\n\n/**\n  Reads an 8-bit int from the DataStream.\n\n  @return {number} The read number.\n */\nDataStream.prototype.readInt8 = function() {\n  var v = this._dataView.getInt8(this.position);\n  this.position += 1;\n  return v;\n};\n\n/**\n  Reads a 32-bit unsigned int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readUint32 = function(e) {\n  var v = this._dataView.getUint32(this.position, e == null ? this.endianness : e);\n  this.position += 4;\n  return v;\n};\n\n/**\n  Reads a 16-bit unsigned int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readUint16 = function(e) {\n  var v = this._dataView.getUint16(this.position, e == null ? this.endianness : e);\n  this.position += 2;\n  return v;\n};\n\n/**\n  Reads an 8-bit unsigned int from the DataStream.\n\n  @return {number} The read number.\n */\nDataStream.prototype.readUint8 = function() {\n  var v = this._dataView.getUint8(this.position);\n  this.position += 1;\n  return v;\n};\n\n/**\n  Reads a 32-bit float from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readFloat32 = function(e) {\n  var v = this._dataView.getFloat32(this.position, e == null ? this.endianness : e);\n  this.position += 4;\n  return v;\n};\n\n/**\n  Reads a 64-bit float from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readFloat64 = function(e) {\n  var v = this._dataView.getFloat64(this.position, e == null ? this.endianness : e);\n  this.position += 8;\n  return v;\n};\n\n/**\n  Native endianness. Either DataStream.BIG_ENDIAN or DataStream.LITTLE_ENDIAN\n  depending on the platform endianness.\n\n  @type {boolean}\n */\nDataStream.endianness = new Int8Array(new Int16Array([1]).buffer)[0] > 0;\n\n/**\n  Copies byteLength bytes from the src buffer at srcOffset to the\n  dst buffer at dstOffset.\n\n  @param {Object} dst Destination ArrayBuffer to write to.\n  @param {number} dstOffset Offset to the destination ArrayBuffer.\n  @param {Object} src Source ArrayBuffer to read from.\n  @param {number} srcOffset Offset to the source ArrayBuffer.\n  @param {number} byteLength Number of bytes to copy.\n */\nDataStream.memcpy = function(dst, dstOffset, src, srcOffset, byteLength) {\n  var dstU8 = new Uint8Array(dst, dstOffset, byteLength);\n  var srcU8 = new Uint8Array(src, srcOffset, byteLength);\n  dstU8.set(srcU8);\n};\n\n/**\n  Converts array to native endianness in-place.\n\n  @param {Object} array Typed array to convert.\n  @param {boolean} arrayIsLittleEndian True if the data in the array is\n                                       little-endian. Set false for big-endian.\n  @return {Object} The converted typed array.\n */\nDataStream.arrayToNative = function(array, arrayIsLittleEndian) {\n  if (arrayIsLittleEndian == this.endianness) {\n    return array;\n  } else {\n    return this.flipArrayEndianness(array);\n  }\n};\n\n/**\n  Converts native endianness array to desired endianness in-place.\n\n  @param {Object} array Typed array to convert.\n  @param {boolean} littleEndian True if the converted array should be\n                                little-endian. Set false for big-endian.\n  @return {Object} The converted typed array.\n */\nDataStream.nativeToEndian = function(array, littleEndian) {\n  if (this.endianness == littleEndian) {\n    return array;\n  } else {\n    return this.flipArrayEndianness(array);\n  }\n};\n\n/**\n  Flips typed array endianness in-place.\n\n  @param {Object} array Typed array to flip.\n  @return {Object} The converted typed array.\n */\nDataStream.flipArrayEndianness = function(array) {\n  var u8 = new Uint8Array(array.buffer, array.byteOffset, array.byteLength);\n  for (var i=0; i<array.byteLength; i+=array.BYTES_PER_ELEMENT) {\n    for (var j=i+array.BYTES_PER_ELEMENT-1, k=i; j>k; j--, k++) {\n      var tmp = u8[k];\n      u8[k] = u8[j];\n      u8[j] = tmp;\n    }\n  }\n  return array;\n};\n\n/**\n  Seek position where DataStream#readStruct ran into a problem.\n  Useful for debugging struct parsing.\n\n  @type {number}\n */\nDataStream.prototype.failurePosition = 0;\n\nString.fromCharCodeUint8 = function(uint8arr) {\n    var arr = [];\n    for (var i = 0; i < uint8arr.length; i++) {\n      arr[i] = uint8arr[i];\n    }\n    return String.fromCharCode.apply(null, arr);\n}\n/**\n  Read a string of desired length and encoding from the DataStream.\n\n  @param {number} length The length of the string to read in bytes.\n  @param {?string} encoding The encoding of the string data in the DataStream.\n                            Defaults to ASCII.\n  @return {string} The read string.\n */\nDataStream.prototype.readString = function(length, encoding) {\n  if (encoding == null || encoding == \"ASCII\") {\n    return String.fromCharCodeUint8.apply(null, [this.mapUint8Array(length == null ? this.byteLength-this.position : length)]);\n  } else {\n    return (new TextDecoder(encoding)).decode(this.mapUint8Array(length));\n  }\n};\n\n/**\n  Read null-terminated string of desired length from the DataStream. Truncates\n  the returned string so that the null byte is not a part of it.\n\n  @param {?number} length The length of the string to read.\n  @return {string} The read string.\n */\nDataStream.prototype.readCString = function(length) {\n  var blen = this.byteLength-this.position;\n  var u8 = new Uint8Array(this._buffer, this._byteOffset + this.position);\n  var len = blen;\n  if (length != null) {\n    len = Math.min(length, blen);\n  }\n  for (var i = 0; i < len && u8[i] !== 0; i++); // find first zero byte\n  var s = String.fromCharCodeUint8.apply(null, [this.mapUint8Array(i)]);\n  if (length != null) {\n    this.position += len-i;\n  } else if (i != blen) {\n    this.position += 1; // trailing zero if not at end of buffer\n  }\n  return s;\n};\n\n/* \n   TODO: fix endianness for 24/64-bit fields\n   TODO: check range/support for 64-bits numbers in JavaScript\n*/\nvar MAX_SIZE = Math.pow(2, 32);\n\nDataStream.prototype.readInt64 = function () {\n  return (this.readInt32()*MAX_SIZE)+this.readUint32();\n}\nDataStream.prototype.readUint64 = function () {\n\treturn (this.readUint32()*MAX_SIZE)+this.readUint32();\n}\n\nDataStream.prototype.readInt64 = function () {\n  return (this.readUint32()*MAX_SIZE)+this.readUint32();\n}\n\nDataStream.prototype.readUint24 = function () {\n\treturn (this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8();\n}\n\nif (typeof exports !== 'undefined') {\n  exports.DataStream = DataStream;  \n}\n// file:src/DataStream-write.js\n/**\n  Saves the DataStream contents to the given filename.\n  Uses Chrome's anchor download property to initiate download.\n \n  @param {string} filename Filename to save as.\n  @return {null}\n  */\nDataStream.prototype.save = function(filename) {\n  var blob = new Blob([this.buffer]);\n  if (window.URL && URL.createObjectURL) {\n      var url = window.URL.createObjectURL(blob);\n      var a = document.createElement('a');\n      // Required in Firefox:\n      document.body.appendChild(a);\n      a.setAttribute('href', url);\n      a.setAttribute('download', filename);\n      // Required in Firefox:\n      a.setAttribute('target', '_self');\n      a.click();\n      window.URL.revokeObjectURL(url);\n  } else {\n      throw(\"DataStream.save: Can't create object URL.\");\n  }\n};\n\n/**\n  Whether to extend DataStream buffer when trying to write beyond its size.\n  If set, the buffer is reallocated to twice its current size until the\n  requested write fits the buffer.\n  @type {boolean}\n  */\nDataStream.prototype._dynamicSize = true;\nObject.defineProperty(DataStream.prototype, 'dynamicSize',\n  { get: function() {\n      return this._dynamicSize;\n    },\n    set: function(v) {\n      if (!v) {\n        this._trimAlloc();\n      }\n      this._dynamicSize = v;\n    } });\n\n/**\n  Internal function to trim the DataStream buffer when required.\n  Used for stripping out the first bytes when not needed anymore.\n\n  @return {null}\n  */\nDataStream.prototype.shift = function(offset) {\n  var buf = new ArrayBuffer(this._byteLength-offset);\n  var dst = new Uint8Array(buf);\n  var src = new Uint8Array(this._buffer, offset, dst.length);\n  dst.set(src);\n  this.buffer = buf;\n  this.position -= offset;\n};\n\n/**\n  Writes an Int32Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeInt32Array = function(arr, e) {\n  this._realloc(arr.length * 4);\n  if (arr instanceof Int32Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapInt32Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeInt32(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes an Int16Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeInt16Array = function(arr, e) {\n  this._realloc(arr.length * 2);\n  if (arr instanceof Int16Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapInt16Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeInt16(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes an Int8Array to the DataStream.\n\n  @param {Object} arr The array to write.\n */\nDataStream.prototype.writeInt8Array = function(arr) {\n  this._realloc(arr.length * 1);\n  if (arr instanceof Int8Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapInt8Array(arr.length);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeInt8(arr[i]);\n    }\n  }\n};\n\n/**\n  Writes a Uint32Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeUint32Array = function(arr, e) {\n  this._realloc(arr.length * 4);\n  if (arr instanceof Uint32Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapUint32Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeUint32(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes a Uint16Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeUint16Array = function(arr, e) {\n  this._realloc(arr.length * 2);\n  if (arr instanceof Uint16Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapUint16Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeUint16(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes a Uint8Array to the DataStream.\n\n  @param {Object} arr The array to write.\n */\nDataStream.prototype.writeUint8Array = function(arr) {\n  this._realloc(arr.length * 1);\n  if (arr instanceof Uint8Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapUint8Array(arr.length);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeUint8(arr[i]);\n    }\n  }\n};\n\n/**\n  Writes a Float64Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeFloat64Array = function(arr, e) {\n  this._realloc(arr.length * 8);\n  if (arr instanceof Float64Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapFloat64Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeFloat64(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes a Float32Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeFloat32Array = function(arr, e) {\n  this._realloc(arr.length * 4);\n  if (arr instanceof Float32Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapFloat32Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeFloat32(arr[i], e);\n    }\n  }\n};\n\n\n/**\n  Writes a 32-bit int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeInt32 = function(v, e) {\n  this._realloc(4);\n  this._dataView.setInt32(this.position, v, e == null ? this.endianness : e);\n  this.position += 4;\n};\n\n/**\n  Writes a 16-bit int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeInt16 = function(v, e) {\n  this._realloc(2);\n  this._dataView.setInt16(this.position, v, e == null ? this.endianness : e);\n  this.position += 2;\n};\n\n/**\n  Writes an 8-bit int to the DataStream.\n\n  @param {number} v Number to write.\n */\nDataStream.prototype.writeInt8 = function(v) {\n  this._realloc(1);\n  this._dataView.setInt8(this.position, v);\n  this.position += 1;\n};\n\n/**\n  Writes a 32-bit unsigned int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeUint32 = function(v, e) {\n  this._realloc(4);\n  this._dataView.setUint32(this.position, v, e == null ? this.endianness : e);\n  this.position += 4;\n};\n\n/**\n  Writes a 16-bit unsigned int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeUint16 = function(v, e) {\n  this._realloc(2);\n  this._dataView.setUint16(this.position, v, e == null ? this.endianness : e);\n  this.position += 2;\n};\n\n/**\n  Writes an 8-bit unsigned  int to the DataStream.\n\n  @param {number} v Number to write.\n */\nDataStream.prototype.writeUint8 = function(v) {\n  this._realloc(1);\n  this._dataView.setUint8(this.position, v);\n  this.position += 1;\n};\n\n/**\n  Writes a 32-bit float to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeFloat32 = function(v, e) {\n  this._realloc(4);\n  this._dataView.setFloat32(this.position, v, e == null ? this.endianness : e);\n  this.position += 4;\n};\n\n/**\n  Writes a 64-bit float to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeFloat64 = function(v, e) {\n  this._realloc(8);\n  this._dataView.setFloat64(this.position, v, e == null ? this.endianness : e);\n  this.position += 8;\n};\n\n/**\n  Write a UCS-2 string of desired endianness to the DataStream. The\n  lengthOverride argument lets you define the number of characters to write.\n  If the string is shorter than lengthOverride, the extra space is padded with\n  zeroes.\n\n  @param {string} str The string to write.\n  @param {?boolean} endianness The endianness to use for the written string data.\n  @param {?number} lengthOverride The number of characters to write.\n */\nDataStream.prototype.writeUCS2String = function(str, endianness, lengthOverride) {\n  if (lengthOverride == null) {\n    lengthOverride = str.length;\n  }\n  for (var i = 0; i < str.length && i < lengthOverride; i++) {\n    this.writeUint16(str.charCodeAt(i), endianness);\n  }\n  for (; i<lengthOverride; i++) {\n    this.writeUint16(0);\n  }\n};\n\n/**\n  Writes a string of desired length and encoding to the DataStream.\n\n  @param {string} s The string to write.\n  @param {?string} encoding The encoding for the written string data.\n                            Defaults to ASCII.\n  @param {?number} length The number of characters to write.\n */\nDataStream.prototype.writeString = function(s, encoding, length) {\n  var i = 0;\n  if (encoding == null || encoding == \"ASCII\") {\n    if (length != null) {\n      var len = Math.min(s.length, length);\n      for (i=0; i<len; i++) {\n        this.writeUint8(s.charCodeAt(i));\n      }\n      for (; i<length; i++) {\n        this.writeUint8(0);\n      }\n    } else {\n      for (i=0; i<s.length; i++) {\n        this.writeUint8(s.charCodeAt(i));\n      }\n    }\n  } else {\n    this.writeUint8Array((new TextEncoder(encoding)).encode(s.substring(0, length)));\n  }\n};\n\n/**\n  Writes a null-terminated string to DataStream and zero-pads it to length\n  bytes. If length is not given, writes the string followed by a zero.\n  If string is longer than length, the written part of the string does not have\n  a trailing zero.\n\n  @param {string} s The string to write.\n  @param {?number} length The number of characters to write.\n */\nDataStream.prototype.writeCString = function(s, length) {\n  var i = 0;\n  if (length != null) {\n    var len = Math.min(s.length, length);\n    for (i=0; i<len; i++) {\n      this.writeUint8(s.charCodeAt(i));\n    }\n    for (; i<length; i++) {\n      this.writeUint8(0);\n    }\n  } else {\n    for (i=0; i<s.length; i++) {\n      this.writeUint8(s.charCodeAt(i));\n    }\n    this.writeUint8(0);\n  }\n};\n\n/**\n  Writes a struct to the DataStream. Takes a structDefinition that gives the\n  types and a struct object that gives the values. Refer to readStruct for the\n  structure of structDefinition.\n\n  @param {Object} structDefinition Type definition of the struct.\n  @param {Object} struct The struct data object.\n  */\nDataStream.prototype.writeStruct = function(structDefinition, struct) {\n  for (var i = 0; i < structDefinition.length; i+=2) {\n    var t = structDefinition[i+1];\n    this.writeType(t, struct[structDefinition[i]], struct);\n  }\n};\n\n/**\n  Writes object v of type t to the DataStream.\n\n  @param {Object} t Type of data to write.\n  @param {Object} v Value of data to write.\n  @param {Object} struct Struct to pass to write callback functions.\n  */\nDataStream.prototype.writeType = function(t, v, struct) {\n  var tp;\n  if (typeof t == \"function\") {\n    return t(this, v);\n  } else if (typeof t == \"object\" && !(t instanceof Array)) {\n    return t.set(this, v, struct);\n  }\n  var lengthOverride = null;\n  var charset = \"ASCII\";\n  var pos = this.position;\n  if (typeof(t) == 'string' && /:/.test(t)) {\n    tp = t.split(\":\");\n    t = tp[0];\n    lengthOverride = parseInt(tp[1]);\n  }\n  if (typeof t == 'string' && /,/.test(t)) {\n    tp = t.split(\",\");\n    t = tp[0];\n    charset = parseInt(tp[1]);\n  }\n\n  switch(t) {\n    case 'uint8':\n      this.writeUint8(v);\n      break;\n    case 'int8':\n      this.writeInt8(v);\n      break;\n\n    case 'uint16':\n      this.writeUint16(v, this.endianness);\n      break;\n    case 'int16':\n      this.writeInt16(v, this.endianness);\n      break;\n    case 'uint32':\n      this.writeUint32(v, this.endianness);\n      break;\n    case 'int32':\n      this.writeInt32(v, this.endianness);\n      break;\n    case 'float32':\n      this.writeFloat32(v, this.endianness);\n      break;\n    case 'float64':\n      this.writeFloat64(v, this.endianness);\n      break;\n\n    case 'uint16be':\n      this.writeUint16(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'int16be':\n      this.writeInt16(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'uint32be':\n      this.writeUint32(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'int32be':\n      this.writeInt32(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'float32be':\n      this.writeFloat32(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'float64be':\n      this.writeFloat64(v, DataStream.BIG_ENDIAN);\n      break;\n\n    case 'uint16le':\n      this.writeUint16(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'int16le':\n      this.writeInt16(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'uint32le':\n      this.writeUint32(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'int32le':\n      this.writeInt32(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'float32le':\n      this.writeFloat32(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'float64le':\n      this.writeFloat64(v, DataStream.LITTLE_ENDIAN);\n      break;\n\n    case 'cstring':\n      this.writeCString(v, lengthOverride);\n      break;\n\n    case 'string':\n      this.writeString(v, charset, lengthOverride);\n      break;\n\n    case 'u16string':\n      this.writeUCS2String(v, this.endianness, lengthOverride);\n      break;\n\n    case 'u16stringle':\n      this.writeUCS2String(v, DataStream.LITTLE_ENDIAN, lengthOverride);\n      break;\n\n    case 'u16stringbe':\n      this.writeUCS2String(v, DataStream.BIG_ENDIAN, lengthOverride);\n      break;\n\n    default:\n      if (t.length == 3) {\n        var ta = t[1];\n        for (var i=0; i<v.length; i++) {\n          this.writeType(ta, v[i]);\n        }\n        break;\n      } else {\n        this.writeStruct(t, v);\n        break;\n      }\n  }\n  if (lengthOverride != null) {\n    this.position = pos;\n    this._realloc(lengthOverride);\n    this.position = pos + lengthOverride;\n  }\n};\n\n\nDataStream.prototype.writeUint64 = function (v) {\n\tvar h = Math.floor(v / MAX_SIZE);\n\tthis.writeUint32(h);\n\tthis.writeUint32(v & 0xFFFFFFFF);\n}\n\nDataStream.prototype.writeUint24 = function (v) {\n\tthis.writeUint8((v & 0x00FF0000)>>16);\n\tthis.writeUint8((v & 0x0000FF00)>>8);\n\tthis.writeUint8((v & 0x000000FF));\n}\n\nDataStream.prototype.adjustUint32 = function(position, value) {\n\tvar pos = this.position;\n\tthis.seek(position);\n\tthis.writeUint32(value);\n\tthis.seek(pos);\n}\n// file:src/DataStream-map.js\n/**\n  Maps an Int32Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Int32Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapInt32Array = function(length, e) {\n  this._realloc(length * 4);\n  var arr = new Int32Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 4;\n  return arr;\n};\n\n/**\n  Maps an Int16Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Int16Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapInt16Array = function(length, e) {\n  this._realloc(length * 2);\n  var arr = new Int16Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 2;\n  return arr;\n};\n\n/**\n  Maps an Int8Array into the DataStream buffer.\n\n  Nice for quickly reading in data.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Int8Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapInt8Array = function(length) {\n  this._realloc(length * 1);\n  var arr = new Int8Array(this._buffer, this.byteOffset+this.position, length);\n  this.position += length * 1;\n  return arr;\n};\n\n/**\n  Maps a Uint32Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Uint32Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapUint32Array = function(length, e) {\n  this._realloc(length * 4);\n  var arr = new Uint32Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 4;\n  return arr;\n};\n\n/**\n  Maps a Uint16Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Uint16Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapUint16Array = function(length, e) {\n  this._realloc(length * 2);\n  var arr = new Uint16Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 2;\n  return arr;\n};\n\n/**\n  Maps a Float64Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Float64Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapFloat64Array = function(length, e) {\n  this._realloc(length * 8);\n  var arr = new Float64Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 8;\n  return arr;\n};\n\n/**\n  Maps a Float32Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Float32Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapFloat32Array = function(length, e) {\n  this._realloc(length * 4);\n  var arr = new Float32Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 4;\n  return arr;\n};\n// file:src/buffer.js\n/**\n * MultiBufferStream is a class that acts as a SimpleStream for parsing \n * It holds several, possibly non-contiguous ArrayBuffer objects, each with a fileStart property \n * containing the offset for the buffer data in an original/virtual file \n *\n * It inherits also from DataStream for all read/write/alloc operations\n */\n\n/**\n * Constructor\n */\nvar MultiBufferStream = function(buffer) {\n\t/* List of ArrayBuffers, with a fileStart property, sorted in fileStart order and non overlapping */\n\tthis.buffers = [];\t\n\tthis.bufferIndex = -1;\n\tif (buffer) {\n\t\tthis.insertBuffer(buffer);\n\t\tthis.bufferIndex = 0;\n\t}\n}\nMultiBufferStream.prototype = new DataStream(new ArrayBuffer(), 0, DataStream.BIG_ENDIAN);\n\n/************************************************************************************\n  Methods for the managnement of the buffers (insertion, removal, concatenation, ...)\n ***********************************************************************************/\n\nMultiBufferStream.prototype.initialized = function() {\n\tvar firstBuffer;\n\tif (this.bufferIndex > -1) {\n\t\treturn true;\n\t} else if (this.buffers.length > 0) {\n\t\tfirstBuffer = this.buffers[0];\n\t\tif (firstBuffer.fileStart === 0) {\n\t\t\tthis.buffer = firstBuffer;\n\t\t\tthis.bufferIndex = 0;\n\t\t\tLog.debug(\"MultiBufferStream\", \"Stream ready for parsing\");\n\t\t\treturn true;\n\t\t} else {\n\t\t\tLog.warn(\"MultiBufferStream\", \"The first buffer should have a fileStart of 0\");\n\t\t\tthis.logBufferLevel();\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\tLog.warn(\"MultiBufferStream\", \"No buffer to start parsing from\");\n\t\tthis.logBufferLevel();\n\t\treturn false;\n\t}\t\t\t\n}\n\n/**\n * helper functions to concatenate two ArrayBuffer objects\n * @param  {ArrayBuffer} buffer1 \n * @param  {ArrayBuffer} buffer2 \n * @return {ArrayBuffer} the concatenation of buffer1 and buffer2 in that order\n */\nArrayBuffer.concat = function(buffer1, buffer2) {\n  Log.debug(\"ArrayBuffer\", \"Trying to create a new buffer of size: \"+(buffer1.byteLength + buffer2.byteLength));\n  var tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n  tmp.set(new Uint8Array(buffer1), 0);\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n  return tmp.buffer;\n};\n\n/**\n * Reduces the size of a given buffer, but taking the part between offset and offset+newlength\n * @param  {ArrayBuffer} buffer    \n * @param  {Number}      offset    the start of new buffer\n * @param  {Number}      newLength the length of the new buffer\n * @return {ArrayBuffer}           the new buffer\n */\nMultiBufferStream.prototype.reduceBuffer = function(buffer, offset, newLength) {\n\tvar smallB;\n\tsmallB = new Uint8Array(newLength);\n\tsmallB.set(new Uint8Array(buffer, offset, newLength));\n\tsmallB.buffer.fileStart = buffer.fileStart+offset;\n\tsmallB.buffer.usedBytes = 0;\n\treturn smallB.buffer;\t\n}\n\n/**\n * Inserts the new buffer in the sorted list of buffers,\n *  making sure, it is not overlapping with existing ones (possibly reducing its size).\n *  if the new buffer overrides/replaces the 0-th buffer (for instance because it is bigger), \n *  updates the DataStream buffer for parsing \n*/\nMultiBufferStream.prototype.insertBuffer = function(ab) {\t\n\tvar to_add = true;\n\t/* TODO: improve insertion if many buffers */\n\tfor (var i = 0; i < this.buffers.length; i++) {\n\t\tvar b = this.buffers[i];\n\t\tif (ab.fileStart <= b.fileStart) {\n\t\t\t/* the insertion position is found */\n\t\t\tif (ab.fileStart === b.fileStart) {\n\t\t\t\t/* The new buffer overlaps with an existing buffer */\n\t\t\t\tif (ab.byteLength >  b.byteLength) {\n\t\t\t\t\t/* the new buffer is bigger than the existing one\n\t\t\t\t\t   remove the existing buffer and try again to insert \n\t\t\t\t\t   the new buffer to check overlap with the next ones */\n\t\t\t\t\tthis.buffers.splice(i, 1);\n\t\t\t\t\ti--; \n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\t/* the new buffer is smaller than the existing one, just drop it */\n\t\t\t\t\tLog.warn(\"MultiBufferStream\", \"Buffer (fileStart: \"+ab.fileStart+\" - Length: \"+ab.byteLength+\") already appended, ignoring\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/* The beginning of the new buffer is not overlapping with an existing buffer\n\t\t\t\t   let's check the end of it */\n\t\t\t\tif (ab.fileStart + ab.byteLength <= b.fileStart) {\n\t\t\t\t\t/* no overlap, we can add it as is */\n\t\t\t\t} else {\n\t\t\t\t\t/* There is some overlap, cut the new buffer short, and add it*/\n\t\t\t\t\tab = this.reduceBuffer(ab, 0, b.fileStart - ab.fileStart);\n\t\t\t\t}\n\t\t\t\tLog.debug(\"MultiBufferStream\", \"Appending new buffer (fileStart: \"+ab.fileStart+\" - Length: \"+ab.byteLength+\")\");\n\t\t\t\tthis.buffers.splice(i, 0, ab);\n\t\t\t\t/* if this new buffer is inserted in the first place in the list of the buffer, \n\t\t\t\t   and the DataStream is initialized, make it the buffer used for parsing */\n\t\t\t\tif (i === 0) {\n\t\t\t\t\tthis.buffer = ab;\n\t\t\t\t}\n\t\t\t}\n\t\t\tto_add = false;\n\t\t\tbreak;\n\t\t} else if (ab.fileStart < b.fileStart + b.byteLength) {\n\t\t\t/* the new buffer overlaps its beginning with the end of the current buffer */\n\t\t\tvar offset = b.fileStart + b.byteLength - ab.fileStart;\n\t\t\tvar newLength = ab.byteLength - offset;\n\t\t\tif (newLength > 0) {\n\t\t\t\t/* the new buffer is bigger than the current overlap, drop the overlapping part and try again inserting the remaining buffer */\n\t\t\t\tab = this.reduceBuffer(ab, offset, newLength);\n\t\t\t} else {\n\t\t\t\t/* the content of the new buffer is entirely contained in the existing buffer, drop it entirely */\n\t\t\t\tto_add = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t/* if the buffer has not been added, we can add it at the end */\n\tif (to_add) {\n\t\tLog.debug(\"MultiBufferStream\", \"Appending new buffer (fileStart: \"+ab.fileStart+\" - Length: \"+ab.byteLength+\")\");\n\t\tthis.buffers.push(ab);\n\t\t/* if this new buffer is inserted in the first place in the list of the buffer, \n\t\t   and the DataStream is initialized, make it the buffer used for parsing */\n\t\tif (i === 0) {\n\t\t\tthis.buffer = ab;\n\t\t}\n\t}\n}\n\n/**\n * Displays the status of the buffers (number and used bytes)\n * @param  {Object} info callback method for display\n */\nMultiBufferStream.prototype.logBufferLevel = function(info) {\n\tvar i;\n\tvar buffer;\n\tvar used, total;\n\tvar ranges = [];\n\tvar range;\n\tvar bufferedString = \"\";\n\tused = 0;\n\ttotal = 0;\n\tfor (i = 0; i < this.buffers.length; i++) {\n\t\tbuffer = this.buffers[i];\n\t\tif (i === 0) {\n\t\t\trange = {};\n\t\t\tranges.push(range);\n\t\t\trange.start = buffer.fileStart;\n\t\t\trange.end = buffer.fileStart+buffer.byteLength;\n\t\t\tbufferedString += \"[\"+range.start+\"-\";\n\t\t} else if (range.end === buffer.fileStart) {\n\t\t\trange.end = buffer.fileStart+buffer.byteLength;\n\t\t} else {\n\t\t\trange = {};\n\t\t\trange.start = buffer.fileStart;\n\t\t\tbufferedString += (ranges[ranges.length-1].end-1)+\"], [\"+range.start+\"-\";\n\t\t\trange.end = buffer.fileStart+buffer.byteLength;\n\t\t\tranges.push(range);\n\t\t}\n\t\tused += buffer.usedBytes;\n\t\ttotal += buffer.byteLength;\n\t}\n\tif (ranges.length > 0) {\n\t\tbufferedString += (range.end-1)+\"]\";\n\t}\n\tvar log = (info ? Log.info : Log.debug)\n\tif (this.buffers.length === 0) {\n\t\tlog(\"MultiBufferStream\", \"No more buffer in memory\");\n\t} else {\n\t\tlog(\"MultiBufferStream\", \"\"+this.buffers.length+\" stored buffer(s) (\"+used+\"/\"+total+\" bytes), continuous ranges: \"+bufferedString);\n\t}\n}\n\nMultiBufferStream.prototype.cleanBuffers = function () {\n\tvar i;\n\tvar buffer;\n\tfor (i = 0; i < this.buffers.length; i++) {\n\t\tbuffer = this.buffers[i];\n\t\tif (buffer.usedBytes === buffer.byteLength) {\n\t\t\tLog.debug(\"MultiBufferStream\", \"Removing buffer #\"+i);\n\t\t\tthis.buffers.splice(i, 1);\n\t\t\ti--;\n\t\t}\n\t}\n}\n\nMultiBufferStream.prototype.mergeNextBuffer = function() {\n\tvar next_buffer;\n\tif (this.bufferIndex+1 < this.buffers.length) {\n\t\tnext_buffer = this.buffers[this.bufferIndex+1];\n\t\tif (next_buffer.fileStart === this.buffer.fileStart + this.buffer.byteLength) {\n\t\t\tvar oldLength = this.buffer.byteLength;\n\t\t\tvar oldUsedBytes = this.buffer.usedBytes;\n\t\t\tvar oldFileStart = this.buffer.fileStart;\n\t\t\tthis.buffers[this.bufferIndex] = ArrayBuffer.concat(this.buffer, next_buffer);\n\t\t\tthis.buffer = this.buffers[this.bufferIndex];\n\t\t\tthis.buffers.splice(this.bufferIndex+1, 1);\n\t\t\tthis.buffer.usedBytes = oldUsedBytes; /* TODO: should it be += ? */\n\t\t\tthis.buffer.fileStart = oldFileStart;\n\t\t\tLog.debug(\"ISOFile\", \"Concatenating buffer for box parsing (length: \"+oldLength+\"->\"+this.buffer.byteLength+\")\");\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n}\n\n\n/*************************************************************************\n  Seek-related functions\n *************************************************************************/\n\n/**\n * Finds the buffer that holds the given file position\n * @param  {Boolean} fromStart    indicates if the search should start from the current buffer (false) \n *                                or from the first buffer (true)\n * @param  {Number}  filePosition position in the file to seek to\n * @param  {Boolean} markAsUsed   indicates if the bytes in between the current position and the seek position \n *                                should be marked as used for garbage collection\n * @return {Number}               the index of the buffer holding the seeked file position, -1 if not found.\n */\nMultiBufferStream.prototype.findPosition = function(fromStart, filePosition, markAsUsed) {\n\tvar i;\n\tvar abuffer = null;\n\tvar index = -1;\n\n\t/* find the buffer with the largest position smaller than the given position */\n\tif (fromStart === true) {\n\t   /* the reposition can be in the past, we need to check from the beginning of the list of buffers */\n\t\ti = 0;\n\t} else {\n\t\ti = this.bufferIndex;\n\t}\n\n\twhile (i < this.buffers.length) {\n\t\tabuffer = this.buffers[i];\n\t\tif (abuffer.fileStart <= filePosition) {\n\t\t\tindex = i;\n\t\t\tif (markAsUsed) {\n\t\t\t\tif (abuffer.fileStart + abuffer.byteLength <= filePosition) {\n\t\t\t\t\tabuffer.usedBytes = abuffer.byteLength;\t\n\t\t\t\t} else {\n\t\t\t\t\tabuffer.usedBytes = filePosition - abuffer.fileStart;\n\t\t\t\t}\t\t\n\t\t\t\tthis.logBufferLevel();\t\n\t\t\t}\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t\ti++;\n\t}\n\n\tif (index !== -1) {\n\t\tabuffer = this.buffers[index];\n\t\tif (abuffer.fileStart + abuffer.byteLength >= filePosition) {\t\t\t\n\t\t\tLog.debug(\"MultiBufferStream\", \"Found position in existing buffer #\"+index);\n\t\t\treturn index;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t} else {\n\t\treturn -1;\n\t}\n}\n\n/**\n * Finds the largest file position contained in a buffer or in the next buffers if they are contiguous (no gap)\n * starting from the given buffer index or from the current buffer if the index is not given\n *\n * @param  {Number} inputindex Index of the buffer to start from\n * @return {Number}            The largest file position found in the buffers\n */\nMultiBufferStream.prototype.findEndContiguousBuf = function(inputindex) {\n\tvar i;\n\tvar currentBuf;\n\tvar nextBuf;\n\tvar index = (inputindex !== undefined ? inputindex : this.bufferIndex);\n\tcurrentBuf = this.buffers[index];\n\t/* find the end of the contiguous range of data */\n\tif (this.buffers.length > index+1) {\n\t\tfor (i = index+1; i < this.buffers.length; i++) {\n\t\t\tnextBuf = this.buffers[i];\n\t\t\tif (nextBuf.fileStart === currentBuf.fileStart + currentBuf.byteLength) {\n\t\t\t\tcurrentBuf = nextBuf;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t/* return the position of last byte in the file that we have */\n\treturn currentBuf.fileStart + currentBuf.byteLength;\n}\n\n/**\n * Returns the largest file position contained in the buffers, larger than the given position\n * @param  {Number} pos the file position to start from\n * @return {Number}     the largest position in the current buffer or in the buffer and the next contiguous \n *                      buffer that holds the given position\n */\nMultiBufferStream.prototype.getEndFilePositionAfter = function(pos) {\n\tvar index = this.findPosition(true, pos, false);\n\tif (index !== -1) {\n\t\treturn this.findEndContiguousBuf(index);\n\t} else {\n\t\treturn pos;\n\t}\n}\n\n/*************************************************************************\n  Garbage collection related functions\n *************************************************************************/\n\n/**\n * Marks a given number of bytes as used in the current buffer for garbage collection\n * @param {Number} nbBytes \n */\nMultiBufferStream.prototype.addUsedBytes = function(nbBytes) {\n\tthis.buffer.usedBytes += nbBytes;\n\tthis.logBufferLevel();\n}\n\n/**\n * Marks the entire current buffer as used, ready for garbage collection\n */\nMultiBufferStream.prototype.setAllUsedBytes = function() {\n\tthis.buffer.usedBytes = this.buffer.byteLength;\n\tthis.logBufferLevel();\n}\n\n/*************************************************************************\n  Common API between MultiBufferStream and SimpleStream\n *************************************************************************/\n\n/**\n * Tries to seek to a given file position\n * if possible, repositions the parsing from there and returns true \n * if not possible, does not change anything and returns false \n * @param  {Number}  filePosition position in the file to seek to\n * @param  {Boolean} fromStart    indicates if the search should start from the current buffer (false) \n *                                or from the first buffer (true)\n * @param  {Boolean} markAsUsed   indicates if the bytes in between the current position and the seek position \n *                                should be marked as used for garbage collection\n * @return {Boolean}              true if the seek succeeded, false otherwise\n */\nMultiBufferStream.prototype.seek = function(filePosition, fromStart, markAsUsed) {\n\tvar index;\n\tindex = this.findPosition(fromStart, filePosition, markAsUsed);\n\tif (index !== -1) {\n\t\tthis.buffer = this.buffers[index];\n\t\tthis.bufferIndex = index;\n\t\tthis.position = filePosition - this.buffer.fileStart;\n\t\tLog.debug(\"MultiBufferStream\", \"Repositioning parser at buffer position: \"+this.position);\n\t\treturn true;\n\t} else {\n\t\tLog.debug(\"MultiBufferStream\", \"Position \"+filePosition+\" not found in buffered data\");\n\t\treturn false;\n\t}\n}\n\n/**\n * Returns the current position in the file\n * @return {Number} the position in the file\n */\nMultiBufferStream.prototype.getPosition = function() {\n\tif (this.bufferIndex === -1 || this.buffers[this.bufferIndex] === null) {\n\t\tthrow \"Error accessing position in the MultiBufferStream\";\n\t}\n\treturn this.buffers[this.bufferIndex].fileStart+this.position;\n}\n\n/**\n * Returns the length of the current buffer\n * @return {Number} the length of the current buffer\n */\nMultiBufferStream.prototype.getLength = function() {\n\treturn this.byteLength;\n}\n\nMultiBufferStream.prototype.getEndPosition = function() {\n\tif (this.bufferIndex === -1 || this.buffers[this.bufferIndex] === null) {\n\t\tthrow \"Error accessing position in the MultiBufferStream\";\n\t}\n\treturn this.buffers[this.bufferIndex].fileStart+this.byteLength;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.MultiBufferStream = MultiBufferStream;\n}// file:src/descriptor.js\n/*\n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar MPEG4DescriptorParser = function () {\n\tvar ES_DescrTag \t\t\t= 0x03;\n\tvar DecoderConfigDescrTag \t= 0x04;\n\tvar DecSpecificInfoTag \t\t= 0x05;\n\tvar SLConfigDescrTag \t\t= 0x06;\n\n\tvar descTagToName = [];\n\tdescTagToName[ES_DescrTag] \t\t\t\t= \"ES_Descriptor\";\n\tdescTagToName[DecoderConfigDescrTag] \t= \"DecoderConfigDescriptor\";\n\tdescTagToName[DecSpecificInfoTag] \t\t= \"DecoderSpecificInfo\";\n\tdescTagToName[SLConfigDescrTag] \t\t= \"SLConfigDescriptor\";\n\n\tthis.getDescriptorName = function(tag) {\n\t\treturn descTagToName[tag];\n\t}\n\n\tvar that = this;\n\tvar classes = {};\n\n\tthis.parseOneDescriptor = function (stream) {\n\t\tvar hdrSize = 0;\n\t\tvar size = 0;\n\t\tvar tag;\n\t\tvar desc;\n\t\tvar byteRead;\n\t\ttag = stream.readUint8();\n\t\thdrSize++;\n\t\tbyteRead = stream.readUint8();\n\t\thdrSize++;\n\t\twhile (byteRead & 0x80) {\n\t\t\tsize = (byteRead & 0x7F)<<7;\n\t\t\tbyteRead = stream.readUint8();\n\t\t\thdrSize++;\n\t\t}\n\t\tsize += byteRead & 0x7F;\n\t\tLog.debug(\"MPEG4DescriptorParser\", \"Found \"+(descTagToName[tag] || \"Descriptor \"+tag)+\", size \"+size+\" at position \"+stream.getPosition());\n\t\tif (descTagToName[tag]) {\n\t\t\tdesc = new classes[descTagToName[tag]](size);\n\t\t} else {\n\t\t\tdesc = new classes.Descriptor(size);\n\t\t}\n\t\tdesc.parse(stream);\n\t\treturn desc;\n\t}\n\n\tclasses.Descriptor = function(_tag, _size) {\n\t\tthis.tag = _tag;\n\t\tthis.size = _size;\n\t\tthis.descs = [];\n\t}\n\n\tclasses.Descriptor.prototype.parse = function (stream) {\n\t\tthis.data = stream.readUint8Array(this.size);\n\t}\n\n\tclasses.Descriptor.prototype.findDescriptor = function (tag) {\n\t\tfor (var i = 0; i < this.descs.length; i++) {\n\t\t\tif (this.descs[i].tag == tag) {\n\t\t\t\treturn this.descs[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tclasses.Descriptor.prototype.parseRemainingDescriptors = function (stream) {\n\t\tvar start = stream.position;\n\t\twhile (stream.position < start+this.size) {\n\t\t\tvar desc = that.parseOneDescriptor(stream);\n\t\t\tthis.descs.push(desc);\n\t\t}\n\t}\n\n\tclasses.ES_Descriptor = function (size) {\n\t\tclasses.Descriptor.call(this, ES_DescrTag, size);\n\t}\n\n\tclasses.ES_Descriptor.prototype = new classes.Descriptor();\n\n\tclasses.ES_Descriptor.prototype.parse = function(stream) {\n\t\tthis.ES_ID = stream.readUint16();\n\t\tthis.flags = stream.readUint8();\n\t\tthis.size -= 3;\n\t\tif (this.flags & 0x80) {\n\t\t\tthis.dependsOn_ES_ID = stream.readUint16();\n\t\t\tthis.size -= 2;\n\t\t} else {\n\t\t\tthis.dependsOn_ES_ID = 0;\n\t\t}\n\t\tif (this.flags & 0x40) {\n\t\t\tvar l = stream.readUint8();\n\t\t\tthis.URL = stream.readString(l);\n\t\t\tthis.size -= l+1;\n\t\t} else {\n\t\t\tthis.URL = \"\";\n\t\t}\n\t\tif (this.flags & 0x20) {\n\t\t\tthis.OCR_ES_ID = stream.readUint16();\n\t\t\tthis.size -= 2;\n\t\t} else {\n\t\t\tthis.OCR_ES_ID = 0;\n\t\t}\n\t\tthis.parseRemainingDescriptors(stream);\n\t}\n\n\tclasses.ES_Descriptor.prototype.getOTI = function(stream) {\n\t\tvar dcd = this.findDescriptor(DecoderConfigDescrTag);\n\t\tif (dcd) {\n\t\t\treturn dcd.oti;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tclasses.ES_Descriptor.prototype.getAudioConfig = function(stream) {\n\t\tvar dcd = this.findDescriptor(DecoderConfigDescrTag);\n\t\tif (!dcd) return null;\n\t\tvar dsi = dcd.findDescriptor(DecSpecificInfoTag);\n\t\tif (dsi && dsi.data) {\n\t\t\tvar audioObjectType = (dsi.data[0]& 0xF8) >> 3;\n\t\t\tif (audioObjectType === 31 && dsi.data.length >= 2) {\n\t\t\t\taudioObjectType = 32 + ((dsi.data[0] & 0x7) << 3) + ((dsi.data[1] & 0xE0) >> 5);\n\t\t\t}\n\t\t\treturn audioObjectType;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tclasses.DecoderConfigDescriptor = function (size) {\n\t\tclasses.Descriptor.call(this, DecoderConfigDescrTag, size);\n\t}\n\tclasses.DecoderConfigDescriptor.prototype = new classes.Descriptor();\n\n\tclasses.DecoderConfigDescriptor.prototype.parse = function(stream) {\n\t\tthis.oti = stream.readUint8();\n\t\tthis.streamType = stream.readUint8();\n\t\tthis.bufferSize = stream.readUint24();\n\t\tthis.maxBitrate = stream.readUint32();\n\t\tthis.avgBitrate = stream.readUint32();\n\t\tthis.size -= 13;\n\t\tthis.parseRemainingDescriptors(stream);\n\t}\n\n\tclasses.DecoderSpecificInfo = function (size) {\n\t\tclasses.Descriptor.call(this, DecSpecificInfoTag, size);\n\t}\n\tclasses.DecoderSpecificInfo.prototype = new classes.Descriptor();\n\n\tclasses.SLConfigDescriptor = function (size) {\n\t\tclasses.Descriptor.call(this, SLConfigDescrTag, size);\n\t}\n\tclasses.SLConfigDescriptor.prototype = new classes.Descriptor();\n\n\treturn this;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.MPEG4DescriptorParser = MPEG4DescriptorParser;\n}// file:src/box.js\n/*\n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar BoxParser = {\n\tERR_INVALID_DATA : -1,\n\tERR_NOT_ENOUGH_DATA : 0,\n\tOK : 1,\n\n\t// Boxes to be created with default parsing\n\tBASIC_BOXES: [ \"mdat\", \"idat\", \"free\", \"skip\", \"meco\", \"strk\" ],\n\tFULL_BOXES: [ \"hmhd\", \"nmhd\", \"iods\", \"xml \", \"bxml\", \"ipro\", \"mere\" ],\n\tCONTAINER_BOXES: [\n\t\t[ \"moov\", [ \"trak\", \"pssh\" ] ],\n\t\t[ \"trak\" ],\n\t\t[ \"edts\" ],\n\t\t[ \"mdia\" ],\n\t\t[ \"minf\" ],\n\t\t[ \"dinf\" ],\n\t\t[ \"stbl\", [ \"sgpd\", \"sbgp\" ] ],\n\t\t[ \"mvex\", [ \"trex\" ] ],\n\t\t[ \"moof\", [ \"traf\" ] ],\n\t\t[ \"traf\", [ \"trun\", \"sgpd\", \"sbgp\" ] ],\n\t\t[ \"vttc\" ],\n\t\t[ \"tref\" ],\n\t\t[ \"iref\" ],\n\t\t[ \"mfra\", [ \"tfra\" ] ],\n\t\t[ \"meco\" ],\n\t\t[ \"hnti\" ],\n\t\t[ \"hinf\" ],\n\t\t[ \"strk\" ],\n\t\t[ \"strd\" ],\n\t\t[ \"sinf\" ],\n\t\t[ \"rinf\" ],\n\t\t[ \"schi\" ],\n\t\t[ \"trgr\" ],\n\t\t[ \"udta\", [\"kind\"] ],\n\t\t[ \"iprp\", [\"ipma\"] ],\n\t\t[ \"ipco\"]\n\t],\n\t// Boxes effectively created\n\tboxCodes : [],\n\tfullBoxCodes : [],\n\tcontainerBoxCodes : [],\n\tsampleEntryCodes : {},\n\tsampleGroupEntryCodes: [],\n\ttrackGroupTypes: [],\n\tUUIDBoxes: {},\n\tUUIDs: [],\n\tinitialize: function() {\n\t\tBoxParser.FullBox.prototype = new BoxParser.Box();\n\t\tBoxParser.ContainerBox.prototype = new BoxParser.Box();\n\t\tBoxParser.SampleEntry.prototype = new BoxParser.Box();\n\t\tBoxParser.TrackGroupTypeBox.prototype = new BoxParser.FullBox();\n\n\t\t/* creating constructors for simple boxes */\n\t\tBoxParser.BASIC_BOXES.forEach(function(type) {\n\t\t\tBoxParser.createBoxCtor(type)\n\t\t});\n\t\tBoxParser.FULL_BOXES.forEach(function(type) {\n\t\t\tBoxParser.createFullBoxCtor(type);\n\t\t});\n\t\tBoxParser.CONTAINER_BOXES.forEach(function(types) {\n\t\t\tBoxParser.createContainerBoxCtor(types[0], null, types[1]);\n\t\t});\n\t},\n\tBox: function(_type, _size, _uuid) {\n\t\tthis.type = _type;\n\t\tthis.size = _size;\n\t\tthis.uuid = _uuid;\n\t},\n\tFullBox: function(type, size, uuid) {\n\t\tBoxParser.Box.call(this, type, size, uuid);\n\t\tthis.flags = 0;\n\t\tthis.version = 0;\n\t},\n\tContainerBox: function(type, size, uuid) {\n\t\tBoxParser.Box.call(this, type, size, uuid);\n\t\tthis.boxes = [];\n\t},\n\tSampleEntry: function(type, size, hdr_size, start) {\n\t\tBoxParser.ContainerBox.call(this, type, size);\n\t\tthis.hdr_size = hdr_size;\n\t\tthis.start = start;\n\t},\n\tSampleGroupEntry: function(type) {\n\t\tthis.grouping_type = type;\n\t},\n\tTrackGroupTypeBox: function(type, size) {\n\t\tBoxParser.FullBox.call(this, type, size);\n\t},\n\tcreateBoxCtor: function(type, parseMethod){\n\t\tBoxParser.boxCodes.push(type);\n\t\tBoxParser[type+\"Box\"] = function(size) {\n\t\t\tBoxParser.Box.call(this, type, size);\n\t\t}\n\t\tBoxParser[type+\"Box\"].prototype = new BoxParser.Box();\n\t\tif (parseMethod) BoxParser[type+\"Box\"].prototype.parse = parseMethod;\n\t},\n\tcreateFullBoxCtor: function(type, parseMethod) {\n\t\t//BoxParser.fullBoxCodes.push(type);\n\t\tBoxParser[type+\"Box\"] = function(size) {\n\t\t\tBoxParser.FullBox.call(this, type, size);\n\t\t}\n\t\tBoxParser[type+\"Box\"].prototype = new BoxParser.FullBox();\n\t\tBoxParser[type+\"Box\"].prototype.parse = function(stream) {\n\t\t\tthis.parseFullHeader(stream);\n\t\t\tif (parseMethod) {\n\t\t\t\tparseMethod.call(this, stream);\n\t\t\t}\n\t\t};\n\t},\n\taddSubBoxArrays: function(subBoxNames) {\n\t\tif (subBoxNames) {\n\t\t\tthis.subBoxNames = subBoxNames;\n\t\t\tvar nbSubBoxes = subBoxNames.length;\n\t\t\tfor (var k = 0; k<nbSubBoxes; k++) {\n\t\t\t\tthis[subBoxNames[k]+\"s\"] = [];\n\t\t\t}\n\t\t}\n\t},\n\tcreateContainerBoxCtor: function(type, parseMethod, subBoxNames) {\n\t\t//BoxParser.containerBoxCodes.push(type);\n\t\tBoxParser[type+\"Box\"] = function(size) {\n\t\t\tBoxParser.ContainerBox.call(this, type, size);\n\t\t\tBoxParser.addSubBoxArrays.call(this, subBoxNames);\n\t\t}\n\t\tBoxParser[type+\"Box\"].prototype = new BoxParser.ContainerBox();\n\t\tif (parseMethod) BoxParser[type+\"Box\"].prototype.parse = parseMethod;\n\t},\n\tcreateMediaSampleEntryCtor: function(mediaType, parseMethod, subBoxNames) {\n\t\tBoxParser.sampleEntryCodes[mediaType] = [];\n\t\tBoxParser[mediaType+\"SampleEntry\"] = function(type, size) {\n\t\t\tBoxParser.SampleEntry.call(this, type, size);\n\t\t\tBoxParser.addSubBoxArrays.call(this, subBoxNames);\n\t\t};\n\t\tBoxParser[mediaType+\"SampleEntry\"].prototype = new BoxParser.SampleEntry();\n\t\tif (parseMethod) BoxParser[mediaType+\"SampleEntry\"].prototype .parse = parseMethod;\n\t},\n\tcreateSampleEntryCtor: function(mediaType, type, parseMethod, subBoxNames) {\n\t\tBoxParser.sampleEntryCodes[mediaType].push(type);\n\t\tBoxParser[type+\"SampleEntry\"] = function(size) {\n\t\t\tBoxParser[mediaType+\"SampleEntry\"].call(this, type, size);\n\t\t\tBoxParser.addSubBoxArrays.call(this, subBoxNames);\n\t\t};\n\t\tBoxParser[type+\"SampleEntry\"].prototype = new BoxParser[mediaType+\"SampleEntry\"]();\n\t\tif (parseMethod) BoxParser[type+\"SampleEntry\"].prototype.parse = parseMethod;\n\t},\n\tcreateEncryptedSampleEntryCtor: function(mediaType, type, parseMethod) {\n\t\tBoxParser.createSampleEntryCtor.call(this, mediaType, type, parseMethod, [\"sinf\"]);\n\t},\n\tcreateSampleGroupCtor: function(type, parseMethod) {\n\t\t//BoxParser.sampleGroupEntryCodes.push(type);\n\t\tBoxParser[type+\"SampleGroupEntry\"] = function(size) {\n\t\t\tBoxParser.SampleGroupEntry.call(this, type, size);\n\t\t}\n\t\tBoxParser[type+\"SampleGroupEntry\"].prototype = new BoxParser.SampleGroupEntry();\n\t\tif (parseMethod) BoxParser[type+\"SampleGroupEntry\"].prototype.parse = parseMethod;\n\t},\n\tcreateTrackGroupCtor: function(type, parseMethod) {\n\t\t//BoxParser.trackGroupTypes.push(type);\n\t\tBoxParser[type+\"TrackGroupTypeBox\"] = function(size) {\n\t\t\tBoxParser.TrackGroupTypeBox.call(this, type, size);\n\t\t}\n\t\tBoxParser[type+\"TrackGroupTypeBox\"].prototype = new BoxParser.TrackGroupTypeBox();\n\t\tif (parseMethod) BoxParser[type+\"TrackGroupTypeBox\"].prototype.parse = parseMethod;\n\t},\n\tcreateUUIDBox: function(uuid, isFullBox, isContainerBox, parseMethod) {\n\t\tBoxParser.UUIDs.push(uuid);\n\t\tBoxParser.UUIDBoxes[uuid] = function(size) {\n\t\t\tif (isFullBox) {\n\t\t\t\tBoxParser.FullBox.call(this, \"uuid\", size, uuid);\n\t\t\t} else {\n\t\t\t\tif (isContainerBox) {\n\t\t\t\t\tBoxParser.ContainerBox.call(this, \"uuid\", size, uuid);\n\t\t\t\t} else {\n\t\t\t\t\tBoxParser.Box.call(this, \"uuid\", size, uuid);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tBoxParser.UUIDBoxes[uuid].prototype = (isFullBox ? new BoxParser.FullBox() : (isContainerBox ? new BoxParser.ContainerBox() : new BoxParser.Box()));\n\t\tif (parseMethod) {\n\t\t\tif (isFullBox) {\n\t\t\t\tBoxParser.UUIDBoxes[uuid].prototype.parse = function(stream) {\n\t\t\t\t\tthis.parseFullHeader(stream);\n\t\t\t\t\tif (parseMethod) {\n\t\t\t\t\t\tparseMethod.call(this, stream);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tBoxParser.UUIDBoxes[uuid].prototype.parse = parseMethod;\n\t\t\t}\n\t\t}\n\t}\n}\n\nBoxParser.initialize();\n\nBoxParser.TKHD_FLAG_ENABLED    = 0x000001;\nBoxParser.TKHD_FLAG_IN_MOVIE   = 0x000002;\nBoxParser.TKHD_FLAG_IN_PREVIEW = 0x000004;\n\nBoxParser.TFHD_FLAG_BASE_DATA_OFFSET\t= 0x01;\nBoxParser.TFHD_FLAG_SAMPLE_DESC\t\t\t= 0x02;\nBoxParser.TFHD_FLAG_SAMPLE_DUR\t\t\t= 0x08;\nBoxParser.TFHD_FLAG_SAMPLE_SIZE\t\t\t= 0x10;\nBoxParser.TFHD_FLAG_SAMPLE_FLAGS\t\t= 0x20;\nBoxParser.TFHD_FLAG_DUR_EMPTY\t\t\t= 0x10000;\nBoxParser.TFHD_FLAG_DEFAULT_BASE_IS_MOOF= 0x20000;\n\nBoxParser.TRUN_FLAGS_DATA_OFFSET= 0x01;\nBoxParser.TRUN_FLAGS_FIRST_FLAG\t= 0x04;\nBoxParser.TRUN_FLAGS_DURATION\t= 0x100;\nBoxParser.TRUN_FLAGS_SIZE\t\t= 0x200;\nBoxParser.TRUN_FLAGS_FLAGS\t\t= 0x400;\nBoxParser.TRUN_FLAGS_CTS_OFFSET\t= 0x800;\n\nBoxParser.Box.prototype.add = function(name) {\n\treturn this.addBox(new BoxParser[name+\"Box\"]());\n}\n\nBoxParser.Box.prototype.addBox = function(box) {\n\tthis.boxes.push(box);\n\tif (this[box.type+\"s\"]) {\n\t\tthis[box.type+\"s\"].push(box);\n\t} else {\n\t\tthis[box.type] = box;\n\t}\n\treturn box;\n}\n\nBoxParser.Box.prototype.set = function(prop, value) {\n\tthis[prop] = value;\n\treturn this;\n}\n\nBoxParser.Box.prototype.addEntry = function(value, _prop) {\n\tvar prop = _prop || \"entries\";\n\tif (!this[prop]) {\n\t\tthis[prop] = [];\n\t}\n\tthis[prop].push(value);\n\treturn this;\n}\n\nif (typeof exports !== \"undefined\") {\n\texports.BoxParser = BoxParser;\n}\n// file:src/box-parse.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.parseUUID = function(stream) {\n\treturn BoxParser.parseHex16(stream);\n}\n\nBoxParser.parseHex16 = function(stream) {\n\tvar hex16 = \"\"\n\tfor (var i = 0; i <16; i++) {\n\t\tvar hex = stream.readUint8().toString(16);\n\t\thex16 += (hex.length === 1 ? \"0\"+hex : hex);\n\t}\n\treturn hex16;\n}\n\nBoxParser.parseOneBox = function(stream, headerOnly, parentSize) {\n\tvar box;\n\tvar start = stream.getPosition();\n\tvar hdr_size = 0;\n\tvar diff;\n\tvar uuid;\n\tif (stream.getEndPosition() - start < 8) {\n\t\tLog.debug(\"BoxParser\", \"Not enough data in stream to parse the type and size of the box\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t}\n\tif (parentSize && parentSize < 8) {\n\t\tLog.debug(\"BoxParser\", \"Not enough bytes left in the parent box to parse a new box\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t}\n\tvar size = stream.readUint32();\n\tvar type = stream.readString(4);\n\tvar box_type = type;\n\tLog.debug(\"BoxParser\", \"Found box of type '\"+type+\"' and size \"+size+\" at position \"+start);\n\thdr_size = 8;\n\tif (type == \"uuid\") {\n\t\tif ((stream.getEndPosition() - stream.getPosition() < 16) || (parentSize -hdr_size < 16)) {\n\t\t\tstream.seek(start);\n\t\t\tLog.debug(\"BoxParser\", \"Not enough bytes left in the parent box to parse a UUID box\");\n\t\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t\t}\n\t\tuuid = BoxParser.parseUUID(stream);\n\t\thdr_size += 16;\n\t\tbox_type = uuid;\n\t}\n\tif (size == 1) {\n\t\tif ((stream.getEndPosition() - stream.getPosition() < 8) || (parentSize && (parentSize - hdr_size) < 8)) {\n\t\t\tstream.seek(start);\n\t\t\tLog.warn(\"BoxParser\", \"Not enough data in stream to parse the extended size of the \\\"\"+type+\"\\\" box\");\n\t\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t\t}\n\t\tsize = stream.readUint64();\n\t\thdr_size += 8;\n\t} else if (size === 0) {\n\t\t/* box extends till the end of file or invalid file */\n\t\tif (parentSize) {\n\t\t\tsize = parentSize;\n\t\t} else {\n\t\t\t/* box extends till the end of file */\n\t\t\tif (type !== \"mdat\") {\n\t\t\t\tLog.error(\"BoxParser\", \"Unlimited box size not supported for type: '\"+type+\"'\");\n\t\t\t\tbox = new BoxParser.Box(type, size);\n\t\t\t\treturn { code: BoxParser.OK, box: box, size: box.size };\n\t\t\t}\n\t\t}\n\t}\n\tif (size !== 0 && size < hdr_size) {\n\t\tLog.error(\"BoxParser\", \"Box of type \"+type+\" has an invalid size \"+size+\" (too small to be a box)\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA, type: type, size: size, hdr_size: hdr_size, start: start };\n\t}\n\tif (size !== 0 && parentSize && size > parentSize) {\n\t\tLog.error(\"BoxParser\", \"Box of type '\"+type+\"' has a size \"+size+\" greater than its container size \"+parentSize);\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA, type: type, size: size, hdr_size: hdr_size, start: start };\n\t}\n\tif (size !== 0 && start + size > stream.getEndPosition()) {\n\t\tstream.seek(start);\n\t\tLog.info(\"BoxParser\", \"Not enough data in stream to parse the entire '\"+type+\"' box\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA, type: type, size: size, hdr_size: hdr_size, start: start };\n\t}\n\tif (headerOnly) {\n\t\treturn { code: BoxParser.OK, type: type, size: size, hdr_size: hdr_size, start: start };\n\t} else {\n\t\tif (BoxParser[type+\"Box\"]) {\n\t\t\tbox = new BoxParser[type+\"Box\"](size);\n\t\t} else {\n\t\t\tif (type !== \"uuid\") {\n\t\t\t\tLog.warn(\"BoxParser\", \"Unknown box type: '\"+type+\"'\");\n\t\t\t\tbox = new BoxParser.Box(type, size);\n\t\t\t\tbox.has_unparsed_data = true;\n\t\t\t} else {\n\t\t\t\tif (BoxParser.UUIDBoxes[uuid]) {\n\t\t\t\t\tbox = new BoxParser.UUIDBoxes[uuid](size);\n\t\t\t\t} else {\n\t\t\t\t\tLog.warn(\"BoxParser\", \"Unknown uuid type: '\"+uuid+\"'\");\n\t\t\t\t\tbox = new BoxParser.Box(type, size);\n\t\t\t\t\tbox.uuid = uuid;\n\t\t\t\t\tbox.has_unparsed_data = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tbox.hdr_size = hdr_size;\n\t/* recording the position of the box in the input stream */\n\tbox.start = start;\n\tif (box.write === BoxParser.Box.prototype.write && box.type !== \"mdat\") {\n\t\tLog.info(\"BoxParser\", \"'\"+box_type+\"' box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\tbox.parseDataAndRewind(stream);\n\t}\n\tbox.parse(stream);\n\tdiff = stream.getPosition() - (box.start+box.size);\n\tif (diff < 0) {\n\t\tLog.warn(\"BoxParser\", \"Parsing of box '\"+box_type+\"' did not read the entire indicated box data size (missing \"+(-diff)+\" bytes), seeking forward\");\n\t\tstream.seek(box.start+box.size);\n\t} else if (diff > 0) {\n\t\tLog.error(\"BoxParser\", \"Parsing of box '\"+box_type+\"' read \"+diff+\" more bytes than the indicated box data size, seeking backwards\");\n\t\tif (box.size !== 0) stream.seek(box.start+box.size);\n\t}\n\treturn { code: BoxParser.OK, box: box, size: box.size };\n}\n\nBoxParser.Box.prototype.parse = function(stream) {\n\tif (this.type != \"mdat\") {\n\t\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n\t} else {\n\t\tif (this.size === 0) {\n\t\t\tstream.seek(stream.getEndPosition());\n\t\t} else {\n\t\t\tstream.seek(this.start+this.size);\n\t\t}\n\t}\n}\n\n/* Used to parse a box without consuming its data, to allow detailled parsing\n   Useful for boxes for which a write method is not yet implemented */\nBoxParser.Box.prototype.parseDataAndRewind = function(stream) {\n\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n\t// rewinding\n\tstream.position -= this.size-this.hdr_size;\n}\n\nBoxParser.FullBox.prototype.parseDataAndRewind = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n\t// restore the header size as if the full header had not been parsed\n\tthis.hdr_size -= 4;\n\t// rewinding\n\tstream.position -= this.size-this.hdr_size;\n}\n\nBoxParser.FullBox.prototype.parseFullHeader = function (stream) {\n\tthis.version = stream.readUint8();\n\tthis.flags = stream.readUint24();\n\tthis.hdr_size += 4;\n}\n\nBoxParser.FullBox.prototype.parse = function (stream) {\n\tthis.parseFullHeader(stream);\n\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n}\n\nBoxParser.ContainerBox.prototype.parse = function(stream) {\n\tvar ret;\n\tvar box;\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\t/* store the box in the 'boxes' array to preserve box order (for offset) but also store box in a property for more direct access */\n\t\t\tthis.boxes.push(box);\n\t\t\tif (this.subBoxNames && this.subBoxNames.indexOf(box.type) != -1) {\n\t\t\t\tthis[this.subBoxNames[this.subBoxNames.indexOf(box.type)]+\"s\"].push(box);\n\t\t\t} else {\n\t\t\t\tvar box_type = box.type !== \"uuid\" ? box.type : box.uuid;\n\t\t\t\tif (this[box_type]) {\n\t\t\t\t\tLog.warn(\"Box of type \"+box_type+\" already stored in field of this type\");\n\t\t\t\t} else {\n\t\t\t\t\tthis[box_type] = box;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nBoxParser.Box.prototype.parseLanguage = function(stream) {\n\tthis.language = stream.readUint16();\n\tvar chars = [];\n\tchars[0] = (this.language>>10)&0x1F;\n\tchars[1] = (this.language>>5)&0x1F;\n\tchars[2] = (this.language)&0x1F;\n\tthis.languageString = String.fromCharCode(chars[0]+0x60, chars[1]+0x60, chars[2]+0x60);\n}\n\n// file:src/parsing/sampleentries/sampleentry.js\nBoxParser.SAMPLE_ENTRY_TYPE_VISUAL \t\t= \"Visual\";\nBoxParser.SAMPLE_ENTRY_TYPE_AUDIO \t\t= \"Audio\";\nBoxParser.SAMPLE_ENTRY_TYPE_HINT \t\t= \"Hint\";\nBoxParser.SAMPLE_ENTRY_TYPE_METADATA \t= \"Metadata\";\nBoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE \t= \"Subtitle\";\nBoxParser.SAMPLE_ENTRY_TYPE_SYSTEM \t\t= \"System\";\nBoxParser.SAMPLE_ENTRY_TYPE_TEXT \t\t= \"Text\";\n\nBoxParser.SampleEntry.prototype.parseHeader = function(stream) {\n\tstream.readUint8Array(6);\n\tthis.data_reference_index = stream.readUint16();\n\tthis.hdr_size += 8;\n}\n\nBoxParser.SampleEntry.prototype.parse = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.data = stream.readUint8Array(this.size - this.hdr_size);\n}\n\nBoxParser.SampleEntry.prototype.parseDataAndRewind = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.data = stream.readUint8Array(this.size - this.hdr_size);\n\t// restore the header size as if the sample entry header had not been parsed\n\tthis.hdr_size -= 8;\n\t// rewinding\n\tstream.position -= this.size-this.hdr_size;\n}\n\nBoxParser.SampleEntry.prototype.parseFooter = function(stream) {\n\tBoxParser.ContainerBox.prototype.parse.call(this, stream);\n}\n\n// Base SampleEntry types with default parsing\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_HINT);\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA);\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE);\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SYSTEM);\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_TEXT);\n\n//Base SampleEntry types for Audio and Video with specific parsing\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, function(stream) {\n\tvar compressorname_length;\n\tthis.parseHeader(stream);\n\tstream.readUint16();\n\tstream.readUint16();\n\tstream.readUint32Array(3);\n\tthis.width = stream.readUint16();\n\tthis.height = stream.readUint16();\n\tthis.horizresolution = stream.readUint32();\n\tthis.vertresolution = stream.readUint32();\n\tstream.readUint32();\n\tthis.frame_count = stream.readUint16();\n\tcompressorname_length = Math.min(31, stream.readUint8());\n\tthis.compressorname = stream.readString(compressorname_length);\n\tif (compressorname_length < 31) {\n\t\tstream.readString(31 - compressorname_length);\n\t}\n\tthis.depth = stream.readUint16();\n\tstream.readUint16();\n\tthis.parseFooter(stream);\n});\n\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, function(stream) {\n\tthis.parseHeader(stream);\n\tstream.readUint32Array(2);\n\tthis.channel_count = stream.readUint16();\n\tthis.samplesize = stream.readUint16();\n\tstream.readUint16();\n\tstream.readUint16();\n\tthis.samplerate = (stream.readUint32()/(1<<16));\n\tthis.parseFooter(stream);\n});\n\n// Sample entries inheriting from Audio and Video\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"avc1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"avc2\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"avc3\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"avc4\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"av01\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"hvc1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"hev1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vvc1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vvi1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vvs1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vvcN\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vp08\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vp09\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"mp4a\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"ac-3\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"ec-3\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"Opus\");\n\n// Encrypted sample entries\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \t\"encv\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"enca\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \t\"encu\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SYSTEM, \t\"encs\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_TEXT, \t\t\"enct\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA, \t\"encm\");\n// file:src/parsing/a1lx.js\nBoxParser.createBoxCtor(\"a1lx\", function(stream) {\n\tvar large_size = stream.readUint8() & 1;\n\tvar FieldLength = ((large_size & 1) + 1) * 16;\n\tthis.layer_size = [];\n\tfor (var i = 0; i < 3; i++) {\n\t\tif (FieldLength == 16) {\n\t\t\tthis.layer_size[i] = stream.readUint16();\n\t\t} else {\n\t\t\tthis.layer_size[i] = stream.readUint32();\n\t\t}\n\t}\n});// file:src/parsing/a1op.js\nBoxParser.createBoxCtor(\"a1op\", function(stream) {\n\tthis.op_index = stream.readUint8();\n});// file:src/parsing/auxC.js\nBoxParser.createFullBoxCtor(\"auxC\", function(stream) {\n\tthis.aux_type = stream.readCString();\n\tvar aux_subtype_length = this.size - this.hdr_size - (this.aux_type.length + 1);\n\tthis.aux_subtype = stream.readUint8Array(aux_subtype_length);\n});// file:src/parsing/av1C.js\nBoxParser.createBoxCtor(\"av1C\", function(stream) {\n\tvar i;\n\tvar toparse;\n\tvar tmp = stream.readUint8();\n\tif ((tmp >> 7) & 0x1 !== 1) {\n\t\tLog.error(\"av1C marker problem\");\n\t\treturn;\n\t}\n\tthis.version = tmp & 0x7F;\n\tif (this.version !== 1) {\n\t\tLog.error(\"av1C version \"+this.version+\" not supported\");\n\t\treturn;\n\t}\n\ttmp = stream.readUint8();\n\tthis.seq_profile = (tmp >> 5) & 0x7;\n\tthis.seq_level_idx_0 = tmp & 0x1F;\n\ttmp = stream.readUint8();\n\tthis.seq_tier_0 = (tmp >> 7) & 0x1;\n\tthis.high_bitdepth = (tmp >> 6) & 0x1;\n\tthis.twelve_bit = (tmp >> 5) & 0x1;\n\tthis.monochrome = (tmp >> 4) & 0x1;\n\tthis.chroma_subsampling_x = (tmp >> 3) & 0x1;\n\tthis.chroma_subsampling_y = (tmp >> 2) & 0x1;\n\tthis.chroma_sample_position = (tmp & 0x3);\n\ttmp = stream.readUint8();\n\tthis.reserved_1 = (tmp >> 5) & 0x7;\n\tif (this.reserved_1 !== 0) {\n\t\tLog.error(\"av1C reserved_1 parsing problem\");\n\t\treturn;\n\t}\n\tthis.initial_presentation_delay_present = (tmp >> 4) & 0x1;\n\tif (this.initial_presentation_delay_present === 1) {\n\t\tthis.initial_presentation_delay_minus_one = (tmp & 0xF);\n\t} else {\n\t\tthis.reserved_2 = (tmp & 0xF);\n\t\tif (this.reserved_2 !== 0) {\n\t\t\tLog.error(\"av1C reserved_2 parsing problem\");\n\t\t\treturn;\n\t\t}\n\t}\n\n\tvar configOBUs_length = this.size - this.hdr_size - 4;\n\tthis.configOBUs = stream.readUint8Array(configOBUs_length);\n});\n\n// file:src/parsing/avcC.js\nBoxParser.createBoxCtor(\"avcC\", function(stream) {\n\tvar i;\n\tvar toparse;\n\tthis.configurationVersion = stream.readUint8();\n\tthis.AVCProfileIndication = stream.readUint8();\n\tthis.profile_compatibility = stream.readUint8();\n\tthis.AVCLevelIndication = stream.readUint8();\n\tthis.lengthSizeMinusOne = (stream.readUint8() & 0x3);\n\tthis.nb_SPS_nalus = (stream.readUint8() & 0x1F);\n\ttoparse = this.size - this.hdr_size - 6;\n\tthis.SPS = [];\n\tfor (i = 0; i < this.nb_SPS_nalus; i++) {\n\t\tthis.SPS[i] = {};\n\t\tthis.SPS[i].length = stream.readUint16();\n\t\tthis.SPS[i].nalu = stream.readUint8Array(this.SPS[i].length);\n\t\ttoparse -= 2+this.SPS[i].length;\n\t}\n\tthis.nb_PPS_nalus = stream.readUint8();\n\ttoparse--;\n\tthis.PPS = [];\n\tfor (i = 0; i < this.nb_PPS_nalus; i++) {\n\t\tthis.PPS[i] = {};\n\t\tthis.PPS[i].length = stream.readUint16();\n\t\tthis.PPS[i].nalu = stream.readUint8Array(this.PPS[i].length);\n\t\ttoparse -= 2+this.PPS[i].length;\n\t}\n\tif (toparse>0) {\n\t\tthis.ext = stream.readUint8Array(toparse);\n\t}\n});\n\n// file:src/parsing/btrt.js\nBoxParser.createBoxCtor(\"btrt\", function(stream) {\n\tthis.bufferSizeDB = stream.readUint32();\n\tthis.maxBitrate = stream.readUint32();\n\tthis.avgBitrate = stream.readUint32();\n});\n\n// file:src/parsing/clap.js\nBoxParser.createBoxCtor(\"clap\", function(stream) {\n\tthis.cleanApertureWidthN = stream.readUint32();\n\tthis.cleanApertureWidthD = stream.readUint32();\n\tthis.cleanApertureHeightN = stream.readUint32();\n\tthis.cleanApertureHeightD = stream.readUint32();\n\tthis.horizOffN = stream.readUint32();\n\tthis.horizOffD = stream.readUint32();\n\tthis.vertOffN = stream.readUint32();\n\tthis.vertOffD = stream.readUint32();\n});// file:src/parsing/clli.js\nBoxParser.createBoxCtor(\"clli\", function(stream) {\n\tthis.max_content_light_level = stream.readUint16();\n    this.max_pic_average_light_level = stream.readUint16();\n});\n\n// file:src/parsing/co64.js\nBoxParser.createFullBoxCtor(\"co64\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tentry_count = stream.readUint32();\n\tthis.chunk_offsets = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.chunk_offsets.push(stream.readUint64());\n\t\t}\n\t}\n});\n\n// file:src/parsing/CoLL.js\nBoxParser.createFullBoxCtor(\"CoLL\", function(stream) {\n\tthis.maxCLL = stream.readUint16();\n    this.maxFALL = stream.readUint16();\n});\n\n// file:src/parsing/colr.js\nBoxParser.createBoxCtor(\"colr\", function(stream) {\n\tthis.colour_type = stream.readString(4);\n\tif (this.colour_type === 'nclx') {\n\t\tthis.colour_primaries = stream.readUint16();\n\t\tthis.transfer_characteristics = stream.readUint16();\n\t\tthis.matrix_coefficients = stream.readUint16();\n\t\tvar tmp = stream.readUint8();\n\t\tthis.full_range_flag = tmp >> 7;\n\t} else if (this.colour_type === 'rICC') {\n\t\tthis.ICC_profile = stream.readUint8Array(this.size - 4);\n\t} else if (this.colour_type === 'prof') {\n\t\tthis.ICC_profile = stream.readUint8Array(this.size - 4);\n\t}\n});// file:src/parsing/cprt.js\nBoxParser.createFullBoxCtor(\"cprt\", function (stream) {\n\tthis.parseLanguage(stream);\n\tthis.notice = stream.readCString();\n});\n\n// file:src/parsing/cslg.js\nBoxParser.createFullBoxCtor(\"cslg\", function(stream) {\n\tvar entry_count;\n\tif (this.version === 0) {\n\t\tthis.compositionToDTSShift = stream.readInt32(); /* signed */\n\t\tthis.leastDecodeToDisplayDelta = stream.readInt32(); /* signed */\n\t\tthis.greatestDecodeToDisplayDelta = stream.readInt32(); /* signed */\n\t\tthis.compositionStartTime = stream.readInt32(); /* signed */\n\t\tthis.compositionEndTime = stream.readInt32(); /* signed */\n\t}\n});\n\n// file:src/parsing/ctts.js\nBoxParser.createFullBoxCtor(\"ctts\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tentry_count = stream.readUint32();\n\tthis.sample_counts = [];\n\tthis.sample_offsets = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_counts.push(stream.readUint32());\n\t\t\t/* some files are buggy and declare version=0 while using signed offsets.\n\t\t\t   The likelyhood of using the most significant bit in a 32-bits time offset is very low,\n\t\t\t   so using signed value here as well */\n\t\t\t   var value = stream.readInt32();\n\t\t\t   if (value < 0) {\n\t\t\t   \t\tLog.warn(\"BoxParser\", \"ctts box uses negative values without using version 1\");\n\t\t\t   }\n\t\t\tthis.sample_offsets.push(value);\n\t\t}\n\t} else if (this.version == 1) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_counts.push(stream.readUint32());\n\t\t\tthis.sample_offsets.push(stream.readInt32()); /* signed */\n\t\t}\n\t}\n});\n\n// file:src/parsing/dac3.js\nBoxParser.createBoxCtor(\"dac3\", function(stream) {\n\tvar tmp_byte1 = stream.readUint8();\n\tvar tmp_byte2 = stream.readUint8();\n\tvar tmp_byte3 = stream.readUint8();\n\tthis.fscod = tmp_byte1 >> 6;\n\tthis.bsid  = ((tmp_byte1 >> 1) & 0x1F);\n\tthis.bsmod = ((tmp_byte1 & 0x1) <<  2) | ((tmp_byte2 >> 6) & 0x3);\n\tthis.acmod = ((tmp_byte2 >> 3) & 0x7);\n\tthis.lfeon = ((tmp_byte2 >> 2) & 0x1);\n\tthis.bit_rate_code = (tmp_byte2 & 0x3) | ((tmp_byte3 >> 5) & 0x7);\n});\n\n// file:src/parsing/dec3.js\nBoxParser.createBoxCtor(\"dec3\", function(stream) {\n\tvar tmp_16 = stream.readUint16();\n\tthis.data_rate = tmp_16 >> 3;\n\tthis.num_ind_sub = tmp_16 & 0x7;\n\tthis.ind_subs = [];\n\tfor (var i = 0; i < this.num_ind_sub+1; i++) {\n\t\tvar ind_sub = {};\n\t\tthis.ind_subs.push(ind_sub);\n\t\tvar tmp_byte1 = stream.readUint8();\n\t\tvar tmp_byte2 = stream.readUint8();\n\t\tvar tmp_byte3 = stream.readUint8();\n\t\tind_sub.fscod = tmp_byte1 >> 6;\n\t\tind_sub.bsid  = ((tmp_byte1 >> 1) & 0x1F);\n\t\tind_sub.bsmod = ((tmp_byte1 & 0x1) << 4) | ((tmp_byte2 >> 4) & 0xF);\n\t\tind_sub.acmod = ((tmp_byte2 >> 1) & 0x7);\n\t\tind_sub.lfeon = (tmp_byte2 & 0x1);\n\t\tind_sub.num_dep_sub = ((tmp_byte3 >> 1) & 0xF);\n\t\tif (ind_sub.num_dep_sub > 0) {\n\t\t\tind_sub.chan_loc = ((tmp_byte3 & 0x1) << 8) | stream.readUint8();\n\t\t}\n\t}\n});\n\n// file:src/parsing/dfLa.js\nBoxParser.createFullBoxCtor(\"dfLa\", function(stream) {\n    var BLOCKTYPE_MASK = 0x7F;\n    var LASTMETADATABLOCKFLAG_MASK = 0x80;\n\n    var boxesFound = [];\n    var knownBlockTypes = [\n        \"STREAMINFO\",\n        \"PADDING\",\n        \"APPLICATION\",\n        \"SEEKTABLE\",\n        \"VORBIS_COMMENT\",\n        \"CUESHEET\",\n        \"PICTURE\",\n        \"RESERVED\"\n    ];\n\n    // dfLa is a FullBox\n    this.parseFullHeader(stream);\n\n    // for (i=0; ; i++) { // to end of box\n    do {\n        var flagAndType = stream.readUint8();\n\n        var type = Math.min(\n            (flagAndType & BLOCKTYPE_MASK),\n            (knownBlockTypes.length - 1)\n        );\n\n        // if this is a STREAMINFO block, read the true samplerate since this\n        // can be different to the AudioSampleEntry samplerate.\n        if (!(type)) {\n            // read past all the other stuff\n            stream.readUint8Array(13);\n\n            // extract samplerate\n            this.samplerate = (stream.readUint32() >> 12);\n\n            // read to end of STREAMINFO\n            stream.readUint8Array(20);\n        } else {\n            // not interested in other block types so just discard length bytes\n            stream.readUint8Array(stream.readUint24());\n        }\n\n        boxesFound.push(knownBlockTypes[type]);\n\n        if (!!(flagAndType & LASTMETADATABLOCKFLAG_MASK)) {\n            break;\n        }\n    } while (true);\n\n    this.numMetadataBlocks =\n        boxesFound.length + \" (\" + boxesFound.join(\", \") + \")\";\n});\n// file:src/parsing/dimm.js\nBoxParser.createBoxCtor(\"dimm\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/dmax.js\nBoxParser.createBoxCtor(\"dmax\", function(stream) {\n\tthis.time = stream.readUint32();\n});\n\n// file:src/parsing/dmed.js\nBoxParser.createBoxCtor(\"dmed\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/dOps.js\nBoxParser.createBoxCtor(\"dOps\", function(stream) {\n\tthis.Version = stream.readUint8();\n\tthis.OutputChannelCount = stream.readUint8();\n\tthis.PreSkip = stream.readUint16();\n\tthis.InputSampleRate = stream.readUint32();\n\tthis.OutputGain = stream.readInt16();\n\tthis.ChannelMappingFamily = stream.readUint8();\n\tif (this.ChannelMappingFamily !== 0) {\n\t\tthis.StreamCount = stream.readUint8();\n\t\tthis.CoupledCount = stream.readUint8();\n\t\tthis.ChannelMapping = [];\n\t\tfor (var i = 0; i < this.OutputChannelCount; i++) {\n\t\t\tthis.ChannelMapping[i] = stream.readUint8();\n\t\t}\n\t}\n});\n\n// file:src/parsing/dref.js\nBoxParser.createFullBoxCtor(\"dref\", function(stream) {\n\tvar ret;\n\tvar box;\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\tthis.entries.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/drep.js\nBoxParser.createBoxCtor(\"drep\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/elng.js\nBoxParser.createFullBoxCtor(\"elng\", function(stream) {\n\tthis.extended_language = stream.readString(this.size-this.hdr_size);\n});\n\n// file:src/parsing/elst.js\nBoxParser.createFullBoxCtor(\"elst\", function(stream) {\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tvar entry = {};\n\t\tthis.entries.push(entry);\n\t\tif (this.version === 1) {\n\t\t\tentry.segment_duration = stream.readUint64();\n\t\t\tentry.media_time = stream.readInt64();\n\t\t} else {\n\t\t\tentry.segment_duration = stream.readUint32();\n\t\t\tentry.media_time = stream.readInt32();\n\t\t}\n\t\tentry.media_rate_integer = stream.readInt16();\n\t\tentry.media_rate_fraction = stream.readInt16();\n\t}\n});\n\n// file:src/parsing/emsg.js\nBoxParser.createFullBoxCtor(\"emsg\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.timescale \t\t\t\t\t= stream.readUint32();\n\t\tthis.presentation_time \t\t\t= stream.readUint64();\n\t\tthis.event_duration\t\t\t \t= stream.readUint32();\n\t\tthis.id \t\t\t\t\t\t= stream.readUint32();\n\t\tthis.scheme_id_uri \t\t\t\t= stream.readCString();\n\t\tthis.value \t\t\t\t\t\t= stream.readCString();\n\t} else {\n\t\tthis.scheme_id_uri \t\t\t\t= stream.readCString();\n\t\tthis.value \t\t\t\t\t\t= stream.readCString();\n\t\tthis.timescale \t\t\t\t\t= stream.readUint32();\n\t\tthis.presentation_time_delta \t= stream.readUint32();\n\t\tthis.event_duration\t\t\t \t= stream.readUint32();\n\t\tthis.id \t\t\t\t\t\t= stream.readUint32();\n\t}\n\tvar message_size = this.size - this.hdr_size - (4*4 + (this.scheme_id_uri.length+1) + (this.value.length+1));\n\tif (this.version == 1) {\n\t\tmessage_size -= 4;\n\t}\n\tthis.message_data = stream.readUint8Array(message_size);\n});\n\n// file:src/parsing/esds.js\nBoxParser.createFullBoxCtor(\"esds\", function(stream) {\n\tvar esd_data = stream.readUint8Array(this.size-this.hdr_size);\n\tif (typeof MPEG4DescriptorParser !== \"undefined\") {\n\t\tvar esd_parser = new MPEG4DescriptorParser();\n\t\tthis.esd = esd_parser.parseOneDescriptor(new DataStream(esd_data.buffer, 0, DataStream.BIG_ENDIAN));\n\t}\n});\n\n// file:src/parsing/fiel.js\nBoxParser.createBoxCtor(\"fiel\", function(stream) {\n\tthis.fieldCount = stream.readUint8();\n\tthis.fieldOrdering = stream.readUint8();\n});\n\n// file:src/parsing/frma.js\nBoxParser.createBoxCtor(\"frma\", function(stream) {\n\tthis.data_format = stream.readString(4);\n});\n\n// file:src/parsing/ftyp.js\nBoxParser.createBoxCtor(\"ftyp\", function(stream) {\n\tvar toparse = this.size - this.hdr_size;\n\tthis.major_brand = stream.readString(4);\n\tthis.minor_version = stream.readUint32();\n\ttoparse -= 8;\n\tthis.compatible_brands = [];\n\tvar i = 0;\n\twhile (toparse>=4) {\n\t\tthis.compatible_brands[i] = stream.readString(4);\n\t\ttoparse -= 4;\n\t\ti++;\n\t}\n});\n\n// file:src/parsing/hdlr.js\nBoxParser.createFullBoxCtor(\"hdlr\", function(stream) {\n\tif (this.version === 0) {\n\t\tstream.readUint32();\n\t\tthis.handler = stream.readString(4);\n\t\tstream.readUint32Array(3);\n\t\tthis.name = stream.readString(this.size-this.hdr_size-20);\n\t\tif (this.name[this.name.length-1]==='\\0') {\n\t\t\tthis.name = this.name.slice(0,-1);\n\t\t}\n\t}\n});\n\n// file:src/parsing/hvcC.js\nBoxParser.createBoxCtor(\"hvcC\", function(stream) {\n\tvar i, j;\n\tvar nb_nalus;\n\tvar length;\n\tvar tmp_byte;\n\tthis.configurationVersion = stream.readUint8();\n\ttmp_byte = stream.readUint8();\n\tthis.general_profile_space = tmp_byte >> 6;\n\tthis.general_tier_flag = (tmp_byte & 0x20) >> 5;\n\tthis.general_profile_idc = (tmp_byte & 0x1F);\n\tthis.general_profile_compatibility = stream.readUint32();\n\tthis.general_constraint_indicator = stream.readUint8Array(6);\n\tthis.general_level_idc = stream.readUint8();\n\tthis.min_spatial_segmentation_idc = stream.readUint16() & 0xFFF;\n\tthis.parallelismType = (stream.readUint8() & 0x3);\n\tthis.chroma_format_idc = (stream.readUint8() & 0x3);\n\tthis.bit_depth_luma_minus8 = (stream.readUint8() & 0x7);\n\tthis.bit_depth_chroma_minus8 = (stream.readUint8() & 0x7);\n\tthis.avgFrameRate = stream.readUint16();\n\ttmp_byte = stream.readUint8();\n\tthis.constantFrameRate = (tmp_byte >> 6);\n\tthis.numTemporalLayers = (tmp_byte & 0XD) >> 3;\n\tthis.temporalIdNested = (tmp_byte & 0X4) >> 2;\n\tthis.lengthSizeMinusOne = (tmp_byte & 0X3);\n\n\tthis.nalu_arrays = [];\n\tvar numOfArrays = stream.readUint8();\n\tfor (i = 0; i < numOfArrays; i++) {\n\t\tvar nalu_array = [];\n\t\tthis.nalu_arrays.push(nalu_array);\n\t\ttmp_byte = stream.readUint8()\n\t\tnalu_array.completeness = (tmp_byte & 0x80) >> 7;\n\t\tnalu_array.nalu_type = tmp_byte & 0x3F;\n\t\tvar numNalus = stream.readUint16();\n\t\tfor (j = 0; j < numNalus; j++) {\n\t\t\tvar nalu = {}\n\t\t\tnalu_array.push(nalu);\n\t\t\tlength = stream.readUint16();\n\t\t\tnalu.data   = stream.readUint8Array(length);\n\t\t}\n\t}\n});\n\n// file:src/parsing/iinf.js\nBoxParser.createFullBoxCtor(\"iinf\", function(stream) {\n\tvar ret;\n\tif (this.version === 0) {\n\t\tthis.entry_count = stream.readUint16();\n\t} else {\n\t\tthis.entry_count = stream.readUint32();\n\t}\n\tthis.item_infos = [];\n\tfor (var i = 0; i < this.entry_count; i++) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tif (ret.box.type !== \"infe\") {\n\t\t\t\tLog.error(\"BoxParser\", \"Expected 'infe' box, got \"+ret.box.type);\n\t\t\t}\n\t\t\tthis.item_infos[i] = ret.box;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/iloc.js\nBoxParser.createFullBoxCtor(\"iloc\", function(stream) {\n\tvar byte;\n\tbyte = stream.readUint8();\n\tthis.offset_size = (byte >> 4) & 0xF;\n\tthis.length_size = byte & 0xF;\n\tbyte = stream.readUint8();\n\tthis.base_offset_size = (byte >> 4) & 0xF;\n\tif (this.version === 1 || this.version === 2) {\n\t\tthis.index_size = byte & 0xF;\n\t} else {\n\t\tthis.index_size = 0;\n\t\t// reserved = byte & 0xF;\n\t}\n\tthis.items = [];\n\tvar item_count = 0;\n\tif (this.version < 2) {\n\t\titem_count = stream.readUint16();\n\t} else if (this.version === 2) {\n\t\titem_count = stream.readUint32();\n\t} else {\n\t\tthrow \"version of iloc box not supported\";\n\t}\n\tfor (var i = 0; i < item_count; i++) {\n\t\tvar item = {};\n\t\tthis.items.push(item);\n\t\tif (this.version < 2) {\n\t\t\titem.item_ID = stream.readUint16();\n\t\t} else if (this.version === 2) {\n\t\t\titem.item_ID = stream.readUint16();\n\t\t} else {\n\t\t\tthrow \"version of iloc box not supported\";\n\t\t}\n\t\tif (this.version === 1 || this.version === 2) {\n\t\t\titem.construction_method = (stream.readUint16() & 0xF);\n\t\t} else {\n\t\t\titem.construction_method = 0;\n\t\t}\n\t\titem.data_reference_index = stream.readUint16();\n\t\tswitch(this.base_offset_size) {\n\t\t\tcase 0:\n\t\t\t\titem.base_offset = 0;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\titem.base_offset = stream.readUint32();\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\titem.base_offset = stream.readUint64();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow \"Error reading base offset size\";\n\t\t}\n\t\tvar extent_count = stream.readUint16();\n\t\titem.extents = [];\n\t\tfor (var j=0; j < extent_count; j++) {\n\t\t\tvar extent = {};\n\t\t\titem.extents.push(extent);\n\t\t\tif (this.version === 1 || this.version === 2) {\n\t\t\t\tswitch(this.index_size) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\textent.extent_index = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\textent.extent_index = stream.readUint32();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\textent.extent_index = stream.readUint64();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow \"Error reading extent index\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tswitch(this.offset_size) {\n\t\t\t\tcase 0:\n\t\t\t\t\textent.extent_offset = 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\textent.extent_offset = stream.readUint32();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\textent.extent_offset = stream.readUint64();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow \"Error reading extent index\";\n\t\t\t}\n\t\t\tswitch(this.length_size) {\n\t\t\t\tcase 0:\n\t\t\t\t\textent.extent_length = 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\textent.extent_length = stream.readUint32();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\textent.extent_length = stream.readUint64();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow \"Error reading extent index\";\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/imir.js\nBoxParser.createBoxCtor(\"imir\", function(stream) {\n\tvar tmp = stream.readUint8();\n\tthis.reserved = tmp >> 7;\n\tthis.axis = tmp & 1;\n});// file:src/parsing/infe.js\nBoxParser.createFullBoxCtor(\"infe\", function(stream) {\n\tif (this.version === 0 || this.version === 1) {\n\t\tthis.item_ID = stream.readUint16();\n\t\tthis.item_protection_index = stream.readUint16();\n\t\tthis.item_name = stream.readCString();\n\t\tthis.content_type = stream.readCString();\n\t\tthis.content_encoding = stream.readCString();\n\t}\n\tif (this.version === 1) {\n\t\tthis.extension_type = stream.readString(4);\n\t\tLog.warn(\"BoxParser\", \"Cannot parse extension type\");\n\t\tstream.seek(this.start+this.size);\n\t\treturn;\n\t}\n\tif (this.version >= 2) {\n\t\tif (this.version === 2) {\n\t\t\tthis.item_ID = stream.readUint16();\n\t\t} else if (this.version === 3) {\n\t\t\tthis.item_ID = stream.readUint32();\n\t\t}\n\t\tthis.item_protection_index = stream.readUint16();\n\t\tthis.item_type = stream.readString(4);\n\t\tthis.item_name = stream.readCString();\n\t\tif (this.item_type === \"mime\") {\n\t\t\tthis.content_type = stream.readCString();\n\t\t\tthis.content_encoding = stream.readCString();\n\t\t} else if (this.item_type === \"uri \") {\n\t\t\tthis.item_uri_type = stream.readCString();\n\t\t}\n\t}\n});\n// file:src/parsing/ipma.js\nBoxParser.createFullBoxCtor(\"ipma\", function(stream) {\n\tvar i, j;\n\tentry_count = stream.readUint32();\n\tthis.associations = [];\n\tfor(i=0; i<entry_count; i++) {\n\t\tvar item_assoc = {};\n\t\tthis.associations.push(item_assoc);\n\t\tif (this.version < 1) {\n\t\t\titem_assoc.id = stream.readUint16();\n\t\t} else {\n\t\t\titem_assoc.id = stream.readUint32();\n\t\t}\n\t\tvar association_count = stream.readUint8();\n\t\titem_assoc.props = [];\n\t\tfor (j = 0; j < association_count; j++) {\n\t\t\tvar tmp = stream.readUint8();\n\t\t\tvar p = {};\n\t\t\titem_assoc.props.push(p);\n\t\t\tp.essential = ((tmp & 0x80) >> 7) === 1;\n\t\t\tif (this.flags & 0x1) {\n\t\t\t\tp.property_index = (tmp & 0x7F) << 8 | stream.readUint8();\n\t\t\t} else {\n\t\t\t\tp.property_index = (tmp & 0x7F);\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/iref.js\nBoxParser.createFullBoxCtor(\"iref\", function(stream) {\n\tvar ret;\n\tvar entryCount;\n\tvar box;\n\tthis.references = [];\n\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, true, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tif (this.version === 0) {\n\t\t\t\tbox = new BoxParser.SingleItemTypeReferenceBox(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\t} else {\n\t\t\t\tbox = new BoxParser.SingleItemTypeReferenceBoxLarge(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\t}\n\t\t\tif (box.write === BoxParser.Box.prototype.write && box.type !== \"mdat\") {\n\t\t\t\tLog.warn(\"BoxParser\", box.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t\tbox.parseDataAndRewind(stream);\n\t\t\t}\n\t\t\tbox.parse(stream);\n\t\t\tthis.references.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n// file:src/parsing/irot.js\nBoxParser.createBoxCtor(\"irot\", function(stream) {\n\tthis.angle = stream.readUint8() & 0x3;\n});\n\n// file:src/parsing/ispe.js\nBoxParser.createFullBoxCtor(\"ispe\", function(stream) {\n\tthis.image_width = stream.readUint32();\n\tthis.image_height = stream.readUint32();\n});// file:src/parsing/kind.js\nBoxParser.createFullBoxCtor(\"kind\", function(stream) {\n\tthis.schemeURI = stream.readCString();\n\tthis.value = stream.readCString();\n});\n// file:src/parsing/leva.js\nBoxParser.createFullBoxCtor(\"leva\", function(stream) {\n\tvar count = stream.readUint8();\n\tthis.levels = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tvar level = {};\n\t\tthis.levels[i] = level;\n\t\tlevel.track_ID = stream.readUint32();\n\t\tvar tmp_byte = stream.readUint8();\n\t\tlevel.padding_flag = tmp_byte >> 7;\n\t\tlevel.assignment_type = tmp_byte & 0x7F;\n\t\tswitch (level.assignment_type) {\n\t\t\tcase 0:\n\t\t\t\tlevel.grouping_type = stream.readString(4);\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tlevel.grouping_type = stream.readString(4);\n\t\t\t\tlevel.grouping_type_parameter = stream.readUint32();\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tlevel.sub_track_id = stream.readUint32();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tLog.warn(\"BoxParser\", \"Unknown leva assignement type\");\n\t\t}\n\t}\n});\n\n// file:src/parsing/lsel.js\nBoxParser.createBoxCtor(\"lsel\", function(stream) {\n\tthis.layer_id = stream.readUint16();\n});// file:src/parsing/maxr.js\nBoxParser.createBoxCtor(\"maxr\", function(stream) {\n\tthis.period = stream.readUint32();\n\tthis.bytes = stream.readUint32();\n});\n\n// file:src/parsing/mdcv.js\nBoxParser.createBoxCtor(\"mdcv\", function(stream) {\n    this.display_primaries = [];\n    this.display_primaries[0] = {};\n    this.display_primaries[0].x = stream.readUint16();\n    this.display_primaries[0].y = stream.readUint16();\n    this.display_primaries[1] = {};\n    this.display_primaries[1].x = stream.readUint16();\n    this.display_primaries[1].y = stream.readUint16();\n    this.display_primaries[2] = {};\n    this.display_primaries[2].x = stream.readUint16();\n    this.display_primaries[2].y = stream.readUint16();\n    this.white_point = {};\n    this.white_point.x = stream.readUint16();\n    this.white_point.y = stream.readUint16();\n    this.max_display_mastering_luminance = stream.readUint32();\n    this.min_display_mastering_luminance = stream.readUint32();\n});\n\n// file:src/parsing/mdhd.js\nBoxParser.createFullBoxCtor(\"mdhd\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.creation_time = stream.readUint64();\n\t\tthis.modification_time = stream.readUint64();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint64();\n\t} else {\n\t\tthis.creation_time = stream.readUint32();\n\t\tthis.modification_time = stream.readUint32();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint32();\n\t}\n\tthis.parseLanguage(stream);\n\tstream.readUint16();\n});\n\n// file:src/parsing/mehd.js\nBoxParser.createFullBoxCtor(\"mehd\", function(stream) {\n\tif (this.flags & 0x1) {\n\t\tLog.warn(\"BoxParser\", \"mehd box incorrectly uses flags set to 1, converting version to 1\");\n\t\tthis.version = 1;\n\t}\n\tif (this.version == 1) {\n\t\tthis.fragment_duration = stream.readUint64();\n\t} else {\n\t\tthis.fragment_duration = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/meta.js\nBoxParser.createFullBoxCtor(\"meta\", function(stream) {\n\tthis.boxes = [];\n\tBoxParser.ContainerBox.prototype.parse.call(this, stream);\n});\n// file:src/parsing/mfhd.js\nBoxParser.createFullBoxCtor(\"mfhd\", function(stream) {\n\tthis.sequence_number = stream.readUint32();\n});\n\n// file:src/parsing/mfro.js\nBoxParser.createFullBoxCtor(\"mfro\", function(stream) {\n\tthis._size = stream.readUint32();\n});\n\n// file:src/parsing/mvhd.js\nBoxParser.createFullBoxCtor(\"mvhd\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.creation_time = stream.readUint64();\n\t\tthis.modification_time = stream.readUint64();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint64();\n\t} else {\n\t\tthis.creation_time = stream.readUint32();\n\t\tthis.modification_time = stream.readUint32();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint32();\n\t}\n\tthis.rate = stream.readUint32();\n\tthis.volume = stream.readUint16()>>8;\n\tstream.readUint16();\n\tstream.readUint32Array(2);\n\tthis.matrix = stream.readUint32Array(9);\n\tstream.readUint32Array(6);\n\tthis.next_track_id = stream.readUint32();\n});\n// file:src/parsing/npck.js\nBoxParser.createBoxCtor(\"npck\", function(stream) {\n\tthis.packetssent = stream.readUint32();\n});\n\n// file:src/parsing/nump.js\nBoxParser.createBoxCtor(\"nump\", function(stream) {\n\tthis.packetssent = stream.readUint64();\n});\n\n// file:src/parsing/padb.js\nBoxParser.createFullBoxCtor(\"padb\", function(stream) {\n\tvar sample_count = stream.readUint32();\n\tthis.padbits = [];\n\tfor (var i = 0; i < Math.floor((sample_count+1)/2); i++) {\n\t\tthis.padbits = stream.readUint8();\n\t}\n});\n\n// file:src/parsing/pasp.js\nBoxParser.createBoxCtor(\"pasp\", function(stream) {\n\tthis.hSpacing = stream.readUint32();\n\tthis.vSpacing = stream.readUint32();\n});// file:src/parsing/payl.js\nBoxParser.createBoxCtor(\"payl\", function(stream) {\n\tthis.text = stream.readString(this.size - this.hdr_size);\n});\n\n// file:src/parsing/payt.js\nBoxParser.createBoxCtor(\"payt\", function(stream) {\n\tthis.payloadID = stream.readUint32();\n\tvar count = stream.readUint8();\n\tthis.rtpmap_string = stream.readString(count);\n});\n\n// file:src/parsing/pdin.js\nBoxParser.createFullBoxCtor(\"pdin\", function(stream) {\n\tvar count = (this.size - this.hdr_size)/8;\n\tthis.rate = [];\n\tthis.initial_delay = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.rate[i] = stream.readUint32();\n\t\tthis.initial_delay[i] = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/pitm.js\nBoxParser.createFullBoxCtor(\"pitm\", function(stream) {\n\tif (this.version === 0) {\n\t\tthis.item_id = stream.readUint16();\n\t} else {\n\t\tthis.item_id = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/pixi.js\nBoxParser.createFullBoxCtor(\"pixi\", function(stream) {\n\tvar i;\n\tthis.num_channels = stream.readUint8();\n\tthis.bits_per_channels = [];\n\tfor (i = 0; i < this.num_channels; i++) {\n\t\tthis.bits_per_channels[i] = stream.readUint8();\n\t}\n});\n\n// file:src/parsing/pmax.js\nBoxParser.createBoxCtor(\"pmax\", function(stream) {\n\tthis.bytes = stream.readUint32();\n});\n\n// file:src/parsing/prft.js\nBoxParser.createFullBoxCtor(\"prft\", function(stream) {\n\tthis.ref_track_id = stream.readUint32();\n\tthis.ntp_timestamp = stream.readUint64();\n\tif (this.version === 0) {\n\t\tthis.media_time = stream.readUint32();\n\t} else {\n\t\tthis.media_time = stream.readUint64();\n\t}\n});\n\n// file:src/parsing/pssh.js\nBoxParser.createFullBoxCtor(\"pssh\", function(stream) {\n\tthis.system_id = BoxParser.parseHex16(stream);\n\tif (this.version > 0) {\n\t\tvar count = stream.readUint32();\n\t\tthis.kid = [];\n\t\tfor (var i = 0; i < count; i++) {\n\t\t\tthis.kid[i] = BoxParser.parseHex16(stream);\n\t\t}\n\t}\n\tvar datasize = stream.readUint32();\n\tif (datasize > 0) {\n\t\tthis.data = stream.readUint8Array(datasize);\n\t}\n});\n\n// file:src/parsing/qt/clef.js\nBoxParser.createFullBoxCtor(\"clef\", function(stream) {\n\tthis.width = stream.readUint32();\n\tthis.height = stream.readUint32();\n});// file:src/parsing/qt/enof.js\nBoxParser.createFullBoxCtor(\"enof\", function(stream) {\n\tthis.width = stream.readUint32();\n\tthis.height = stream.readUint32();\n});// file:src/parsing/qt/prof.js\nBoxParser.createFullBoxCtor(\"prof\", function(stream) {\n\tthis.width = stream.readUint32();\n\tthis.height = stream.readUint32();\n});// file:src/parsing/qt/tapt.js\nBoxParser.createContainerBoxCtor(\"tapt\", null, [ \"clef\", \"prof\", \"enof\"]);// file:src/parsing/rtp.js\nBoxParser.createBoxCtor(\"rtp \", function(stream) {\n\tthis.descriptionformat = stream.readString(4);\n\tthis.sdptext = stream.readString(this.size - this.hdr_size - 4);\n});\n\n// file:src/parsing/saio.js\nBoxParser.createFullBoxCtor(\"saio\", function(stream) {\n\tif (this.flags & 0x1) {\n\t\tthis.aux_info_type = stream.readUint32();\n\t\tthis.aux_info_type_parameter = stream.readUint32();\n\t}\n\tvar count = stream.readUint32();\n\tthis.offset = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tif (this.version === 0) {\n\t\t\tthis.offset[i] = stream.readUint32();\n\t\t} else {\n\t\t\tthis.offset[i] = stream.readUint64();\n\t\t}\n\t}\n});\n// file:src/parsing/saiz.js\nBoxParser.createFullBoxCtor(\"saiz\", function(stream) {\n\tif (this.flags & 0x1) {\n\t\tthis.aux_info_type = stream.readUint32();\n\t\tthis.aux_info_type_parameter = stream.readUint32();\n\t}\n\tthis.default_sample_info_size = stream.readUint8();\n\tvar count = stream.readUint32();\n\tthis.sample_info_size = [];\n\tif (this.default_sample_info_size === 0) {\n\t\tfor (var i = 0; i < count; i++) {\n\t\t\tthis.sample_info_size[i] = stream.readUint8();\n\t\t}\n\t}\n});\n\n// file:src/parsing/sampleentries/mett.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA, \"mett\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.mime_format = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/metx.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA, \"metx\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.namespace = stream.readCString();\n\tthis.schema_location = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/sbtt.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \"sbtt\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.mime_format = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/stpp.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \"stpp\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.namespace = stream.readCString();\n\tthis.schema_location = stream.readCString();\n\tthis.auxiliary_mime_types = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/stxt.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \"stxt\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.mime_format = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/tx3g.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \"tx3g\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.displayFlags = stream.readUint32();\n\tthis.horizontal_justification = stream.readInt8();\n\tthis.vertical_justification = stream.readInt8();\n\tthis.bg_color_rgba = stream.readUint8Array(4);\n\tthis.box_record = stream.readInt16Array(4);\n\tthis.style_record = stream.readUint8Array(12);\n\tthis.parseFooter(stream);\n});\n// file:src/parsing/sampleentries/wvtt.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA, \"wvtt\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/samplegroups/alst.js\nBoxParser.createSampleGroupCtor(\"alst\", function(stream) {\n\tvar i;\n\tvar roll_count = stream.readUint16();\n\tthis.first_output_sample = stream.readUint16();\n\tthis.sample_offset = [];\n\tfor (i = 0; i < roll_count; i++) {\n\t\tthis.sample_offset[i] = stream.readUint32();\n\t}\n\tvar remaining = this.description_length - 4 - 4*roll_count;\n\tthis.num_output_samples = [];\n\tthis.num_total_samples = [];\n\tfor (i = 0; i < remaining/4; i++) {\n\t\tthis.num_output_samples[i] = stream.readUint16();\n\t\tthis.num_total_samples[i] = stream.readUint16();\n\t}\n});\n\n// file:src/parsing/samplegroups/avll.js\nBoxParser.createSampleGroupCtor(\"avll\", function(stream) {\n\tthis.layerNumber = stream.readUint8();\n\tthis.accurateStatisticsFlag = stream.readUint8();\n\tthis.avgBitRate = stream.readUint16();\n\tthis.avgFrameRate = stream.readUint16();\n});\n\n// file:src/parsing/samplegroups/avss.js\nBoxParser.createSampleGroupCtor(\"avss\", function(stream) {\n\tthis.subSequenceIdentifier = stream.readUint16();\n\tthis.layerNumber = stream.readUint8();\n\tvar tmp_byte = stream.readUint8();\n\tthis.durationFlag = tmp_byte >> 7;\n\tthis.avgRateFlag = (tmp_byte >> 6) & 0x1;\n\tif (this.durationFlag) {\n\t\tthis.duration = stream.readUint32();\n\t}\n\tif (this.avgRateFlag) {\n\t\tthis.accurateStatisticsFlag = stream.readUint8();\n\t\tthis.avgBitRate = stream.readUint16();\n\t\tthis.avgFrameRate = stream.readUint16();\n\t}\n\tthis.dependency = [];\n\tvar numReferences = stream.readUint8();\n\tfor (var i = 0; i < numReferences; i++) {\n\t\tvar dependencyInfo = {};\n\t\tthis.dependency.push(dependencyInfo);\n\t\tdependencyInfo.subSeqDirectionFlag = stream.readUint8();\n\t\tdependencyInfo.layerNumber = stream.readUint8();\n\t\tdependencyInfo.subSequenceIdentifier = stream.readUint16();\n\t}\n});\n\n// file:src/parsing/samplegroups/dtrt.js\nBoxParser.createSampleGroupCtor(\"dtrt\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/mvif.js\nBoxParser.createSampleGroupCtor(\"mvif\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/prol.js\nBoxParser.createSampleGroupCtor(\"prol\", function(stream) {\n\tthis.roll_distance = stream.readInt16();\n});\n\n// file:src/parsing/samplegroups/rap.js\nBoxParser.createSampleGroupCtor(\"rap \", function(stream) {\n\tvar tmp_byte = stream.readUint8();\n\tthis.num_leading_samples_known = tmp_byte >> 7;\n\tthis.num_leading_samples = tmp_byte & 0x7F;\n});\n\n// file:src/parsing/samplegroups/rash.js\nBoxParser.createSampleGroupCtor(\"rash\", function(stream) {\n\tthis.operation_point_count = stream.readUint16();\n\tif (this.description_length !== 2+(this.operation_point_count === 1?2:this.operation_point_count*6)+9) {\n\t\tLog.warn(\"BoxParser\", \"Mismatch in \"+this.grouping_type+\" sample group length\");\n\t\tthis.data =  stream.readUint8Array(this.description_length-2);\n\t} else {\n\t\tif (this.operation_point_count === 1) {\n\t\t\tthis.target_rate_share = stream.readUint16();\n\t\t} else {\n\t\t\tthis.target_rate_share = [];\n\t\t\tthis.available_bitrate = [];\n\t\t\tfor (var i = 0; i < this.operation_point_count; i++) {\n\t\t\t\tthis.available_bitrate[i] = stream.readUint32();\n\t\t\t\tthis.target_rate_share[i] = stream.readUint16();\n\t\t\t}\n\t\t}\n\t\tthis.maximum_bitrate = stream.readUint32();\n\t\tthis.minimum_bitrate = stream.readUint32();\n\t\tthis.discard_priority = stream.readUint8();\n\t}\n});\n\n// file:src/parsing/samplegroups/roll.js\nBoxParser.createSampleGroupCtor(\"roll\", function(stream) {\n\tthis.roll_distance = stream.readInt16();\n});\n\n// file:src/parsing/samplegroups/samplegroup.js\nBoxParser.SampleGroupEntry.prototype.parse = function(stream) {\n\tLog.warn(\"BoxParser\", \"Unknown Sample Group type: \"+this.grouping_type);\n\tthis.data =  stream.readUint8Array(this.description_length);\n}\n\n// file:src/parsing/samplegroups/scif.js\nBoxParser.createSampleGroupCtor(\"scif\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/scnm.js\nBoxParser.createSampleGroupCtor(\"scnm\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/seig.js\nBoxParser.createSampleGroupCtor(\"seig\", function(stream) {\n\tthis.reserved = stream.readUint8();\n\tvar tmp = stream.readUint8();\n\tthis.crypt_byte_block = tmp >> 4;\n\tthis.skip_byte_block = tmp & 0xF;\n\tthis.isProtected = stream.readUint8();\n\tthis.Per_Sample_IV_Size = stream.readUint8();\n\tthis.KID = BoxParser.parseHex16(stream);\n\tthis.constant_IV_size = 0;\n\tthis.constant_IV = 0;\n\tif (this.isProtected === 1 && this.Per_Sample_IV_Size === 0) {\n\t\tthis.constant_IV_size = stream.readUint8();\n\t\tthis.constant_IV = stream.readUint8Array(this.constant_IV_size);\n\t}\n});\n\n// file:src/parsing/samplegroups/stsa.js\nBoxParser.createSampleGroupCtor(\"stsa\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/sync.js\nBoxParser.createSampleGroupCtor(\"sync\", function(stream) {\n\tvar tmp_byte = stream.readUint8();\n\tthis.NAL_unit_type = tmp_byte & 0x3F;\n});\n\n// file:src/parsing/samplegroups/tele.js\nBoxParser.createSampleGroupCtor(\"tele\", function(stream) {\n\tvar tmp_byte = stream.readUint8();\n\tthis.level_independently_decodable = tmp_byte >> 7;\n});\n\n// file:src/parsing/samplegroups/tsas.js\nBoxParser.createSampleGroupCtor(\"tsas\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/tscl.js\nBoxParser.createSampleGroupCtor(\"tscl\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/vipr.js\nBoxParser.createSampleGroupCtor(\"vipr\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/sbgp.js\nBoxParser.createFullBoxCtor(\"sbgp\", function(stream) {\n\tthis.grouping_type = stream.readString(4);\n\tif (this.version === 1) {\n\t\tthis.grouping_type_parameter = stream.readUint32();\n\t} else {\n\t\tthis.grouping_type_parameter = 0;\n\t}\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tvar entry = {};\n\t\tthis.entries.push(entry);\n\t\tentry.sample_count = stream.readInt32();\n\t\tentry.group_description_index = stream.readInt32();\n\t}\n});\n\n// file:src/parsing/schm.js\nBoxParser.createFullBoxCtor(\"schm\", function(stream) {\n\tthis.scheme_type = stream.readString(4);\n\tthis.scheme_version = stream.readUint32();\n\tif (this.flags & 0x000001) {\n\t\tthis.scheme_uri = stream.readString(this.size - this.hdr_size - 8);\n\t}\n});\n\n// file:src/parsing/sdp.js\nBoxParser.createBoxCtor(\"sdp \", function(stream) {\n\tthis.sdptext = stream.readString(this.size - this.hdr_size);\n});\n\n// file:src/parsing/sdtp.js\nBoxParser.createFullBoxCtor(\"sdtp\", function(stream) {\n\tvar tmp_byte;\n\tvar count = (this.size - this.hdr_size);\n\tthis.is_leading = [];\n\tthis.sample_depends_on = [];\n\tthis.sample_is_depended_on = [];\n\tthis.sample_has_redundancy = [];\n\tfor (var i = 0; i < count; i++) {\n\t\ttmp_byte = stream.readUint8();\n\t\tthis.is_leading[i] = tmp_byte >> 6;\n\t\tthis.sample_depends_on[i] = (tmp_byte >> 4) & 0x3;\n\t\tthis.sample_is_depended_on[i] = (tmp_byte >> 2) & 0x3;\n\t\tthis.sample_has_redundancy[i] = tmp_byte & 0x3;\n\t}\n});\n\n// file:src/parsing/senc.js\n// Cannot be fully parsed because Per_Sample_IV_Size needs to be known\r\nBoxParser.createFullBoxCtor(\"senc\" /*, function(stream) {\r\n\tthis.parseFullHeader(stream);\r\n\tvar sample_count = stream.readUint32();\r\n\tthis.samples = [];\r\n\tfor (var i = 0; i < sample_count; i++) {\r\n\t\tvar sample = {};\r\n\t\t// tenc.default_Per_Sample_IV_Size or seig.Per_Sample_IV_Size\r\n\t\tsample.InitializationVector = this.readUint8Array(Per_Sample_IV_Size*8);\r\n\t\tif (this.flags & 0x2) {\r\n\t\t\tsample.subsamples = [];\r\n\t\t\tsubsample_count = stream.readUint16();\r\n\t\t\tfor (var j = 0; j < subsample_count; j++) {\r\n\t\t\t\tvar subsample = {};\r\n\t\t\t\tsubsample.BytesOfClearData = stream.readUint16();\r\n\t\t\t\tsubsample.BytesOfProtectedData = stream.readUint32();\r\n\t\t\t\tsample.subsamples.push(subsample);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// TODO\r\n\t\tthis.samples.push(sample);\r\n\t}\r\n}*/);\r\n// file:src/parsing/sgpd.js\nBoxParser.createFullBoxCtor(\"sgpd\", function(stream) {\n\tthis.grouping_type = stream.readString(4);\n\tLog.debug(\"BoxParser\", \"Found Sample Groups of type \"+this.grouping_type);\n\tif (this.version === 1) {\n\t\tthis.default_length = stream.readUint32();\n\t} else {\n\t\tthis.default_length = 0;\n\t}\n\tif (this.version >= 2) {\n\t\tthis.default_group_description_index = stream.readUint32();\n\t}\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tvar entry;\n\t\tif (BoxParser[this.grouping_type+\"SampleGroupEntry\"]) {\n\t\t\tentry = new BoxParser[this.grouping_type+\"SampleGroupEntry\"](this.grouping_type);\n\t\t}  else {\n\t\t\tentry = new BoxParser.SampleGroupEntry(this.grouping_type);\n\t\t}\n\t\tthis.entries.push(entry);\n\t\tif (this.version === 1) {\n\t\t\tif (this.default_length === 0) {\n\t\t\t\tentry.description_length = stream.readUint32();\n\t\t\t} else {\n\t\t\t\tentry.description_length = this.default_length;\n\t\t\t}\n\t\t} else {\n\t\t\tentry.description_length = this.default_length;\n\t\t}\n\t\tif (entry.write === BoxParser.SampleGroupEntry.prototype.write) {\n\t\t\tLog.info(\"BoxParser\", \"SampleGroup for type \"+this.grouping_type+\" writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t// storing data\n\t\t\tentry.data = stream.readUint8Array(entry.description_length);\n\t\t\t// rewinding\n\t\t\tstream.position -= entry.description_length;\n\t\t}\n\t\tentry.parse(stream);\n\t}\n});\n\n// file:src/parsing/sidx.js\nBoxParser.createFullBoxCtor(\"sidx\", function(stream) {\n\tthis.reference_ID = stream.readUint32();\n\tthis.timescale = stream.readUint32();\n\tif (this.version === 0) {\n\t\tthis.earliest_presentation_time = stream.readUint32();\n\t\tthis.first_offset = stream.readUint32();\n\t} else {\n\t\tthis.earliest_presentation_time = stream.readUint64();\n\t\tthis.first_offset = stream.readUint64();\n\t}\n\tstream.readUint16();\n\tthis.references = [];\n\tvar count = stream.readUint16();\n\tfor (var i = 0; i < count; i++) {\n\t\tvar ref = {};\n\t\tthis.references.push(ref);\n\t\tvar tmp_32 = stream.readUint32();\n\t\tref.reference_type = (tmp_32 >> 31) & 0x1;\n\t\tref.referenced_size = tmp_32 & 0x7FFFFFFF;\n\t\tref.subsegment_duration = stream.readUint32();\n\t\ttmp_32 = stream.readUint32();\n\t\tref.starts_with_SAP = (tmp_32 >> 31) & 0x1;\n\t\tref.SAP_type = (tmp_32 >> 28) & 0x7;\n\t\tref.SAP_delta_time = tmp_32 & 0xFFFFFFF;\n\t}\n});\n\n// file:src/parsing/singleitemtypereference.js\nBoxParser.SingleItemTypeReferenceBox = function(type, size, hdr_size, start) {\n\tBoxParser.Box.call(this, type, size);\n\tthis.hdr_size = hdr_size;\n\tthis.start = start;\n}\nBoxParser.SingleItemTypeReferenceBox.prototype = new BoxParser.Box();\nBoxParser.SingleItemTypeReferenceBox.prototype.parse = function(stream) {\n\tthis.from_item_ID = stream.readUint16();\n\tvar count =  stream.readUint16();\n\tthis.references = [];\n\tfor(var i = 0; i < count; i++) {\n\t\tthis.references[i] = stream.readUint16();\n\t}\n}\n\n// file:src/parsing/singleitemtypereferencelarge.js\nBoxParser.SingleItemTypeReferenceBoxLarge = function(type, size, hdr_size, start) {\n\tBoxParser.Box.call(this, type, size);\n\tthis.hdr_size = hdr_size;\n\tthis.start = start;\n}\nBoxParser.SingleItemTypeReferenceBoxLarge.prototype = new BoxParser.Box();\nBoxParser.SingleItemTypeReferenceBoxLarge.prototype.parse = function(stream) {\n\tthis.from_item_ID = stream.readUint32();\n\tvar count =  stream.readUint16();\n\tthis.references = [];\n\tfor(var i = 0; i < count; i++) {\n\t\tthis.references[i] = stream.readUint32();\n\t}\n}\n\n// file:src/parsing/SmDm.js\nBoxParser.createFullBoxCtor(\"SmDm\", function(stream) {\n\tthis.primaryRChromaticity_x = stream.readUint16();\n    this.primaryRChromaticity_y = stream.readUint16();\n    this.primaryGChromaticity_x = stream.readUint16();\n    this.primaryGChromaticity_y = stream.readUint16();\n    this.primaryBChromaticity_x = stream.readUint16();\n    this.primaryBChromaticity_y = stream.readUint16();\n    this.whitePointChromaticity_x = stream.readUint16();\n    this.whitePointChromaticity_y = stream.readUint16();\n    this.luminanceMax = stream.readUint32();\n    this.luminanceMin = stream.readUint32();\n});\n\n// file:src/parsing/smhd.js\nBoxParser.createFullBoxCtor(\"smhd\", function(stream) {\n\tthis.balance = stream.readUint16();\n\tstream.readUint16();\n});\n\n// file:src/parsing/ssix.js\nBoxParser.createFullBoxCtor(\"ssix\", function(stream) {\n\tthis.subsegments = [];\n\tvar subsegment_count = stream.readUint32();\n\tfor (var i = 0; i < subsegment_count; i++) {\n\t\tvar subsegment = {};\n\t\tthis.subsegments.push(subsegment);\n\t\tsubsegment.ranges = [];\n\t\tvar range_count = stream.readUint32();\n\t\tfor (var j = 0; j < range_count; j++) {\n\t\t\tvar range = {};\n\t\t\tsubsegment.ranges.push(range);\n\t\t\trange.level = stream.readUint8();\n\t\t\trange.range_size = stream.readUint24();\n\t\t}\n\t}\n});\n\n// file:src/parsing/stco.js\nBoxParser.createFullBoxCtor(\"stco\", function(stream) {\n\tvar entry_count;\n\tentry_count = stream.readUint32();\n\tthis.chunk_offsets = [];\n\tif (this.version === 0) {\n\t\tfor (var i = 0; i < entry_count; i++) {\n\t\t\tthis.chunk_offsets.push(stream.readUint32());\n\t\t}\n\t}\n});\n\n// file:src/parsing/stdp.js\nBoxParser.createFullBoxCtor(\"stdp\", function(stream) {\n\tvar count = (this.size - this.hdr_size)/2;\n\tthis.priority = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.priority[i] = stream.readUint16();\n\t}\n});\n\n// file:src/parsing/sthd.js\nBoxParser.createFullBoxCtor(\"sthd\");\n\n// file:src/parsing/stri.js\nBoxParser.createFullBoxCtor(\"stri\", function(stream) {\n\tthis.switch_group = stream.readUint16();\n\tthis.alternate_group = stream.readUint16();\n\tthis.sub_track_id = stream.readUint32();\n\tvar count = (this.size - this.hdr_size - 8)/4;\n\tthis.attribute_list = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.attribute_list[i] = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/stsc.js\nBoxParser.createFullBoxCtor(\"stsc\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tentry_count = stream.readUint32();\n\tthis.first_chunk = [];\n\tthis.samples_per_chunk = [];\n\tthis.sample_description_index = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.first_chunk.push(stream.readUint32());\n\t\t\tthis.samples_per_chunk.push(stream.readUint32());\n\t\t\tthis.sample_description_index.push(stream.readUint32());\n\t\t}\n\t}\n});\n\n// file:src/parsing/stsd.js\nBoxParser.createFullBoxCtor(\"stsd\", function(stream) {\n\tvar i;\n\tvar ret;\n\tvar entryCount;\n\tvar box;\n\tthis.entries = [];\n\tentryCount = stream.readUint32();\n\tfor (i = 1; i <= entryCount; i++) {\n\t\tret = BoxParser.parseOneBox(stream, true, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tif (BoxParser[ret.type+\"SampleEntry\"]) {\n\t\t\t\tbox = new BoxParser[ret.type+\"SampleEntry\"](ret.size);\n\t\t\t\tbox.hdr_size = ret.hdr_size;\n\t\t\t\tbox.start = ret.start;\n\t\t\t} else {\n\t\t\t\tLog.warn(\"BoxParser\", \"Unknown sample entry type: \"+ret.type);\n\t\t\t\tbox = new BoxParser.SampleEntry(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\t}\n\t\t\tif (box.write === BoxParser.SampleEntry.prototype.write) {\n\t\t\t\tLog.info(\"BoxParser\", \"SampleEntry \"+box.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t\tbox.parseDataAndRewind(stream);\n\t\t\t}\n\t\t\tbox.parse(stream);\n\t\t\tthis.entries.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/stsg.js\nBoxParser.createFullBoxCtor(\"stsg\", function(stream) {\n\tthis.grouping_type = stream.readUint32();\n\tvar count = stream.readUint16();\n\tthis.group_description_index = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.group_description_index[i] = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/stsh.js\nBoxParser.createFullBoxCtor(\"stsh\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tentry_count = stream.readUint32();\n\tthis.shadowed_sample_numbers = [];\n\tthis.sync_sample_numbers = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.shadowed_sample_numbers.push(stream.readUint32());\n\t\t\tthis.sync_sample_numbers.push(stream.readUint32());\n\t\t}\n\t}\n});\n\n// file:src/parsing/stss.js\nBoxParser.createFullBoxCtor(\"stss\", function(stream) {\n\tvar i;\n\tvar entry_count;\n\tentry_count = stream.readUint32();\n\tif (this.version === 0) {\n\t\tthis.sample_numbers = [];\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_numbers.push(stream.readUint32());\n\t\t}\n\t}\n});\n\n// file:src/parsing/stsz.js\nBoxParser.createFullBoxCtor(\"stsz\", function(stream) {\n\tvar i;\n\tthis.sample_sizes = [];\n\tif (this.version === 0) {\n\t\tthis.sample_size = stream.readUint32();\n\t\tthis.sample_count = stream.readUint32();\n\t\tfor (i = 0; i < this.sample_count; i++) {\n\t\t\tif (this.sample_size === 0) {\n\t\t\t\tthis.sample_sizes.push(stream.readUint32());\n\t\t\t} else {\n\t\t\t\tthis.sample_sizes[i] = this.sample_size;\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/stts.js\nBoxParser.createFullBoxCtor(\"stts\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tvar delta;\n\tentry_count = stream.readUint32();\n\tthis.sample_counts = [];\n\tthis.sample_deltas = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_counts.push(stream.readUint32());\n\t\t\tdelta = stream.readInt32();\n\t\t\tif (delta < 0) {\n\t\t\t\tLog.warn(\"BoxParser\", \"File uses negative stts sample delta, using value 1 instead, sync may be lost!\");\n\t\t\t\tdelta = 1;\n\t\t\t}\n\t\t\tthis.sample_deltas.push(delta);\n\t\t}\n\t}\n});\n\n// file:src/parsing/stvi.js\nBoxParser.createFullBoxCtor(\"stvi\", function(stream) {\n\tvar tmp32 = stream.readUint32();\n\tthis.single_view_allowed = tmp32 & 0x3;\n\tthis.stereo_scheme = stream.readUint32();\n\tvar length = stream.readUint32();\n\tthis.stereo_indication_type = stream.readString(length);\n\tvar ret;\n\tvar box;\n\tthis.boxes = [];\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\tthis.boxes.push(box);\n\t\t\tthis[box.type] = box;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/styp.js\nBoxParser.createBoxCtor(\"styp\", function(stream) {\n\tBoxParser.ftypBox.prototype.parse.call(this, stream);\n});\n\n// file:src/parsing/stz2.js\nBoxParser.createFullBoxCtor(\"stz2\", function(stream) {\n\tvar i;\n\tvar sample_size;\n\tvar sample_count;\n\tthis.sample_sizes = [];\n\tif (this.version === 0) {\n\t\tthis.reserved = stream.readUint24();\n\t\tthis.field_size = stream.readUint8();\n\t\tsample_count = stream.readUint32();\n\t\tif (this.field_size === 4) {\n\t\t\tfor (i = 0; i < sample_count; i+=2) {\n\t\t\t\tvar tmp = stream.readUint8();\n\t\t\t\tthis.sample_sizes[i] = (tmp >> 4) & 0xF;\n\t\t\t\tthis.sample_sizes[i+1] = tmp & 0xF;\n\t\t\t}\n\t\t} else if (this.field_size === 8) {\n\t\t\tfor (i = 0; i < sample_count; i++) {\n\t\t\t\tthis.sample_sizes[i] = stream.readUint8();\n\t\t\t}\n\t\t} else if (this.field_size === 16) {\n\t\t\tfor (i = 0; i < sample_count; i++) {\n\t\t\t\tthis.sample_sizes[i] = stream.readUint16();\n\t\t\t}\n\t\t} else {\n\t\t\tLog.error(\"BoxParser\", \"Error in length field in stz2 box\");\n\t\t}\n\t}\n});\n\n// file:src/parsing/subs.js\nBoxParser.createFullBoxCtor(\"subs\", function(stream) {\n\tvar i,j;\n\tvar entry_count;\n\tvar subsample_count;\n\tentry_count = stream.readUint32();\n\tthis.entries = [];\n\tfor (i = 0; i < entry_count; i++) {\n\t\tvar sampleInfo = {};\n\t\tthis.entries[i] = sampleInfo;\n\t\tsampleInfo.sample_delta = stream.readUint32();\n\t\tsampleInfo.subsamples = [];\n\t\tsubsample_count = stream.readUint16();\n\t\tif (subsample_count>0) {\n\t\t\tfor (j = 0; j < subsample_count; j++) {\n\t\t\t\tvar subsample = {};\n\t\t\t\tsampleInfo.subsamples.push(subsample);\n\t\t\t\tif (this.version == 1) {\n\t\t\t\t\tsubsample.size = stream.readUint32();\n\t\t\t\t} else {\n\t\t\t\t\tsubsample.size = stream.readUint16();\n\t\t\t\t}\n\t\t\t\tsubsample.priority = stream.readUint8();\n\t\t\t\tsubsample.discardable = stream.readUint8();\n\t\t\t\tsubsample.codec_specific_parameters = stream.readUint32();\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/tenc.js\nBoxParser.createFullBoxCtor(\"tenc\", function(stream) {\n\tstream.readUint8(); // reserved\n\tif (this.version === 0) {\n\t\tstream.readUint8();\n\t} else {\n\t\tvar tmp = stream.readUint8();\n\t\tthis.default_crypt_byte_block = (tmp >> 4) & 0xF;\n\t\tthis.default_skip_byte_block = tmp & 0xF;\n\t}\n\tthis.default_isProtected = stream.readUint8();\n\tthis.default_Per_Sample_IV_Size = stream.readUint8();\n\tthis.default_KID = BoxParser.parseHex16(stream);\n\tif (this.default_isProtected === 1 && this.default_Per_Sample_IV_Size === 0) {\n\t\tthis.default_constant_IV_size = stream.readUint8();\n\t\tthis.default_constant_IV = stream.readUint8Array(this.default_constant_IV_size);\n\t}\n});// file:src/parsing/tfdt.js\nBoxParser.createFullBoxCtor(\"tfdt\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.baseMediaDecodeTime = stream.readUint64();\n\t} else {\n\t\tthis.baseMediaDecodeTime = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/tfhd.js\nBoxParser.createFullBoxCtor(\"tfhd\", function(stream) {\n\tvar readBytes = 0;\n\tthis.track_id = stream.readUint32();\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET)) {\n\t\tthis.base_data_offset = stream.readUint64();\n\t\treadBytes += 8;\n\t} else {\n\t\tthis.base_data_offset = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC)) {\n\t\tthis.default_sample_description_index = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_description_index = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR)) {\n\t\tthis.default_sample_duration = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_duration = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE)) {\n\t\tthis.default_sample_size = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_size = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS)) {\n\t\tthis.default_sample_flags = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_flags = 0;\n\t}\n});\n\n// file:src/parsing/tfra.js\nBoxParser.createFullBoxCtor(\"tfra\", function(stream) {\n\tthis.track_ID = stream.readUint32();\n\tstream.readUint24();\n\tvar tmp_byte = stream.readUint8();\n\tthis.length_size_of_traf_num = (tmp_byte >> 4) & 0x3;\n\tthis.length_size_of_trun_num = (tmp_byte >> 2) & 0x3;\n\tthis.length_size_of_sample_num = (tmp_byte) & 0x3;\n\tthis.entries = [];\n\tvar number_of_entries = stream.readUint32();\n\tfor (var i = 0; i < number_of_entries; i++) {\n\t\tif (this.version === 1) {\n\t\t\tthis.time = stream.readUint64();\n\t\t\tthis.moof_offset = stream.readUint64();\n\t\t} else {\n\t\t\tthis.time = stream.readUint32();\n\t\t\tthis.moof_offset = stream.readUint32();\n\t\t}\n\t\tthis.traf_number = stream[\"readUint\"+(8*(this.length_size_of_traf_num+1))]();\n\t\tthis.trun_number = stream[\"readUint\"+(8*(this.length_size_of_trun_num+1))]();\n\t\tthis.sample_number = stream[\"readUint\"+(8*(this.length_size_of_sample_num+1))]();\n\t}\n});\n\n// file:src/parsing/tkhd.js\nBoxParser.createFullBoxCtor(\"tkhd\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.creation_time = stream.readUint64();\n\t\tthis.modification_time = stream.readUint64();\n\t\tthis.track_id = stream.readUint32();\n\t\tstream.readUint32();\n\t\tthis.duration = stream.readUint64();\n\t} else {\n\t\tthis.creation_time = stream.readUint32();\n\t\tthis.modification_time = stream.readUint32();\n\t\tthis.track_id = stream.readUint32();\n\t\tstream.readUint32();\n\t\tthis.duration = stream.readUint32();\n\t}\n\tstream.readUint32Array(2);\n\tthis.layer = stream.readInt16();\n\tthis.alternate_group = stream.readInt16();\n\tthis.volume = stream.readInt16()>>8;\n\tstream.readUint16();\n\tthis.matrix = stream.readInt32Array(9);\n\tthis.width = stream.readUint32();\n\tthis.height = stream.readUint32();\n});\n\n// file:src/parsing/tmax.js\nBoxParser.createBoxCtor(\"tmax\", function(stream) {\n\tthis.time = stream.readUint32();\n});\n\n// file:src/parsing/tmin.js\nBoxParser.createBoxCtor(\"tmin\", function(stream) {\n\tthis.time = stream.readUint32();\n});\n\n// file:src/parsing/totl.js\nBoxParser.createBoxCtor(\"totl\",function(stream) {\n\tthis.bytessent = stream.readUint32();\n});\n\n// file:src/parsing/tpay.js\nBoxParser.createBoxCtor(\"tpay\", function(stream) {\n\tthis.bytessent = stream.readUint32();\n});\n\n// file:src/parsing/tpyl.js\nBoxParser.createBoxCtor(\"tpyl\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/TrackGroup.js\nBoxParser.TrackGroupTypeBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.track_group_id = stream.readUint32();\n}\n\n// file:src/parsing/trackgroups/msrc.js\nBoxParser.createTrackGroupCtor(\"msrc\");// file:src/parsing/TrakReference.js\nBoxParser.TrackReferenceTypeBox = function(type, size, hdr_size, start) {\n\tBoxParser.Box.call(this, type, size);\n\tthis.hdr_size = hdr_size;\n\tthis.start = start;\n}\nBoxParser.TrackReferenceTypeBox.prototype = new BoxParser.Box();\nBoxParser.TrackReferenceTypeBox.prototype.parse = function(stream) {\n\tthis.track_ids = stream.readUint32Array((this.size-this.hdr_size)/4);\n}\n\n// file:src/parsing/tref.js\nBoxParser.trefBox.prototype.parse = function(stream) {\n\tvar ret;\n\tvar box;\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, true, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = new BoxParser.TrackReferenceTypeBox(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\tif (box.write === BoxParser.Box.prototype.write && box.type !== \"mdat\") {\n\t\t\t\tLog.info(\"BoxParser\", \"TrackReference \"+box.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t\tbox.parseDataAndRewind(stream);\n\t\t\t}\n\t\t\tbox.parse(stream);\n\t\t\tthis.boxes.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n}\n\n// file:src/parsing/trep.js\nBoxParser.createFullBoxCtor(\"trep\", function(stream) {\n\tthis.track_ID = stream.readUint32();\n\tthis.boxes = [];\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\tthis.boxes.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/trex.js\nBoxParser.createFullBoxCtor(\"trex\", function(stream) {\n\tthis.track_id = stream.readUint32();\n\tthis.default_sample_description_index = stream.readUint32();\n\tthis.default_sample_duration = stream.readUint32();\n\tthis.default_sample_size = stream.readUint32();\n\tthis.default_sample_flags = stream.readUint32();\n});\n\n// file:src/parsing/trpy.js\nBoxParser.createBoxCtor(\"trpy\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/trun.js\nBoxParser.createFullBoxCtor(\"trun\", function(stream) {\n\tvar readBytes = 0;\n\tthis.sample_count = stream.readUint32();\n\treadBytes+= 4;\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) ) {\n\t\tthis.data_offset = stream.readInt32(); //signed\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.data_offset = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG) ) {\n\t\tthis.first_sample_flags = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.first_sample_flags = 0;\n\t}\n\tthis.sample_duration = [];\n\tthis.sample_size = [];\n\tthis.sample_flags = [];\n\tthis.sample_composition_time_offset = [];\n\tif (this.size - this.hdr_size > readBytes) {\n\t\tfor (var i = 0; i < this.sample_count; i++) {\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\t\t\tthis.sample_duration[i] = stream.readUint32();\n\t\t\t}\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\t\t\tthis.sample_size[i] = stream.readUint32();\n\t\t\t}\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\t\t\tthis.sample_flags[i] = stream.readUint32();\n\t\t\t}\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\t\t\tif (this.version === 0) {\n\t\t\t\t\tthis.sample_composition_time_offset[i] = stream.readUint32();\n\t\t\t\t} else {\n\t\t\t\t\tthis.sample_composition_time_offset[i] = stream.readInt32(); //signed\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/tsel.js\nBoxParser.createFullBoxCtor(\"tsel\", function(stream) {\n\tthis.switch_group = stream.readUint32();\n\tvar count = (this.size - this.hdr_size - 4)/4;\n\tthis.attribute_list = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.attribute_list[i] = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/txtC.js\nBoxParser.createFullBoxCtor(\"txtC\", function(stream) {\n\tthis.config = stream.readCString();\n});\n\n// file:src/parsing/url.js\nBoxParser.createFullBoxCtor(\"url \", function(stream) {\n\tif (this.flags !== 0x000001) {\n\t\tthis.location = stream.readCString();\n\t}\n});\n\n// file:src/parsing/urn.js\nBoxParser.createFullBoxCtor(\"urn \", function(stream) {\n\tthis.name = stream.readCString();\n\tif (this.size - this.hdr_size - this.name.length - 1 > 0) {\n\t\tthis.location = stream.readCString();\n\t}\n});\n\n// file:src/parsing/uuid/piff/piffLsm.js\nBoxParser.createUUIDBox(\"a5d40b30e81411ddba2f0800200c9a66\", true, false, function(stream) {\n    this.LiveServerManifest = stream.readString(this.size - this.hdr_size)\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\")\n        .replace(/'/g, \"&#039;\");\n});// file:src/parsing/uuid/piff/piffPssh.js\nBoxParser.createUUIDBox(\"d08a4f1810f34a82b6c832d8aba183d3\", true, false, function(stream) {\n\tthis.system_id = BoxParser.parseHex16(stream);\n\tvar datasize = stream.readUint32();\n\tif (datasize > 0) {\n\t\tthis.data = stream.readUint8Array(datasize);\n\t}\n});\n\n// file:src/parsing/uuid/piff/piffSenc.js\nBoxParser.createUUIDBox(\"a2394f525a9b4f14a2446c427c648df4\", true, false /*, function(stream) {\n\tif (this.flags & 0x1) {\n\t\tthis.AlgorithmID = stream.readUint24();\n\t\tthis.IV_size = stream.readUint8();\n\t\tthis.KID = BoxParser.parseHex16(stream);\n\t}\n\tvar sample_count = stream.readUint32();\n\tthis.samples = [];\n\tfor (var i = 0; i < sample_count; i++) {\n\t\tvar sample = {};\n\t\tsample.InitializationVector = this.readUint8Array(this.IV_size*8);\n\t\tif (this.flags & 0x2) {\n\t\t\tsample.subsamples = [];\n\t\t\tsample.NumberOfEntries = stream.readUint16();\n\t\t\tfor (var j = 0; j < sample.NumberOfEntries; j++) {\n\t\t\t\tvar subsample = {};\n\t\t\t\tsubsample.BytesOfClearData = stream.readUint16();\n\t\t\t\tsubsample.BytesOfProtectedData = stream.readUint32();\n\t\t\t\tsample.subsamples.push(subsample);\n\t\t\t}\n\t\t}\n\t\tthis.samples.push(sample);\n\t}\n}*/);\n// file:src/parsing/uuid/piff/piffTenc.js\nBoxParser.createUUIDBox(\"8974dbce7be74c5184f97148f9882554\", true, false, function(stream) {\n\tthis.default_AlgorithmID = stream.readUint24();\n\tthis.default_IV_size = stream.readUint8();\n\tthis.default_KID = BoxParser.parseHex16(stream);\n});// file:src/parsing/uuid/piff/piffTfrf.js\nBoxParser.createUUIDBox(\"d4807ef2ca3946958e5426cb9e46a79f\", true, false, function(stream) {\n    this.fragment_count = stream.readUint8();\n    this.entries = [];\n\n    for (var i = 0; i < this.fragment_count; i++) {\n        var entry = {};\n        var absolute_time = 0;\n        var absolute_duration = 0;\n\n        if (this.version === 1) {\n            absolute_time = stream.readUint64();\n            absolute_duration = stream.readUint64();\n        } else {\n            absolute_time = stream.readUint32();\n            absolute_duration = stream.readUint32();\n        }\n\n        entry.absolute_time = absolute_time;\n        entry.absolute_duration = absolute_duration;\n\n        this.entries.push(entry);\n    }\n});// file:src/parsing/uuid/piff/piffTfxd.js\nBoxParser.createUUIDBox(\"6d1d9b0542d544e680e2141daff757b2\", true, false, function(stream) {\n    if (this.version === 1) {\n       this.absolute_time = stream.readUint64();\n       this.duration = stream.readUint64();\n    } else {\n       this.absolute_time = stream.readUint32();\n       this.duration = stream.readUint32();\n    }\n});// file:src/parsing/vmhd.js\nBoxParser.createFullBoxCtor(\"vmhd\", function(stream) {\n\tthis.graphicsmode = stream.readUint16();\n\tthis.opcolor = stream.readUint16Array(3);\n});\n\n// file:src/parsing/vpcC.js\nBoxParser.createFullBoxCtor(\"vpcC\", function (stream) {\n\tvar tmp;\n\tif (this.version === 1) {\n\t\tthis.profile = stream.readUint8();\n\t\tthis.level = stream.readUint8();\n\t\ttmp = stream.readUint8();\n\t\tthis.bitDepth = tmp >> 4;\n\t\tthis.chromaSubsampling = (tmp >> 1) & 0x7;\n\t\tthis.videoFullRangeFlag = tmp & 0x1;\n\t\tthis.colourPrimaries = stream.readUint8();\n\t\tthis.transferCharacteristics = stream.readUint8();\n\t\tthis.matrixCoefficients = stream.readUint8();\n\t\tthis.codecIntializationDataSize = stream.readUint16();\n\t\tthis.codecIntializationData = stream.readUint8Array(this.codecIntializationDataSize);\n\t} else {\n\t\tthis.profile = stream.readUint8();\n\t\tthis.level = stream.readUint8();\n\t\ttmp = stream.readUint8();\n\t\tthis.bitDepth = (tmp >> 4) & 0xF;\n\t\tthis.colorSpace = tmp & 0xF;\n\t\ttmp = stream.readUint8();\n\t\tthis.chromaSubsampling = (tmp >> 4) & 0xF;\n\t\tthis.transferFunction = (tmp >> 1) & 0x7;\n\t\tthis.videoFullRangeFlag = tmp & 0x1;\n\t\tthis.codecIntializationDataSize = stream.readUint16();\n\t\tthis.codecIntializationData = stream.readUint8Array(this.codecIntializationDataSize);\n\t}\n});// file:src/parsing/vttC.js\nBoxParser.createBoxCtor(\"vttC\", function(stream) {\n\tthis.text = stream.readString(this.size - this.hdr_size);\n});\n\n// file:src/parsing/vvcC.js\nBoxParser.createFullBoxCtor(\"vvcC\", function (stream) {\n  var i, j;\n\n  // helper object to simplify extracting individual bits\n  var bitReader = {\n    held_bits: undefined,\n    num_held_bits: 0,\n\n    stream_read_1_bytes: function (strm) {\n      this.held_bits = strm.readUint8();\n      this.num_held_bits = 1 * 8;\n    },\n    stream_read_2_bytes: function (strm) {\n      this.held_bits = strm.readUint16();\n      this.num_held_bits = 2 * 8;\n    },\n\n    extract_bits: function (num_bits) {\n      var ret = (this.held_bits >> (this.num_held_bits - num_bits)) & ((1 << num_bits) - 1);\n      this.num_held_bits -= num_bits;\n      return ret;\n    }\n  };\n\n  // VvcDecoderConfigurationRecord\n  bitReader.stream_read_1_bytes(stream);\n  bitReader.extract_bits(5);  // reserved\n  this.lengthSizeMinusOne = bitReader.extract_bits(2);\n  this.ptl_present_flag = bitReader.extract_bits(1);\n\n  if (this.ptl_present_flag) {\n    bitReader.stream_read_2_bytes(stream);\n    this.ols_idx = bitReader.extract_bits(9);\n    this.num_sublayers = bitReader.extract_bits(3);\n    this.constant_frame_rate = bitReader.extract_bits(2);\n    this.chroma_format_idc = bitReader.extract_bits(2);\n\n    bitReader.stream_read_1_bytes(stream);\n    this.bit_depth_minus8 = bitReader.extract_bits(3);\n    bitReader.extract_bits(5);  // reserved\n\n    // VvcPTLRecord\n    {\n      bitReader.stream_read_2_bytes(stream);\n      bitReader.extract_bits(2);  // reserved\n      this.num_bytes_constraint_info = bitReader.extract_bits(6);\n      this.general_profile_idc = bitReader.extract_bits(7);\n      this.general_tier_flag = bitReader.extract_bits(1);\n\n      this.general_level_idc = stream.readUint8();\n\n      bitReader.stream_read_1_bytes(stream);\n      this.ptl_frame_only_constraint_flag = bitReader.extract_bits(1);\n      this.ptl_multilayer_enabled_flag = bitReader.extract_bits(1);\n\n      this.general_constraint_info = new Uint8Array(this.num_bytes_constraint_info);\n      if (this.num_bytes_constraint_info) {\n        for (i = 0; i < this.num_bytes_constraint_info - 1; i++) {\n          var cnstr1 = bitReader.extract_bits(6);\n          bitReader.stream_read_1_bytes(stream);\n          var cnstr2 = bitReader.extract_bits(2);\n\n          this.general_constraint_info[i] = ((cnstr1 << 2) | cnstr2);\n        }\n        this.general_constraint_info[this.num_bytes_constraint_info - 1] = bitReader.extract_bits(6);\n      } else {\n        //forbidden in spec!\n        bitReader.extract_bits(6);\n      }\n\n      bitReader.stream_read_1_bytes(stream);\n      this.ptl_sublayer_present_mask = 0;\n      for (j = this.num_sublayers - 2; j >= 0; --j) {\n        var val = bitReader.extract_bits(1);\n        this.ptl_sublayer_present_mask |= val << j;\n      }\n      for (j = this.num_sublayers; j <= 8 && this.num_sublayers > 1; ++j) {\n        bitReader.extract_bits(1);  // ptl_reserved_zero_bit\n      }\n\n      for (j = this.num_sublayers - 2; j >= 0; --j) {\n        if (this.ptl_sublayer_present_mask & (1 << j)) {\n          this.sublayer_level_idc[j] = stream.readUint8();\n        }\n      }\n\n      this.ptl_num_sub_profiles = stream.readUint8();\n      this.general_sub_profile_idc = [];\n      if (this.ptl_num_sub_profiles) {\n        for (i = 0; i < this.ptl_num_sub_profiles; i++) {\n          this.general_sub_profile_idc.push(stream.readUint32());\n        }\n      }\n    }  // end VvcPTLRecord\n\n    this.max_picture_width = stream.readUint16();\n    this.max_picture_height = stream.readUint16();\n    this.avg_frame_rate = stream.readUint16();\n  }\n\n  var VVC_NALU_OPI = 12;\n  var VVC_NALU_DEC_PARAM = 13;\n\n  this.nalu_arrays = [];\n  var num_of_arrays = stream.readUint8();\n  for (i = 0; i < num_of_arrays; i++) {\n    var nalu_array = [];\n    this.nalu_arrays.push(nalu_array);\n\n    bitReader.stream_read_1_bytes(stream);\n    nalu_array.completeness = bitReader.extract_bits(1);\n    bitReader.extract_bits(2);  // reserved\n    nalu_array.nalu_type = bitReader.extract_bits(5);\n\n    var numNalus = 1;\n    if (nalu_array.nalu_type != VVC_NALU_DEC_PARAM && nalu_array.nalu_type != VVC_NALU_OPI) {\n      numNalus = stream.readUint16();\n    }\n\n    for (j = 0; j < numNalus; j++) {\n      var len = stream.readUint16();\n      nalu_array.push({\n        data: stream.readUint8Array(len),\n        length: len\n      });\n    }\n  }\n});\n// file:src/parsing/vvnC.js\nBoxParser.createFullBoxCtor(\"vvnC\", function (stream) {\n  // VvcNALUConfigBox\n  var tmp = strm.readUint8();\n  this.lengthSizeMinusOne = (tmp & 0x3);\n});\n// file:src/box-codecs.js\nBoxParser.SampleEntry.prototype.isVideo = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isAudio = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isSubtitle = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isMetadata = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isHint = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.getCodec = function() {\n\treturn this.type.replace('.','');\n}\n\nBoxParser.SampleEntry.prototype.getWidth = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getHeight = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getChannelCount = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getSampleRate = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getSampleSize = function() {\n\treturn \"\";\n}\n\nBoxParser.VisualSampleEntry.prototype.isVideo = function() {\n\treturn true;\n}\n\nBoxParser.VisualSampleEntry.prototype.getWidth = function() {\n\treturn this.width;\n}\n\nBoxParser.VisualSampleEntry.prototype.getHeight = function() {\n\treturn this.height;\n}\n\nBoxParser.AudioSampleEntry.prototype.isAudio = function() {\n\treturn true;\n}\n\nBoxParser.AudioSampleEntry.prototype.getChannelCount = function() {\n\treturn this.channel_count;\n}\n\nBoxParser.AudioSampleEntry.prototype.getSampleRate = function() {\n\treturn this.samplerate;\n}\n\nBoxParser.AudioSampleEntry.prototype.getSampleSize = function() {\n\treturn this.samplesize;\n}\n\nBoxParser.SubtitleSampleEntry.prototype.isSubtitle = function() {\n\treturn true;\n}\n\nBoxParser.MetadataSampleEntry.prototype.isMetadata = function() {\n\treturn true;\n}\n\n\nBoxParser.decimalToHex = function(d, padding) {\n\tvar hex = Number(d).toString(16);\n\tpadding = typeof (padding) === \"undefined\" || padding === null ? padding = 2 : padding;\n\twhile (hex.length < padding) {\n\t\thex = \"0\" + hex;\n\t}\n\treturn hex;\n}\n\nBoxParser.avc1SampleEntry.prototype.getCodec =\nBoxParser.avc2SampleEntry.prototype.getCodec =\nBoxParser.avc3SampleEntry.prototype.getCodec =\nBoxParser.avc4SampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.avcC) {\n\t\treturn baseCodec+\".\"+BoxParser.decimalToHex(this.avcC.AVCProfileIndication)+\n\t\t\t\t\t\t  \"\"+BoxParser.decimalToHex(this.avcC.profile_compatibility)+\n\t\t\t\t\t\t  \"\"+BoxParser.decimalToHex(this.avcC.AVCLevelIndication);\n\t} else {\n\t\treturn baseCodec;\n\t}\n}\n\nBoxParser.hev1SampleEntry.prototype.getCodec =\nBoxParser.hvc1SampleEntry.prototype.getCodec = function() {\n\tvar i;\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.hvcC) {\n\t\tbaseCodec += '.';\n\t\tswitch (this.hvcC.general_profile_space) {\n\t\t\tcase 0:\n\t\t\t\tbaseCodec += '';\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tbaseCodec += 'A';\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbaseCodec += 'B';\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbaseCodec += 'C';\n\t\t\t\tbreak;\n\t\t}\n\t\tbaseCodec += this.hvcC.general_profile_idc;\n\t\tbaseCodec += '.';\n\t\tvar val = this.hvcC.general_profile_compatibility;\n\t\tvar reversed = 0;\n\t\tfor (i=0; i<32; i++) {\n\t\t\treversed |= val & 1;\n\t\t\tif (i==31) break;\n\t\t\treversed <<= 1;\n\t\t\tval >>=1;\n\t\t}\n\t\tbaseCodec += BoxParser.decimalToHex(reversed, 0);\n\t\tbaseCodec += '.';\n\t\tif (this.hvcC.general_tier_flag === 0) {\n\t\t\tbaseCodec += 'L';\n\t\t} else {\n\t\t\tbaseCodec += 'H';\n\t\t}\n\t\tbaseCodec += this.hvcC.general_level_idc;\n\t\tvar hasByte = false;\n\t\tvar constraint_string = \"\";\n\t\tfor (i = 5; i >= 0; i--) {\n\t\t\tif (this.hvcC.general_constraint_indicator[i] || hasByte) {\n\t\t\t\tconstraint_string = \".\"+BoxParser.decimalToHex(this.hvcC.general_constraint_indicator[i], 0)+constraint_string;\n\t\t\t\thasByte = true;\n\t\t\t}\n\t\t}\n\t\tbaseCodec += constraint_string;\n\t}\n\treturn baseCodec;\n}\n\nBoxParser.vvc1SampleEntry.prototype.getCodec =\nBoxParser.vvi1SampleEntry.prototype.getCodec = function () {\n\tvar i;\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.vvcC) {\n\t\tbaseCodec += '.' + this.vvcC.general_profile_idc;\n\t\tif (this.vvcC.general_tier_flag) {\n\t\t\tbaseCodec += '.H';\n\t\t} else {\n\t\t\tbaseCodec += '.L';\n\t\t}\n\t\tbaseCodec += this.vvcC.general_level_idc;\n\n\t\tvar constraint_string = \"\";\n\t\tif (this.vvcC.general_constraint_info) {\n\t\t\tvar bytes = [];\n\t\t\tvar byte = 0;\n\t\t\tbyte |= this.vvcC.ptl_frame_only_constraint << 7;\n\t\t\tbyte |= this.vvcC.ptl_multilayer_enabled << 6;\n\t\t\tvar last_nonzero;\n\t\t\tfor (i = 0; i < this.vvcC.general_constraint_info.length; ++i) {\n\t\t\t\tbyte |= (this.vvcC.general_constraint_info[i] >> 2) & 0x3f;\n\t\t\t\tbytes.push(byte);\n\t\t\t\tif (byte) {\n\t\t\t\t\tlast_nonzero = i;\n\t\t\t\t}\n\n\t\t\t\tbyte = (this.vvcC.general_constraint_info[i] >> 2) & 0x03;\n\t\t\t}\n\n\t\t\tif (last_nonzero === undefined) {\n\t\t\t\tconstraint_string = \".CA\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconstraint_string = \".C\"\n\t\t\t\tvar base32_chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\";\n\t\t\t\tvar held_bits = 0;\n\t\t\t\tvar num_held_bits = 0;\n\t\t\t\tfor (i = 0; i <= last_nonzero; ++i) {\n\t\t\t\t\theld_bits = (held_bits << 8) | bytes[i];\n\t\t\t\t\tnum_held_bits += 8;\n\n\t\t\t\t\twhile (num_held_bits >= 5) {\n\t\t\t\t\t\tvar val = (held_bits >> (num_held_bits - 5)) & 0x1f;\n\t\t\t\t\t\tconstraint_string += base32_chars[val];\n\n\t\t\t\t\t\tnum_held_bits -= 5;\n\t\t\t\t\t\theld_bits &= (1 << num_held_bits) - 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (num_held_bits) {\n\t\t\t\t\theld_bits <<= (5 - num_held_bits);  // right-pad with zeros to 5 bits (is this correct?)\n\t\t\t\t\tconstraint_string += base32_chars[held_bits & 0x1f];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbaseCodec += constraint_string;\n\t}\n\treturn baseCodec;\n}\n\nBoxParser.mp4aSampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.esds && this.esds.esd) {\n\t\tvar oti = this.esds.esd.getOTI();\n\t\tvar dsi = this.esds.esd.getAudioConfig();\n\t\treturn baseCodec+\".\"+BoxParser.decimalToHex(oti)+(dsi ? \".\"+dsi: \"\");\n\t} else {\n\t\treturn baseCodec;\n\t}\n}\n\nBoxParser.stxtSampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif(this.mime_format) {\n\t\treturn baseCodec + \".\" + this.mime_format;\n\t} else {\n\t\treturn baseCodec\n\t}\n}\n\nBoxParser.vp08SampleEntry.prototype.getCodec =\nBoxParser.vp09SampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tvar level = this.vpcC.level;\n\tif (level == 0) {\n\t\tlevel = \"00\";\n\t}\n\tvar bitDepth = this.vpcC.bitDepth;\n\tif (bitDepth == 8) {\n\t\tbitDepth = \"08\";\n\t}\n\treturn baseCodec + \".0\" + this.vpcC.profile + \".\" + level + \".\" + bitDepth;\n}\n\nBoxParser.av01SampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tvar level = this.av1C.seq_level_idx_0;\n\tif (level < 10) {\n\t\tlevel = \"0\" + level;\n\t}\n\tvar bitdepth;\n\tif (this.av1C.seq_profile === 2 && this.av1C.high_bitdepth === 1) {\n\t\tbitdepth = (this.av1C.twelve_bit === 1) ? \"12\" : \"10\";\n\t} else if ( this.av1C.seq_profile <= 2 ) {\n\t\tbitdepth = (this.av1C.high_bitdepth === 1) ? \"10\" : \"08\";\n\t}\n\t// TODO need to parse the SH to find color config\n\treturn baseCodec+\".\"+this.av1C.seq_profile+\".\"+level+(this.av1C.seq_tier_0?\"H\":\"M\")+\".\"+bitdepth;//+\".\"+this.av1C.monochrome+\".\"+this.av1C.chroma_subsampling_x+\"\"+this.av1C.chroma_subsampling_y+\"\"+this.av1C.chroma_sample_position;\n}\n// file:src/box-write.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.Box.prototype.writeHeader = function(stream, msg) {\n\tthis.size += 8;\n\tif (this.size > MAX_SIZE) {\n\t\tthis.size += 8;\n\t}\n\tif (this.type === \"uuid\") {\n\t\tthis.size += 16;\n\t}\n\tLog.debug(\"BoxWriter\", \"Writing box \"+this.type+\" of size: \"+this.size+\" at position \"+stream.getPosition()+(msg || \"\"));\n\tif (this.size > MAX_SIZE) {\n\t\tstream.writeUint32(1);\n\t} else {\n\t\tthis.sizePosition = stream.getPosition();\n\t\tstream.writeUint32(this.size);\n\t}\n\tstream.writeString(this.type, null, 4);\n\tif (this.type === \"uuid\") {\n\t\tstream.writeUint8Array(this.uuid);\n\t}\n\tif (this.size > MAX_SIZE) {\n\t\tstream.writeUint64(this.size);\n\t} \n}\n\nBoxParser.FullBox.prototype.writeHeader = function(stream) {\n\tthis.size += 4;\n\tBoxParser.Box.prototype.writeHeader.call(this, stream, \" v=\"+this.version+\" f=\"+this.flags);\n\tstream.writeUint8(this.version);\n\tstream.writeUint24(this.flags);\n}\n\nBoxParser.Box.prototype.write = function(stream) {\n\tif (this.type === \"mdat\") {\n\t\t/* TODO: fix this */\n\t\tif (this.data) {\n\t\t\tthis.size = this.data.length;\n\t\t\tthis.writeHeader(stream);\n\t\t\tstream.writeUint8Array(this.data);\n\t\t}\n\t} else {\n\t\tthis.size = (this.data ? this.data.length : 0);\n\t\tthis.writeHeader(stream);\n\t\tif (this.data) {\n\t\t\tstream.writeUint8Array(this.data);\n\t\t}\n\t}\n}\n\nBoxParser.ContainerBox.prototype.write = function(stream) {\n\tthis.size = 0;\n\tthis.writeHeader(stream);\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tif (this.boxes[i]) {\n\t\t\tthis.boxes[i].write(stream);\n\t\t\tthis.size += this.boxes[i].size;\n\t\t}\n\t}\n\t/* adjusting the size, now that all sub-boxes are known */\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\n}\n\nBoxParser.TrackReferenceTypeBox.prototype.write = function(stream) {\n\tthis.size = this.track_ids.length*4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32Array(this.track_ids);\n}\n\n// file:src/writing/avcC.js\nBoxParser.avcCBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.size = 7;\n\tfor (i = 0; i < this.SPS.length; i++) {\n\t\tthis.size += 2+this.SPS[i].length;\n\t}\n\tfor (i = 0; i < this.PPS.length; i++) {\n\t\tthis.size += 2+this.PPS[i].length;\n\t}\n\tif (this.ext) {\n\t\tthis.size += this.ext.length;\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeUint8(this.configurationVersion);\n\tstream.writeUint8(this.AVCProfileIndication);\n\tstream.writeUint8(this.profile_compatibility);\n\tstream.writeUint8(this.AVCLevelIndication);\n\tstream.writeUint8(this.lengthSizeMinusOne + (63<<2));\n\tstream.writeUint8(this.SPS.length + (7<<5));\n\tfor (i = 0; i < this.SPS.length; i++) {\n\t\tstream.writeUint16(this.SPS[i].length);\n\t\tstream.writeUint8Array(this.SPS[i].nalu);\n\t}\n\tstream.writeUint8(this.PPS.length);\n\tfor (i = 0; i < this.PPS.length; i++) {\n\t\tstream.writeUint16(this.PPS[i].length);\n\t\tstream.writeUint8Array(this.PPS[i].nalu);\n\t}\n\tif (this.ext) {\n\t\tstream.writeUint8Array(this.ext);\n\t}\n}\n\n// file:src/writing/co64.js\nBoxParser.co64Box.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.chunk_offsets.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.chunk_offsets.length);\n\tfor(i=0; i<this.chunk_offsets.length; i++) {\n\t\tstream.writeUint64(this.chunk_offsets[i]);\n\t}\n}\n\n// file:src/writing/cslg.js\nBoxParser.cslgBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4*5;\n\tthis.writeHeader(stream);\n\tstream.writeInt32(this.compositionToDTSShift);\n\tstream.writeInt32(this.leastDecodeToDisplayDelta);\n\tstream.writeInt32(this.greatestDecodeToDisplayDelta);\n\tstream.writeInt32(this.compositionStartTime);\n\tstream.writeInt32(this.compositionEndTime);\n}\n\n// file:src/writing/ctts.js\nBoxParser.cttsBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.sample_counts.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_counts.length);\n\tfor(i=0; i<this.sample_counts.length; i++) {\n\t\tstream.writeUint32(this.sample_counts[i]);\n\t\tif (this.version === 1) {\n\t\t\tstream.writeInt32(this.sample_offsets[i]); /* signed */\n\t\t} else {\t\t\t\n\t\t\tstream.writeUint32(this.sample_offsets[i]); /* unsigned */\n\t\t}\n\t}\n}\n\n// file:src/writing/dref.js\nBoxParser.drefBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4; //\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.entries.length);\n\tfor (var i = 0; i < this.entries.length; i++) {\n\t\tthis.entries[i].write(stream);\n\t\tthis.size += this.entries[i].size;\n\t}\t\n\t/* adjusting the size, now that all sub-boxes are known */\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\n}\n\n// file:src/writing/elng.js\nBoxParser.elngBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = this.extended_language.length;\n\tthis.writeHeader(stream);\n\tstream.writeString(this.extended_language);\n}\n\n// file:src/writing/elst.js\nBoxParser.elstBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = 4+12*this.entries.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.entries.length);\n\tfor (var i = 0; i < this.entries.length; i++) {\n\t\tvar entry = this.entries[i];\n\t\tstream.writeUint32(entry.segment_duration);\n\t\tstream.writeInt32(entry.media_time);\n\t\tstream.writeInt16(entry.media_rate_integer);\n\t\tstream.writeInt16(entry.media_rate_fraction);\n\t}\n}\n\n// file:src/writing/emsg.js\nBoxParser.emsgBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = 4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1);\n\tthis.writeHeader(stream);\n\tstream.writeCString(this.scheme_id_uri);\n\tstream.writeCString(this.value);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.presentation_time_delta);\n\tstream.writeUint32(this.event_duration);\n\tstream.writeUint32(this.id);\n\tstream.writeUint8Array(this.message_data);\n}\n\n// file:src/writing/ftyp.js\nBoxParser.ftypBox.prototype.write = function(stream) {\n\tthis.size = 8+4*this.compatible_brands.length;\n\tthis.writeHeader(stream);\n\tstream.writeString(this.major_brand, null, 4);\n\tstream.writeUint32(this.minor_version);\n\tfor (var i = 0; i < this.compatible_brands.length; i++) {\n\t\tstream.writeString(this.compatible_brands[i], null, 4);\n\t}\n}\n\n// file:src/writing/hdlr.js\nBoxParser.hdlrBox.prototype.write = function(stream) {\n\tthis.size = 5*4+this.name.length+1;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(0);\n\tstream.writeString(this.handler, null, 4);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeCString(this.name);\n}\n\n// file:src/writing/kind.js\nBoxParser.kindBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = (this.schemeURI.length+1)+(this.value.length+1);\n\tthis.writeHeader(stream);\n\tstream.writeCString(this.schemeURI);\n\tstream.writeCString(this.value);\n}\n\n// file:src/writing/mdhd.js\nBoxParser.mdhdBox.prototype.write = function(stream) {\n\tthis.size = 4*4+2*2;\n\tthis.flags = 0;\n\tthis.version = 0;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.creation_time);\n\tstream.writeUint32(this.modification_time);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.duration);\n\tstream.writeUint16(this.language);\n\tstream.writeUint16(0);\n}\n\n// file:src/writing/mehd.js\nBoxParser.mehdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.fragment_duration);\n}\n\n// file:src/writing/mfhd.js\nBoxParser.mfhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sequence_number);\n}\n\n// file:src/writing/mvhd.js\nBoxParser.mvhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 23*4+2*2;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.creation_time);\n\tstream.writeUint32(this.modification_time);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.duration);\n\tstream.writeUint32(this.rate);\n\tstream.writeUint16(this.volume<<8);\n\tstream.writeUint16(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32Array(this.matrix);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(this.next_track_id);\n}\n\n// file:src/writing/sampleentry.js\nBoxParser.SampleEntry.prototype.writeHeader = function(stream) {\n\tthis.size = 8;\n\tBoxParser.Box.prototype.writeHeader.call(this, stream);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint16(this.data_reference_index);\n}\n\nBoxParser.SampleEntry.prototype.writeFooter = function(stream) {\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tthis.boxes[i].write(stream);\n\t\tthis.size += this.boxes[i].size;\n\t}\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\t\n}\n\nBoxParser.SampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tstream.writeUint8Array(this.data);\n\tthis.size += this.data.length;\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\t\n}\n\nBoxParser.VisualSampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tthis.size += 2*7+6*4+32;\n\tstream.writeUint16(0); \n\tstream.writeUint16(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint16(this.width);\n\tstream.writeUint16(this.height);\n\tstream.writeUint32(this.horizresolution);\n\tstream.writeUint32(this.vertresolution);\n\tstream.writeUint32(0);\n\tstream.writeUint16(this.frame_count);\n\tstream.writeUint8(Math.min(31, this.compressorname.length));\n\tstream.writeString(this.compressorname, null, 31);\n\tstream.writeUint16(this.depth);\n\tstream.writeInt16(-1);\n\tthis.writeFooter(stream);\n}\n\nBoxParser.AudioSampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tthis.size += 2*4+3*4;\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint16(this.channel_count);\n\tstream.writeUint16(this.samplesize);\n\tstream.writeUint16(0);\n\tstream.writeUint16(0);\n\tstream.writeUint32(this.samplerate<<16);\n\tthis.writeFooter(stream);\n}\n\nBoxParser.stppSampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tthis.size += this.namespace.length+1+\n\t\t\t\t this.schema_location.length+1+\n\t\t\t\t this.auxiliary_mime_types.length+1;\n\tstream.writeCString(this.namespace);\n\tstream.writeCString(this.schema_location);\n\tstream.writeCString(this.auxiliary_mime_types);\n\tthis.writeFooter(stream);\n}\n\n// file:src/writing/samplegroups/samplegroup.js\nBoxParser.SampleGroupEntry.prototype.write = function(stream) {\n\tstream.writeUint8Array(this.data);\n}\n\n// file:src/writing/sbgp.js\nBoxParser.sbgpBox.prototype.write = function(stream) {\n\tthis.version = 1;\t\n\tthis.flags = 0;\n\tthis.size = 12+8*this.entries.length;\n\tthis.writeHeader(stream);\n\tstream.writeString(this.grouping_type, null, 4);\n\tstream.writeUint32(this.grouping_type_parameter);\n\tstream.writeUint32(this.entries.length);\n\tfor (var i = 0; i < this.entries.length; i++) {\n\t\tvar entry = this.entries[i];\n\t\tstream.writeInt32(entry.sample_count);\n\t\tstream.writeInt32(entry.group_description_index);\n\t}\n}\n\n// file:src/writing/sgpd.js\nBoxParser.sgpdBox.prototype.write = function(stream) {\n\tvar i;\n\tvar entry;\n\t// leave version as read\n\t// this.version;\n\tthis.flags = 0;\n\tthis.size = 12;\n\tfor (i = 0; i < this.entries.length; i++) {\n\t\tentry = this.entries[i];\n\t\tif (this.version === 1) {\n\t\t\tif (this.default_length === 0) {\n\t\t\t\tthis.size += 4;\n\t\t\t}\n\t\t\tthis.size += entry.data.length;\n\t\t}\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeString(this.grouping_type, null, 4);\n\tif (this.version === 1) {\n\t\tstream.writeUint32(this.default_length);\n\t}\n\tif (this.version >= 2) {\n\t\tstream.writeUint32(this.default_sample_description_index);\n\t}\n\tstream.writeUint32(this.entries.length);\n\tfor (i = 0; i < this.entries.length; i++) {\n\t\tentry = this.entries[i];\n\t\tif (this.version === 1) {\n\t\t\tif (this.default_length === 0) {\n\t\t\t\tstream.writeUint32(entry.description_length);\n\t\t\t}\n\t\t}\n\t\tentry.write(stream);\n\t}\n}\n\n\n// file:src/writing/sidx.js\nBoxParser.sidxBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = 4*4+2+2+12*this.references.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.reference_ID);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.earliest_presentation_time);\n\tstream.writeUint32(this.first_offset);\n\tstream.writeUint16(0);\n\tstream.writeUint16(this.references.length);\n\tfor (var i = 0; i < this.references.length; i++) {\n\t\tvar ref = this.references[i];\n\t\tstream.writeUint32(ref.reference_type << 31 | ref.referenced_size);\n\t\tstream.writeUint32(ref.subsegment_duration);\n\t\tstream.writeUint32(ref.starts_with_SAP << 31 | ref.SAP_type << 28 | ref.SAP_delta_time);\n\t}\n}\n\n// file:src/writing/smhd.js\nBoxParser.smhdBox.prototype.write = function(stream) {\n  var i;\n  this.version = 0;\n  this.flags = 1;\n  this.size = 4;\n  this.writeHeader(stream);\n  stream.writeUint16(this.balance);\n  stream.writeUint16(0);\n}\n// file:src/writing/stco.js\nBoxParser.stcoBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+4*this.chunk_offsets.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.chunk_offsets.length);\n\tstream.writeUint32Array(this.chunk_offsets);\n}\n\n// file:src/writing/stsc.js\nBoxParser.stscBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+12*this.first_chunk.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.first_chunk.length);\n\tfor(i=0; i<this.first_chunk.length; i++) {\n\t\tstream.writeUint32(this.first_chunk[i]);\n\t\tstream.writeUint32(this.samples_per_chunk[i]);\n\t\tstream.writeUint32(this.sample_description_index[i]);\n\t}\n}\n\n// file:src/writing/stsd.js\nBoxParser.stsdBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 0;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.entries.length);\n\tthis.size += 4;\n\tfor (i = 0; i < this.entries.length; i++) {\n\t\tthis.entries[i].write(stream);\n\t\tthis.size += this.entries[i].size;\n\t}\n\t/* adjusting the size, now that all sub-boxes are known */\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\n}\n\n// file:src/writing/stsh.js\nBoxParser.stshBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.shadowed_sample_numbers.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.shadowed_sample_numbers.length);\n\tfor(i=0; i<this.shadowed_sample_numbers.length; i++) {\n\t\tstream.writeUint32(this.shadowed_sample_numbers[i]);\n\t\tstream.writeUint32(this.sync_sample_numbers[i]);\n\t}\n}\n\n// file:src/writing/stss.js\nBoxParser.stssBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+4*this.sample_numbers.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_numbers.length);\n\tstream.writeUint32Array(this.sample_numbers);\n}\n\n// file:src/writing/stsz.js\nBoxParser.stszBox.prototype.write = function(stream) {\n\tvar i;\n\tvar constant = true;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tif (this.sample_sizes.length > 0) {\n\t\ti = 0;\n\t\twhile (i+1 < this.sample_sizes.length) {\n\t\t\tif (this.sample_sizes[i+1] !==  this.sample_sizes[0]) {\n\t\t\t\tconstant = false;\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tconstant = false;\n\t}\n\tthis.size = 8;\n\tif (!constant) {\n\t\tthis.size += 4*this.sample_sizes.length;\n\t}\n\tthis.writeHeader(stream);\n\tif (!constant) {\n\t\tstream.writeUint32(0);\n\t} else {\n\t\tstream.writeUint32(this.sample_sizes[0]);\n\t}\n\tstream.writeUint32(this.sample_sizes.length);\n\tif (!constant) {\n\t\tstream.writeUint32Array(this.sample_sizes);\n\t}\t\n}\n\n// file:src/writing/stts.js\nBoxParser.sttsBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.sample_counts.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_counts.length);\n\tfor(i=0; i<this.sample_counts.length; i++) {\n\t\tstream.writeUint32(this.sample_counts[i]);\n\t\tstream.writeUint32(this.sample_deltas[i]);\n\t}\n}\n\n// file:src/writing/tfdt.js\nBoxParser.tfdtBox.prototype.write = function(stream) {\n\tvar UINT32_MAX = Math.pow(2, 32) - 1;\n\t// use version 1 if baseMediaDecodeTime does not fit 32 bits\n\tthis.version = this.baseMediaDecodeTime > UINT32_MAX ? 1 : 0;\n\tthis.flags = 0;\n\tthis.size = 4;\n\tif (this.version === 1) {\n\t\tthis.size += 4;\n\t}\n\tthis.writeHeader(stream);\n\tif (this.version === 1) {\n\t\tstream.writeUint64(this.baseMediaDecodeTime);\n\t} else {\n\t\tstream.writeUint32(this.baseMediaDecodeTime);\n\t}\n}\n\n// file:src/writing/tfhd.js\nBoxParser.tfhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.size = 4;\n\tif (this.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET) {\n\t\tthis.size += 8;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS) {\n\t\tthis.size += 4;\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.track_id);\n\tif (this.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET) {\n\t\tstream.writeUint64(this.base_data_offset);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC) {\n\t\tstream.writeUint32(this.default_sample_description_index);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR) {\n\t\tstream.writeUint32(this.default_sample_duration);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE) {\n\t\tstream.writeUint32(this.default_sample_size);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS) {\n\t\tstream.writeUint32(this.default_sample_flags);\n\t}\n}\n\n// file:src/writing/tkhd.js\nBoxParser.tkhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\t//this.flags = 0;\n\tthis.size = 4*18+2*4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.creation_time);\n\tstream.writeUint32(this.modification_time);\n\tstream.writeUint32(this.track_id);\n\tstream.writeUint32(0);\n\tstream.writeUint32(this.duration);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeInt16(this.layer);\n\tstream.writeInt16(this.alternate_group);\n\tstream.writeInt16(this.volume<<8);\n\tstream.writeUint16(0);\n\tstream.writeInt32Array(this.matrix);\n\tstream.writeUint32(this.width);\n\tstream.writeUint32(this.height);\n}\n\n// file:src/writing/trex.js\nBoxParser.trexBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4*5;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.track_id);\n\tstream.writeUint32(this.default_sample_description_index);\n\tstream.writeUint32(this.default_sample_duration);\n\tstream.writeUint32(this.default_sample_size);\n\tstream.writeUint32(this.default_sample_flags);\n}\n\n// file:src/writing/trun.js\nBoxParser.trunBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.size = 4;\n\tif (this.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\tthis.size += 4*this.sample_duration.length;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\tthis.size += 4*this.sample_size.length;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\tthis.size += 4*this.sample_flags.length;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\tthis.size += 4*this.sample_composition_time_offset.length;\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_count);\n\tif (this.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) {\n\t\tthis.data_offset_position = stream.getPosition();\n\t\tstream.writeInt32(this.data_offset); //signed\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG) {\n\t\tstream.writeUint32(this.first_sample_flags);\n\t}\n\tfor (var i = 0; i < this.sample_count; i++) {\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\t\tstream.writeUint32(this.sample_duration[i]);\n\t\t}\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\t\tstream.writeUint32(this.sample_size[i]);\n\t\t}\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\t\tstream.writeUint32(this.sample_flags[i]);\n\t\t}\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\t\tif (this.version === 0) {\n\t\t\t\tstream.writeUint32(this.sample_composition_time_offset[i]);\n\t\t\t} else {\n\t\t\t\tstream.writeInt32(this.sample_composition_time_offset[i]); //signed\n\t\t\t}\n\t\t}\n\t}\t\t\n}\n\n// file:src/writing/url.js\nBoxParser[\"url Box\"].prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tif (this.location) {\n\t\tthis.flags = 0;\n\t\tthis.size = this.location.length+1;\n\t} else {\n\t\tthis.flags = 0x000001;\n\t\tthis.size = 0;\n\t}\n\tthis.writeHeader(stream);\n\tif (this.location) {\n\t\tstream.writeCString(this.location);\n\t}\n}\n\n// file:src/writing/urn.js\nBoxParser[\"urn Box\"].prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = this.name.length+1+(this.location ? this.location.length+1 : 0);\n\tthis.writeHeader(stream);\n\tstream.writeCString(this.name);\n\tif (this.location) {\n\t\tstream.writeCString(this.location);\n\t}\n}\n\n// file:src/writing/vmhd.js\nBoxParser.vmhdBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 1;\n\tthis.size = 8;\n\tthis.writeHeader(stream);\n\tstream.writeUint16(this.graphicsmode);\n\tstream.writeUint16Array(this.opcolor);\n}\n\n// file:src/box-unpack.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.cttsBox.prototype.unpack = function(samples) {\n\tvar i, j, k;\n\tk = 0;\n\tfor (i = 0; i < this.sample_counts.length; i++) {\n\t\tfor (j = 0; j < this.sample_counts[i]; j++) {\n\t\t\tsamples[k].pts = samples[k].dts + this.sample_offsets[i];\n\t\t\tk++;\n\t\t}\n\t}\n}\n\nBoxParser.sttsBox.prototype.unpack = function(samples) {\n\tvar i, j, k;\n\tk = 0;\n\tfor (i = 0; i < this.sample_counts.length; i++) {\n\t\tfor (j = 0; j < this.sample_counts[i]; j++) {\n\t\t\tif (k === 0) {\n\t\t\t\tsamples[k].dts = 0;\n\t\t\t} else {\n\t\t\t\tsamples[k].dts = samples[k-1].dts + this.sample_deltas[i];\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t}\n}\n\nBoxParser.stcoBox.prototype.unpack = function(samples) {\n\tvar i;\n\tfor (i = 0; i < this.chunk_offsets.length; i++) {\n\t\tsamples[i].offset = this.chunk_offsets[i];\n\t}\n}\n\nBoxParser.stscBox.prototype.unpack = function(samples) {\n\tvar i, j, k, l, m;\n\tl = 0;\n\tm = 0;\n\tfor (i = 0; i < this.first_chunk.length; i++) {\n\t\tfor (j = 0; j < (i+1 < this.first_chunk.length ? this.first_chunk[i+1] : Infinity); j++) {\n\t\t\tm++;\n\t\t\tfor (k = 0; k < this.samples_per_chunk[i]; k++) {\n\t\t\t\tif (samples[l]) {\n\t\t\t\t\tsamples[l].description_index = this.sample_description_index[i];\n\t\t\t\t\tsamples[l].chunk_index = m;\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tl++;\n\t\t\t}\t\t\t\n\t\t}\n\t}\n}\n\nBoxParser.stszBox.prototype.unpack = function(samples) {\n\tvar i;\n\tfor (i = 0; i < this.sample_sizes.length; i++) {\n\t\tsamples[i].size = this.sample_sizes[i];\n\t}\n}\n// file:src/box-diff.js\n\nBoxParser.DIFF_BOXES_PROP_NAMES = [ \"boxes\", \"entries\", \"references\", \"subsamples\",\n\t\t\t\t\t \t \"items\", \"item_infos\", \"extents\", \"associations\",\n\t\t\t\t\t \t \"subsegments\", \"ranges\", \"seekLists\", \"seekPoints\",\n\t\t\t\t\t \t \"esd\", \"levels\"];\n\nBoxParser.DIFF_PRIMITIVE_ARRAY_PROP_NAMES = [ \"compatible_brands\", \"matrix\", \"opcolor\", \"sample_counts\", \"sample_counts\", \"sample_deltas\",\n\"first_chunk\", \"samples_per_chunk\", \"sample_sizes\", \"chunk_offsets\", \"sample_offsets\", \"sample_description_index\", \"sample_duration\" ];\n\nBoxParser.boxEqualFields = function(box_a, box_b) {\n\tif (box_a && !box_b) return false;\n\tvar prop;\n\tfor (prop in box_a) {\n\t\tif (BoxParser.DIFF_BOXES_PROP_NAMES.indexOf(prop) > -1) {\n\t\t\tcontinue;\n\t\t// } else if (excluded_fields && excluded_fields.indexOf(prop) > -1) {\n\t\t// \tcontinue;\n\t\t} else if (box_a[prop] instanceof BoxParser.Box || box_b[prop] instanceof BoxParser.Box) {\n\t\t\tcontinue;\n\t\t} else if (typeof box_a[prop] === \"undefined\" || typeof box_b[prop] === \"undefined\") {\n\t\t\tcontinue;\n\t\t} else if (typeof box_a[prop] === \"function\" || typeof box_b[prop] === \"function\") {\n\t\t\tcontinue;\n\t\t} else if (\n\t\t\t(box_a.subBoxNames && box_a.subBoxNames.indexOf(prop.slice(0,4)) > -1) ||\n\t\t\t(box_b.subBoxNames && box_b.subBoxNames.indexOf(prop.slice(0,4)) > -1))  {\n\t\t\tcontinue;\n\t\t} else {\n\t\t\tif (prop === \"data\" || prop === \"start\" || prop === \"size\" || prop === \"creation_time\" || prop === \"modification_time\") {\n\t\t\t\tcontinue;\n\t\t\t} else if (BoxParser.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(prop) > -1) {\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\tif (box_a[prop] !== box_b[prop]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\n\nBoxParser.boxEqual = function(box_a, box_b) {\n\tif (!BoxParser.boxEqualFields(box_a, box_b)) {\n\t\treturn false;\n\t}\n\tfor (var j = 0; j < BoxParser.DIFF_BOXES_PROP_NAMES.length; j++) {\n\t\tvar name = BoxParser.DIFF_BOXES_PROP_NAMES[j];\n\t\tif (box_a[name] && box_b[name]) {\n\t\t\tif (!BoxParser.boxEqual(box_a[name], box_b[name])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}// file:src/text-mp4.js\n/* \n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar VTTin4Parser = function() {\t\n}\n\nVTTin4Parser.prototype.parseSample = function(data) {\n\tvar cues, cue;\n\tvar stream = new MP4BoxStream(data.buffer);\n\tcues = [];\n\twhile (!stream.isEos()) {\n\t\tcue = BoxParser.parseOneBox(stream, false);\n\t\tif (cue.code === BoxParser.OK && cue.box.type === \"vttc\") {\n\t\t\tcues.push(cue.box);\n\t\t}\t\t\n\t}\n\treturn cues;\n}\n\nVTTin4Parser.prototype.getText = function (startTime, endTime, data) {\n\tfunction pad(n, width, z) {\n\t  z = z || '0';\n\t  n = n + '';\n\t  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n\t}\n\tfunction secToTimestamp(insec) {\n\t\tvar h = Math.floor(insec/3600);\n\t\tvar m = Math.floor((insec - h*3600)/60);\n\t\tvar s = Math.floor(insec - h*3600 - m*60);\n\t\tvar ms = Math.floor((insec - h*3600 - m*60 - s)*1000);\n\t\treturn \"\"+pad(h, 2)+\":\"+pad(m,2)+\":\"+pad(s, 2)+\".\"+pad(ms, 3);\n\t}\n\tvar cues = this.parseSample(data);\n\tvar string = \"\";\n\tfor (var i = 0; i < cues.length; i++) {\n\t\tvar cueIn4 = cues[i];\n\t\tstring += secToTimestamp(startTime)+\" --> \"+secToTimestamp(endTime)+\"\\r\\n\";\n\t\tstring += cueIn4.payl.text;\n\t}\n\treturn string;\n}\n\nvar XMLSubtitlein4Parser = function() {\t\n}\n\nXMLSubtitlein4Parser.prototype.parseSample = function(sample) {\n\tvar res = {};\t\n\tvar i;\n\tres.resources = [];\n\tvar stream = new MP4BoxStream(sample.data.buffer);\n\tif (!sample.subsamples || sample.subsamples.length === 0) {\n\t\tres.documentString = stream.readString(sample.data.length);\n\t} else {\n\t\tres.documentString = stream.readString(sample.subsamples[0].size);\n\t\tif (sample.subsamples.length > 1) {\n\t\t\tfor (i = 1; i < sample.subsamples.length; i++) {\n\t\t\t\tres.resources[i] = stream.readUint8Array(sample.subsamples[i].size);\n\t\t\t}\n\t\t}\n\t}\n\tif (typeof (DOMParser) !== \"undefined\") {\n\t\tres.document = (new DOMParser()).parseFromString(res.documentString, \"application/xml\");\n\t}\n\treturn res;\n}\n\nvar Textin4Parser = function() {\t\n}\n\nTextin4Parser.prototype.parseSample = function(sample) {\n\tvar textString;\n\tvar stream = new MP4BoxStream(sample.data.buffer);\n\ttextString = stream.readString(sample.data.length);\n\treturn textString;\n}\n\nTextin4Parser.prototype.parseConfig = function(data) {\n\tvar textString;\n\tvar stream = new MP4BoxStream(data.buffer);\n\tstream.readUint32(); // version & flags\n\ttextString = stream.readCString();\n\treturn textString;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.XMLSubtitlein4Parser = XMLSubtitlein4Parser;\n\texports.Textin4Parser = Textin4Parser;\n}\n// file:src/isofile.js\n/*\n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar ISOFile = function (stream) {\n\t/* MutiBufferStream object used to parse boxes */\n\tthis.stream = stream || new MultiBufferStream();\n\t/* Array of all boxes (in order) found in the file */\n\tthis.boxes = [];\n\t/* Array of all mdats */\n\tthis.mdats = [];\n\t/* Array of all moofs */\n\tthis.moofs = [];\n\t/* Boolean indicating if the file is compatible with progressive parsing (moov first) */\n\tthis.isProgressive = false;\n\t/* Boolean used to fire moov start event only once */\n\tthis.moovStartFound = false;\n\t/* Callback called when the moov parsing starts */\n\tthis.onMoovStart = null;\n\t/* Boolean keeping track of the call to onMoovStart, to avoid double calls */\n\tthis.moovStartSent = false;\n\t/* Callback called when the moov is entirely parsed */\n\tthis.onReady = null;\n\t/* Boolean keeping track of the call to onReady, to avoid double calls */\n\tthis.readySent = false;\n\t/* Callback to call when segments are ready */\n\tthis.onSegment = null;\n\t/* Callback to call when samples are ready */\n\tthis.onSamples = null;\n\t/* Callback to call when there is an error in the parsing or processing of samples */\n\tthis.onError = null;\n\t/* Boolean indicating if the moov box run-length encoded tables of sample information have been processed */\n\tthis.sampleListBuilt = false;\n\t/* Array of Track objects for which fragmentation of samples is requested */\n\tthis.fragmentedTracks = [];\n\t/* Array of Track objects for which extraction of samples is requested */\n\tthis.extractedTracks = [];\n\t/* Boolean indicating that fragmention is ready */\n\tthis.isFragmentationInitialized = false;\n\t/* Boolean indicating that fragmented has started */\n\tthis.sampleProcessingStarted = false;\n\t/* Number of the next 'moof' to generate when fragmenting */\n\tthis.nextMoofNumber = 0;\n\t/* Boolean indicating if the initial list of items has been produced */\n\tthis.itemListBuilt = false;\n\t/* Callback called when the sidx box is entirely parsed */\n\tthis.onSidx = null;\n\t/* Boolean keeping track of the call to onSidx, to avoid double calls */\n\tthis.sidxSent = false;\n}\n\nISOFile.prototype.setSegmentOptions = function(id, user, options) {\n\tvar trak = this.getTrackById(id);\n\tif (trak) {\n\t\tvar fragTrack = {};\n\t\tthis.fragmentedTracks.push(fragTrack);\n\t\tfragTrack.id = id;\n\t\tfragTrack.user = user;\n\t\tfragTrack.trak = trak;\n\t\ttrak.nextSample = 0;\n\t\tfragTrack.segmentStream = null;\n\t\tfragTrack.nb_samples = 1000;\n\t\tfragTrack.rapAlignement = true;\n\t\tif (options) {\n\t\t\tif (options.nbSamples) fragTrack.nb_samples = options.nbSamples;\n\t\t\tif (options.rapAlignement) fragTrack.rapAlignement = options.rapAlignement;\n\t\t}\n\t}\n}\n\nISOFile.prototype.unsetSegmentOptions = function(id) {\n\tvar index = -1;\n\tfor (var i = 0; i < this.fragmentedTracks.length; i++) {\n\t\tvar fragTrack = this.fragmentedTracks[i];\n\t\tif (fragTrack.id == id) {\n\t\t\tindex = i;\n\t\t}\n\t}\n\tif (index > -1) {\n\t\tthis.fragmentedTracks.splice(index, 1);\n\t}\n}\n\nISOFile.prototype.setExtractionOptions = function(id, user, options) {\n\tvar trak = this.getTrackById(id);\n\tif (trak) {\n\t\tvar extractTrack = {};\n\t\tthis.extractedTracks.push(extractTrack);\n\t\textractTrack.id = id;\n\t\textractTrack.user = user;\n\t\textractTrack.trak = trak;\n\t\ttrak.nextSample = 0;\n\t\textractTrack.nb_samples = 1000;\n\t\textractTrack.samples = [];\n\t\tif (options) {\n\t\t\tif (options.nbSamples) extractTrack.nb_samples = options.nbSamples;\n\t\t}\n\t}\n}\n\nISOFile.prototype.unsetExtractionOptions = function(id) {\n\tvar index = -1;\n\tfor (var i = 0; i < this.extractedTracks.length; i++) {\n\t\tvar extractTrack = this.extractedTracks[i];\n\t\tif (extractTrack.id == id) {\n\t\t\tindex = i;\n\t\t}\n\t}\n\tif (index > -1) {\n\t\tthis.extractedTracks.splice(index, 1);\n\t}\n}\n\nISOFile.prototype.parse = function() {\n\tvar found;\n\tvar ret;\n\tvar box;\n\tvar parseBoxHeadersOnly = false;\n\n\tif (this.restoreParsePosition)\t{\n\t\tif (!this.restoreParsePosition()) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\twhile (true) {\n\n\t\tif (this.hasIncompleteMdat && this.hasIncompleteMdat()) {\n\t\t\tif (this.processIncompleteMdat()) {\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.saveParsePosition)\t{\n\t\t\t\tthis.saveParsePosition();\n\t\t\t}\n\t\t\tret = BoxParser.parseOneBox(this.stream, parseBoxHeadersOnly);\n\t\t\tif (ret.code === BoxParser.ERR_NOT_ENOUGH_DATA) {\n\t\t\t\tif (this.processIncompleteBox) {\n\t\t\t\t\tif (this.processIncompleteBox(ret)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar box_type;\n\t\t\t\t/* the box is entirely parsed */\n\t\t\t\tbox = ret.box;\n\t\t\t\tbox_type = (box.type !== \"uuid\" ? box.type : box.uuid);\n\t\t\t\t/* store the box in the 'boxes' array to preserve box order (for file rewrite if needed)  */\n\t\t\t\tthis.boxes.push(box);\n\t\t\t\t/* but also store box in a property for more direct access */\n\t\t\t\tswitch (box_type) {\n\t\t\t\t\tcase \"mdat\":\n\t\t\t\t\t\tthis.mdats.push(box);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"moof\":\n\t\t\t\t\t\tthis.moofs.push(box);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"moov\":\n\t\t\t\t\t\tthis.moovStartFound = true;\n\t\t\t\t\t\tif (this.mdats.length === 0) {\n\t\t\t\t\t\t\tthis.isProgressive = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/* no break */\n\t\t\t\t\t\t/* falls through */\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (this[box_type] !== undefined) {\n\t\t\t\t\t\t\tLog.warn(\"ISOFile\", \"Duplicate Box of type: \"+box_type+\", overriding previous occurrence\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis[box_type] = box;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (this.updateUsedBytes) {\n\t\t\t\t\tthis.updateUsedBytes(box, ret);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.prototype.checkBuffer = function (ab) {\n\tif (ab === null || ab === undefined) {\n\t\tthrow(\"Buffer must be defined and non empty\");\n\t}\n\tif (ab.fileStart === undefined) {\n\t\tthrow(\"Buffer must have a fileStart property\");\n\t}\n\tif (ab.byteLength === 0) {\n\t\tLog.warn(\"ISOFile\", \"Ignoring empty buffer (fileStart: \"+ab.fileStart+\")\");\n\t\tthis.stream.logBufferLevel();\n\t\treturn false;\n\t}\n\tLog.info(\"ISOFile\", \"Processing buffer (fileStart: \"+ab.fileStart+\")\");\n\n\t/* mark the bytes in the buffer as not being used yet */\n\tab.usedBytes = 0;\n\tthis.stream.insertBuffer(ab);\n\tthis.stream.logBufferLevel();\n\n\tif (!this.stream.initialized()) {\n\t\tLog.warn(\"ISOFile\", \"Not ready to start parsing\");\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n/* Processes a new ArrayBuffer (with a fileStart property)\n   Returns the next expected file position, or undefined if not ready to parse */\nISOFile.prototype.appendBuffer = function(ab, last) {\n\tvar nextFileStart;\n\tif (!this.checkBuffer(ab)) {\n\t\treturn;\n\t}\n\n\t/* Parse whatever is in the existing buffers */\n\tthis.parse();\n\n\t/* Check if the moovStart callback needs to be called */\n\tif (this.moovStartFound && !this.moovStartSent) {\n\t\tthis.moovStartSent = true;\n\t\tif (this.onMoovStart) this.onMoovStart();\n\t}\n\n\tif (this.moov) {\n\t\t/* A moov box has been entirely parsed */\n\n\t\t/* if this is the first call after the moov is found we initialize the list of samples (may be empty in fragmented files) */\n\t\tif (!this.sampleListBuilt) {\n\t\t\tthis.buildSampleLists();\n\t\t\tthis.sampleListBuilt = true;\n\t\t}\n\n\t\t/* We update the sample information if there are any new moof boxes */\n\t\tthis.updateSampleLists();\n\n\t\t/* If the application needs to be informed that the 'moov' has been found,\n\t\t   we create the information object and callback the application */\n\t\tif (this.onReady && !this.readySent) {\n\t\t\tthis.readySent = true;\n\t\t\tthis.onReady(this.getInfo());\n\t\t}\n\n\t\t/* See if any sample extraction or segment creation needs to be done with the available samples */\n\t\tthis.processSamples(last);\n\n\t\t/* Inform about the best range to fetch next */\n\t\tif (this.nextSeekPosition) {\n\t\t\tnextFileStart = this.nextSeekPosition;\n\t\t\tthis.nextSeekPosition = undefined;\n\t\t} else {\n\t\t\tnextFileStart = this.nextParsePosition;\n\t\t}\n\t\tif (this.stream.getEndFilePositionAfter) {\n\t\t\tnextFileStart = this.stream.getEndFilePositionAfter(nextFileStart);\n\t\t}\n\t} else {\n\t\tif (this.nextParsePosition) {\n\t\t\t/* moov has not been parsed but the first buffer was received,\n\t\t\t   the next fetch should probably be the next box start */\n\t\t\tnextFileStart = this.nextParsePosition;\n\t\t} else {\n\t\t\t/* No valid buffer has been parsed yet, we cannot know what to parse next */\n\t\t\tnextFileStart = 0;\n\t\t}\n\t}\n\tif (this.sidx) {\n\t\tif (this.onSidx && !this.sidxSent) {\n\t\t\tthis.onSidx(this.sidx);\n\t\t\tthis.sidxSent = true;\n\t\t}\n\t}\n\tif (this.meta) {\n\t\tif (this.flattenItemInfo && !this.itemListBuilt) {\n\t\t\tthis.flattenItemInfo();\n\t\t\tthis.itemListBuilt = true;\n\t\t}\n\t\tif (this.processItems) {\n\t\t\tthis.processItems(this.onItem);\n\t\t}\n\t}\n\n\tif (this.stream.cleanBuffers) {\n\t\tLog.info(\"ISOFile\", \"Done processing buffer (fileStart: \"+ab.fileStart+\") - next buffer to fetch should have a fileStart position of \"+nextFileStart);\n\t\tthis.stream.logBufferLevel();\n\t\tthis.stream.cleanBuffers();\n\t\tthis.stream.logBufferLevel(true);\n\t\tLog.info(\"ISOFile\", \"Sample data size in memory: \"+this.getAllocatedSampleDataSize());\n\t}\n\treturn nextFileStart;\n}\n\nISOFile.prototype.getInfo = function() {\n\tvar i, j;\n\tvar movie = {};\n\tvar trak;\n\tvar track;\n\tvar ref;\n\tvar sample_desc;\n\tvar _1904 = (new Date('1904-01-01T00:00:00Z').getTime());\n\n\tif (this.moov) {\n\t\tmovie.hasMoov = true;\n\t\tmovie.duration = this.moov.mvhd.duration;\n\t\tmovie.timescale = this.moov.mvhd.timescale;\n\t\tmovie.isFragmented = (this.moov.mvex != null);\n\t\tif (movie.isFragmented && this.moov.mvex.mehd) {\n\t\t\tmovie.fragment_duration = this.moov.mvex.mehd.fragment_duration;\n\t\t}\n\t\tmovie.isProgressive = this.isProgressive;\n\t\tmovie.hasIOD = (this.moov.iods != null);\n\t\tmovie.brands = [];\n\t\tmovie.brands.push(this.ftyp.major_brand);\n\t\tmovie.brands = movie.brands.concat(this.ftyp.compatible_brands);\n\t\tmovie.created = new Date(_1904+this.moov.mvhd.creation_time*1000);\n\t\tmovie.modified = new Date(_1904+this.moov.mvhd.modification_time*1000);\n\t\tmovie.tracks = [];\n\t\tmovie.audioTracks = [];\n\t\tmovie.videoTracks = [];\n\t\tmovie.subtitleTracks = [];\n\t\tmovie.metadataTracks = [];\n\t\tmovie.hintTracks = [];\n\t\tmovie.otherTracks = [];\n\t\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\t\ttrak = this.moov.traks[i];\n\t\t\tsample_desc = trak.mdia.minf.stbl.stsd.entries[0];\n\t\t\ttrack = {};\n\t\t\tmovie.tracks.push(track);\n\t\t\ttrack.id = trak.tkhd.track_id;\n\t\t\ttrack.name = trak.mdia.hdlr.name;\n\t\t\ttrack.references = [];\n\t\t\tif (trak.tref) {\n\t\t\t\tfor (j = 0; j < trak.tref.boxes.length; j++) {\n\t\t\t\t\tref = {};\n\t\t\t\t\ttrack.references.push(ref);\n\t\t\t\t\tref.type = trak.tref.boxes[j].type;\n\t\t\t\t\tref.track_ids = trak.tref.boxes[j].track_ids;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (trak.edts) {\n\t\t\t\ttrack.edits = trak.edts.elst.entries;\n\t\t\t}\n\t\t\ttrack.created = new Date(_1904+trak.tkhd.creation_time*1000);\n\t\t\ttrack.modified = new Date(_1904+trak.tkhd.modification_time*1000);\n\t\t\ttrack.movie_duration = trak.tkhd.duration;\n\t\t\ttrack.movie_timescale = movie.timescale;\n\t\t\ttrack.layer = trak.tkhd.layer;\n\t\t\ttrack.alternate_group = trak.tkhd.alternate_group;\n\t\t\ttrack.volume = trak.tkhd.volume;\n\t\t\ttrack.matrix = trak.tkhd.matrix;\n\t\t\ttrack.track_width = trak.tkhd.width/(1<<16);\n\t\t\ttrack.track_height = trak.tkhd.height/(1<<16);\n\t\t\ttrack.timescale = trak.mdia.mdhd.timescale;\n\t\t\ttrack.cts_shift = trak.mdia.minf.stbl.cslg;\n\t\t\ttrack.duration = trak.mdia.mdhd.duration;\n\t\t\ttrack.samples_duration = trak.samples_duration;\n\t\t\ttrack.codec = sample_desc.getCodec();\n\t\t\ttrack.kind = (trak.udta && trak.udta.kinds.length ? trak.udta.kinds[0] : { schemeURI: \"\", value: \"\"});\n\t\t\ttrack.language = (trak.mdia.elng ? trak.mdia.elng.extended_language : trak.mdia.mdhd.languageString);\n\t\t\ttrack.nb_samples = trak.samples.length;\n\t\t\ttrack.size = trak.samples_size;\n\t\t\ttrack.bitrate = (track.size*8*track.timescale)/track.samples_duration;\n\t\t\tif (sample_desc.isAudio()) {\n\t\t\t\ttrack.type = \"audio\";\n\t\t\t\tmovie.audioTracks.push(track);\n\t\t\t\ttrack.audio = {};\n\t\t\t\ttrack.audio.sample_rate = sample_desc.getSampleRate();\n\t\t\t\ttrack.audio.channel_count = sample_desc.getChannelCount();\n\t\t\t\ttrack.audio.sample_size = sample_desc.getSampleSize();\n\t\t\t} else if (sample_desc.isVideo()) {\n\t\t\t\ttrack.type = \"video\";\n\t\t\t\tmovie.videoTracks.push(track);\n\t\t\t\ttrack.video = {};\n\t\t\t\ttrack.video.width = sample_desc.getWidth();\n\t\t\t\ttrack.video.height = sample_desc.getHeight();\n\t\t\t} else if (sample_desc.isSubtitle()) {\n\t\t\t\ttrack.type = \"subtitles\";\n\t\t\t\tmovie.subtitleTracks.push(track);\n\t\t\t} else if (sample_desc.isHint()) {\n\t\t\t\ttrack.type = \"metadata\";\n\t\t\t\tmovie.hintTracks.push(track);\n\t\t\t} else if (sample_desc.isMetadata()) {\n\t\t\t\ttrack.type = \"metadata\";\n\t\t\t\tmovie.metadataTracks.push(track);\n\t\t\t} else {\n\t\t\t\ttrack.type = \"metadata\";\n\t\t\t\tmovie.otherTracks.push(track);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tmovie.hasMoov = false;\n\t}\n\tmovie.mime = \"\";\n\tif (movie.hasMoov && movie.tracks) {\n\t\tif (movie.videoTracks && movie.videoTracks.length > 0) {\n\t\t\tmovie.mime += 'video/mp4; codecs=\\\"';\n\t\t} else if (movie.audioTracks && movie.audioTracks.length > 0) {\n\t\t\tmovie.mime += 'audio/mp4; codecs=\\\"';\n\t\t} else {\n\t\t\tmovie.mime += 'application/mp4; codecs=\\\"';\n\t\t}\n\t\tfor (i = 0; i < movie.tracks.length; i++) {\n\t\t\tif (i !== 0) movie.mime += ',';\n\t\t\tmovie.mime+= movie.tracks[i].codec;\n\t\t}\n\t\tmovie.mime += '\\\"; profiles=\\\"';\n\t\tmovie.mime += this.ftyp.compatible_brands.join();\n\t\tmovie.mime += '\\\"';\n\t}\n\treturn movie;\n}\n\nISOFile.prototype.processSamples = function(last) {\n\tvar i;\n\tvar trak;\n\tif (!this.sampleProcessingStarted) return;\n\n\t/* For each track marked for fragmentation,\n\t   check if the next sample is there (i.e. if the sample information is known (i.e. moof has arrived) and if it has been downloaded)\n\t   and create a fragment with it */\n\tif (this.isFragmentationInitialized && this.onSegment !== null) {\n\t\tfor (i = 0; i < this.fragmentedTracks.length; i++) {\n\t\t\tvar fragTrak = this.fragmentedTracks[i];\n\t\t\ttrak = fragTrak.trak;\n\t\t\twhile (trak.nextSample < trak.samples.length && this.sampleProcessingStarted) {\n\t\t\t\t/* The sample information is there (either because the file is not fragmented and this is not the last sample,\n\t\t\t\tor because the file is fragmented and the moof for that sample has been received */\n\t\t\t\tLog.debug(\"ISOFile\", \"Creating media fragment on track #\"+fragTrak.id +\" for sample \"+trak.nextSample);\n\t\t\t\tvar result = this.createFragment(fragTrak.id, trak.nextSample, fragTrak.segmentStream);\n\t\t\t\tif (result) {\n\t\t\t\t\tfragTrak.segmentStream = result;\n\t\t\t\t\ttrak.nextSample++;\n\t\t\t\t} else {\n\t\t\t\t\t/* The fragment could not be created because the media data is not there (not downloaded), wait for it */\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t/* A fragment is created by sample, but the segment is the accumulation in the buffer of these fragments.\n\t\t\t\t   It is flushed only as requested by the application (nb_samples) to avoid too many callbacks */\n\t\t\t\tif (trak.nextSample % fragTrak.nb_samples === 0 || (last || trak.nextSample >= trak.samples.length)) {\n\t\t\t\t\tLog.info(\"ISOFile\", \"Sending fragmented data on track #\"+fragTrak.id+\" for samples [\"+Math.max(0,trak.nextSample-fragTrak.nb_samples)+\",\"+(trak.nextSample-1)+\"]\");\n\t\t\t\t\tLog.info(\"ISOFile\", \"Sample data size in memory: \"+this.getAllocatedSampleDataSize());\n\t\t\t\t\tif (this.onSegment) {\n\t\t\t\t\t\tthis.onSegment(fragTrak.id, fragTrak.user, fragTrak.segmentStream.buffer, trak.nextSample, (last || trak.nextSample >= trak.samples.length));\n\t\t\t\t\t}\n\t\t\t\t\t/* force the creation of a new buffer */\n\t\t\t\t\tfragTrak.segmentStream = null;\n\t\t\t\t\tif (fragTrak !== this.fragmentedTracks[i]) {\n\t\t\t\t\t\t/* make sure we can stop fragmentation if needed */\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (this.onSamples !== null) {\n\t\t/* For each track marked for data export,\n\t\t   check if the next sample is there (i.e. has been downloaded) and send it */\n\t\tfor (i = 0; i < this.extractedTracks.length; i++) {\n\t\t\tvar extractTrak = this.extractedTracks[i];\n\t\t\ttrak = extractTrak.trak;\n\t\t\twhile (trak.nextSample < trak.samples.length && this.sampleProcessingStarted) {\n\t\t\t\tLog.debug(\"ISOFile\", \"Exporting on track #\"+extractTrak.id +\" sample #\"+trak.nextSample);\n\t\t\t\tvar sample = this.getSample(trak, trak.nextSample);\n\t\t\t\tif (sample) {\n\t\t\t\t\ttrak.nextSample++;\n\t\t\t\t\textractTrak.samples.push(sample);\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (trak.nextSample % extractTrak.nb_samples === 0 || trak.nextSample >= trak.samples.length) {\n\t\t\t\t\tLog.debug(\"ISOFile\", \"Sending samples on track #\"+extractTrak.id+\" for sample \"+trak.nextSample);\n\t\t\t\t\tif (this.onSamples) {\n\t\t\t\t\t\tthis.onSamples(extractTrak.id, extractTrak.user, extractTrak.samples);\n\t\t\t\t\t}\n\t\t\t\t\textractTrak.samples = [];\n\t\t\t\t\tif (extractTrak !== this.extractedTracks[i]) {\n\t\t\t\t\t\t/* check if the extraction needs to be stopped */\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Find and return specific boxes using recursion and early return */\nISOFile.prototype.getBox = function(type) {\n  var result = this.getBoxes(type, true);\n  return (result.length ? result[0] : null);\n}\n\nISOFile.prototype.getBoxes = function(type, returnEarly) {\n  var result = [];\n  ISOFile._sweep.call(this, type, result, returnEarly);\n  return result;\n}\n\nISOFile._sweep = function(type, result, returnEarly) {\n  if (this.type && this.type == type) result.push(this);\n  for (var box in this.boxes) {\n    if (result.length && returnEarly) return;\n    ISOFile._sweep.call(this.boxes[box], type, result, returnEarly);\n  }\n}\n\nISOFile.prototype.getTrackSamplesInfo = function(track_id) {\n\tvar track = this.getTrackById(track_id);\n\tif (track) {\n\t\treturn track.samples;\n\t} else {\n\t\treturn;\n\t}\n}\n\nISOFile.prototype.getTrackSample = function(track_id, number) {\n\tvar track = this.getTrackById(track_id);\n\tvar sample = this.getSample(track, number);\n\treturn sample;\n}\n\n/* Called by the application to release the resources associated to samples already forwarded to the application */\nISOFile.prototype.releaseUsedSamples = function (id, sampleNum) {\n\tvar size = 0;\n\tvar trak = this.getTrackById(id);\n\tif (!trak.lastValidSample) trak.lastValidSample = 0;\n\tfor (var i = trak.lastValidSample; i < sampleNum; i++) {\n\t\tsize+=this.releaseSample(trak, i);\n\t}\n\tLog.info(\"ISOFile\", \"Track #\"+id+\" released samples up to \"+sampleNum+\" (released size: \"+size+\", remaining: \"+this.samplesDataSize+\")\");\n\ttrak.lastValidSample = sampleNum;\n}\n\nISOFile.prototype.start = function() {\n\tthis.sampleProcessingStarted = true;\n\tthis.processSamples(false);\n}\n\nISOFile.prototype.stop = function() {\n\tthis.sampleProcessingStarted = false;\n}\n\n/* Called by the application to flush the remaining samples (e.g. once the download is finished or when no more samples will be added) */\nISOFile.prototype.flush = function() {\n\tLog.info(\"ISOFile\", \"Flushing remaining samples\");\n\tthis.updateSampleLists();\n\tthis.processSamples(true);\n\tthis.stream.cleanBuffers();\n\tthis.stream.logBufferLevel(true);\n}\n\n/* Finds the byte offset for a given time on a given track\n   also returns the time of the previous rap */\nISOFile.prototype.seekTrack = function(time, useRap, trak) {\n\tvar j;\n\tvar sample;\n\tvar seek_offset = Infinity;\n\tvar rap_seek_sample_num = 0;\n\tvar seek_sample_num = 0;\n\tvar timescale;\n\n\tif (trak.samples.length === 0) {\n\t\tLog.info(\"ISOFile\", \"No sample in track, cannot seek! Using time \"+Log.getDurationString(0, 1) +\" and offset: \"+0);\n\t\treturn { offset: 0, time: 0 };\n\t}\n\n\tfor (j = 0; j < trak.samples.length; j++) {\n\t\tsample = trak.samples[j];\n\t\tif (j === 0) {\n\t\t\tseek_sample_num = 0;\n\t\t\ttimescale = sample.timescale;\n\t\t} else if (sample.cts > time * sample.timescale) {\n\t\t\tseek_sample_num = j-1;\n\t\t\tbreak;\n\t\t}\n\t\tif (useRap && sample.is_sync) {\n\t\t\trap_seek_sample_num = j;\n\t\t}\n\t}\n\tif (useRap) {\n\t\tseek_sample_num = rap_seek_sample_num;\n\t}\n\ttime = trak.samples[seek_sample_num].cts;\n\ttrak.nextSample = seek_sample_num;\n\twhile (trak.samples[seek_sample_num].alreadyRead === trak.samples[seek_sample_num].size) {\n\t\t// No remaining samples to look for, all are downloaded.\n\t\tif (!trak.samples[seek_sample_num + 1]) {\n\t\t\tbreak;\n\t\t}\n\t\tseek_sample_num++;\n\t}\n\tseek_offset = trak.samples[seek_sample_num].offset+trak.samples[seek_sample_num].alreadyRead;\n\tLog.info(\"ISOFile\", \"Seeking to \"+(useRap ? \"RAP\": \"\")+\" sample #\"+trak.nextSample+\" on track \"+trak.tkhd.track_id+\", time \"+Log.getDurationString(time, timescale) +\" and offset: \"+seek_offset);\n\treturn { offset: seek_offset, time: time/timescale };\n}\n\n/* Finds the byte offset in the file corresponding to the given time or to the time of the previous RAP */\nISOFile.prototype.seek = function(time, useRap) {\n\tvar moov = this.moov;\n\tvar trak;\n\tvar trak_seek_info;\n\tvar i;\n\tvar seek_info = { offset: Infinity, time: Infinity };\n\tif (!this.moov) {\n\t\tthrow \"Cannot seek: moov not received!\";\n\t} else {\n\t\tfor (i = 0; i<moov.traks.length; i++) {\n\t\t\ttrak = moov.traks[i];\n\t\t\ttrak_seek_info = this.seekTrack(time, useRap, trak);\n\t\t\tif (trak_seek_info.offset < seek_info.offset) {\n\t\t\t\tseek_info.offset = trak_seek_info.offset;\n\t\t\t}\n\t\t\tif (trak_seek_info.time < seek_info.time) {\n\t\t\t\tseek_info.time = trak_seek_info.time;\n\t\t\t}\n\t\t}\n\t\tLog.info(\"ISOFile\", \"Seeking at time \"+Log.getDurationString(seek_info.time, 1)+\" needs a buffer with a fileStart position of \"+seek_info.offset);\n\t\tif (seek_info.offset === Infinity) {\n\t\t\t/* No sample info, in all tracks, cannot seek */\n\t\t\tseek_info = { offset: this.nextParsePosition, time: 0 };\n\t\t} else {\n\t\t\t/* check if the seek position is already in some buffer and\n\t\t\t in that case return the end of that buffer (or of the last contiguous buffer) */\n\t\t\t/* TODO: Should wait until append operations are done */\n\t\t\tseek_info.offset = this.stream.getEndFilePositionAfter(seek_info.offset);\n\t\t}\n\t\tLog.info(\"ISOFile\", \"Adjusted seek position (after checking data already in buffer): \"+seek_info.offset);\n\t\treturn seek_info;\n\t}\n}\n\nISOFile.prototype.equal = function(b) {\n\tvar box_index = 0;\n\twhile (box_index < this.boxes.length && box_index < b.boxes.length) {\n\t\tvar a_box = this.boxes[box_index];\n\t\tvar b_box = b.boxes[box_index];\n\t\tif (!BoxParser.boxEqual(a_box, b_box)) {\n\t\t\treturn false;\n\t\t}\n\t\tbox_index++;\n\t}\n\treturn true;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.ISOFile = ISOFile;\n}\n// file:src/isofile-advanced-parsing.js\n/* position in the current buffer of the beginning of the last box parsed */\nISOFile.prototype.lastBoxStartPosition = 0;\n/* indicator if the parsing is stuck in the middle of an mdat box */\nISOFile.prototype.parsingMdat = null;\n/* next file position that the parser needs:\n    - 0 until the first buffer (i.e. fileStart ===0) has been received \n    - otherwise, the next box start until the moov box has been parsed\n    - otherwise, the position of the next sample to fetch\n */\nISOFile.prototype.nextParsePosition = 0;\n/* keep mdat data */\nISOFile.prototype.discardMdatData = false;\n\nISOFile.prototype.processIncompleteBox = function(ret) {\n\tvar box;\n\tvar merged;\n\tvar found;\n\t\n\t/* we did not have enough bytes in the current buffer to parse the entire box */\n\tif (ret.type === \"mdat\") { \n\t\t/* we had enough bytes to get its type and size and it's an 'mdat' */\n\t\t\n\t\t/* special handling for mdat boxes, since we don't actually need to parse it linearly \n\t\t   we create the box */\n\t\tbox = new BoxParser[ret.type+\"Box\"](ret.size);\t\n\t\tthis.parsingMdat = box;\n\t\tthis.boxes.push(box);\n\t\tthis.mdats.push(box);\t\t\t\n\t\tbox.start = ret.start;\n\t\tbox.hdr_size = ret.hdr_size;\n\t\tthis.stream.addUsedBytes(box.hdr_size);\n\n\t\t/* indicate that the parsing should start from the end of the box */\n\t\tthis.lastBoxStartPosition = box.start + box.size;\n \t\t/* let's see if we have the end of the box in the other buffers */\n\t\tfound = this.stream.seek(box.start + box.size, false, this.discardMdatData);\n\t\tif (found) {\n\t\t\t/* found the end of the box */\n\t\t\tthis.parsingMdat = null;\n\t\t\t/* let's see if we can parse more in this buffer */\n\t\t\treturn true;\n\t\t} else {\n\t\t\t/* 'mdat' end not found in the existing buffers */\n\t\t\t/* determine the next position in the file to start parsing from */\n\t\t\tif (!this.moovStartFound) {\n\t\t\t\t/* moov not find yet, \n\t\t\t\t   the file probably has 'mdat' at the beginning, and 'moov' at the end, \n\t\t\t\t   indicate that the downloader should not try to download those bytes now */\n\t\t\t\tthis.nextParsePosition = box.start + box.size;\n\t\t\t} else {\n\t\t\t\t/* we have the start of the moov box, \n\t\t\t\t   the next bytes should try to complete the current 'mdat' */\n\t\t\t\tthis.nextParsePosition = this.stream.findEndContiguousBuf();\n\t\t\t}\n\t\t\t/* not much we can do, wait for more buffers to arrive */\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\t/* box is incomplete, we may not even know its type */\n\t\tif (ret.type === \"moov\") { \n\t\t\t/* the incomplete box is a 'moov' box */\n\t\t\tthis.moovStartFound = true;\n\t\t\tif (this.mdats.length === 0) {\n\t\t\t\tthis.isProgressive = true;\n\t\t\t}\n\t\t}\n\t\t/* either it's not an mdat box (and we need to parse it, we cannot skip it)\n\t\t   (TODO: we could skip 'free' boxes ...)\n\t\t\t   or we did not have enough data to parse the type and size of the box, \n\t\t   we try to concatenate the current buffer with the next buffer to restart parsing */\n\t\tmerged = (this.stream.mergeNextBuffer ? this.stream.mergeNextBuffer() : false);\n\t\tif (merged) {\n\t\t\t/* The next buffer was contiguous, the merging succeeded,\n\t\t\t   we can now continue parsing, \n\t\t\t   the next best position to parse is at the end of this new buffer */\n\t\t\tthis.nextParsePosition = this.stream.getEndPosition();\n\t\t\treturn true;\n\t\t} else {\n\t\t\t/* we cannot concatenate existing buffers because they are not contiguous or because there is no additional buffer */\n\t\t\t/* The next best position to parse is still at the end of this old buffer */\n\t\t\tif (!ret.type) {\n\t\t\t\t/* There were not enough bytes in the buffer to parse the box type and length,\n\t\t\t\t   the next fetch should retrieve those missing bytes, i.e. the next bytes after this buffer */\n\t\t\t\tthis.nextParsePosition = this.stream.getEndPosition();\n\t\t\t} else {\n\t\t\t\t/* we had enough bytes to parse size and type of the incomplete box\n\t\t\t\t   if we haven't found yet the moov box, skip this one and try the next one \n\t\t\t\t   if we have found the moov box, let's continue linear parsing */\n\t\t\t\tif (this.moovStartFound) {\n\t\t\t\t\tthis.nextParsePosition = this.stream.getEndPosition();\n\t\t\t\t} else {\n\t\t\t\t\tthis.nextParsePosition = this.stream.getPosition() + ret.size;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nISOFile.prototype.hasIncompleteMdat = function () {\n\treturn (this.parsingMdat !== null);\n}\n\nISOFile.prototype.processIncompleteMdat = function () {\n\tvar box;\n\tvar found;\n\t\n\t/* we are in the parsing of an incomplete mdat box */\n\tbox = this.parsingMdat;\n\n\tfound = this.stream.seek(box.start + box.size, false, this.discardMdatData);\n\tif (found) {\n\t\tLog.debug(\"ISOFile\", \"Found 'mdat' end in buffered data\");\n\t\t/* the end of the mdat has been found */ \n\t\tthis.parsingMdat = null;\n\t\t/* we can parse more in this buffer */\n\t\treturn true;\n\t} else {\n\t\t/* we don't have the end of this mdat yet, \n\t\t   indicate that the next byte to fetch is the end of the buffers we have so far, \n\t\t   return and wait for more buffer to come */\n\t\tthis.nextParsePosition = this.stream.findEndContiguousBuf();\n\t\treturn false;\n\t}\n}\n\nISOFile.prototype.restoreParsePosition = function() {\n\t/* Reposition at the start position of the previous box not entirely parsed */\n\treturn this.stream.seek(this.lastBoxStartPosition, true, this.discardMdatData);\n}\n\nISOFile.prototype.saveParsePosition = function() {\n\t/* remember the position of the box start in case we need to roll back (if the box is incomplete) */\n\tthis.lastBoxStartPosition = this.stream.getPosition();\t\n}\n\nISOFile.prototype.updateUsedBytes = function(box, ret) {\n\tif (this.stream.addUsedBytes) {\n\t\tif (box.type === \"mdat\") {\n\t\t\t/* for an mdat box, only its header is considered used, other bytes will be used when sample data is requested */\n\t\t\tthis.stream.addUsedBytes(box.hdr_size);\n\t\t\tif (this.discardMdatData) {\n\t\t\t\tthis.stream.addUsedBytes(box.size-box.hdr_size);\n\t\t\t}\n\t\t} else {\n\t\t\t/* for all other boxes, the entire box data is considered used */\n\t\t\tthis.stream.addUsedBytes(box.size);\n\t\t}\t\n\t}\n}\n// file:src/isofile-advanced-creation.js\nISOFile.prototype.add = BoxParser.Box.prototype.add;\nISOFile.prototype.addBox = BoxParser.Box.prototype.addBox;\n\nISOFile.prototype.init = function (_options) {\n\tvar options = _options || {}; \n\tvar ftyp = this.add(\"ftyp\").set(\"major_brand\", (options.brands && options.brands[0]) || \"iso4\")\n\t\t\t\t\t\t\t   .set(\"minor_version\", 0)\n\t\t\t\t\t\t\t   .set(\"compatible_brands\", options.brands || [\"iso4\"]);\n\tvar moov = this.add(\"moov\");\n\tmoov.add(\"mvhd\").set(\"timescale\", options.timescale || 600)\n\t\t\t\t\t.set(\"rate\", options.rate || 1<<16)\n\t\t\t\t\t.set(\"creation_time\", 0)\n\t\t\t\t\t.set(\"modification_time\", 0)\n\t\t\t\t\t.set(\"duration\", options.duration || 0)\n\t\t\t\t\t.set(\"volume\", (options.width) ? 0 : 0x0100)\n\t\t\t\t\t.set(\"matrix\", [ 1<<16, 0, 0, 0, 1<<16, 0, 0, 0, 0x40000000])\n\t\t\t\t\t.set(\"next_track_id\", 1);\n\tmoov.add(\"mvex\");\n\treturn this;\n}\n\nISOFile.prototype.addTrack = function (_options) {\n\tif (!this.moov) {\n\t\tthis.init(_options);\n\t}\n\n\tvar options = _options || {}; \n\toptions.width = options.width || 320;\n\toptions.height = options.height || 320;\n\toptions.id = options.id || this.moov.mvhd.next_track_id;\n\toptions.type = options.type || \"avc1\";\n\n\tvar trak = this.moov.add(\"trak\");\n\tthis.moov.mvhd.next_track_id = options.id+1;\n\ttrak.add(\"tkhd\").set(\"flags\",BoxParser.TKHD_FLAG_ENABLED | \n\t\t\t\t\t\t\t\t BoxParser.TKHD_FLAG_IN_MOVIE | \n\t\t\t\t\t\t\t\t BoxParser.TKHD_FLAG_IN_PREVIEW)\n\t\t\t\t\t.set(\"creation_time\",0)\n\t\t\t\t\t.set(\"modification_time\", 0)\n\t\t\t\t\t.set(\"track_id\", options.id)\n\t\t\t\t\t.set(\"duration\", options.duration || 0)\n\t\t\t\t\t.set(\"layer\", options.layer || 0)\n\t\t\t\t\t.set(\"alternate_group\", 0)\n\t\t\t\t\t.set(\"volume\", 1)\n\t\t\t\t\t.set(\"matrix\", [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ])\n\t\t\t\t\t.set(\"width\", options.width << 16)\n\t\t\t\t\t.set(\"height\", options.height << 16);\n\n\tvar mdia = trak.add(\"mdia\");\n\tmdia.add(\"mdhd\").set(\"creation_time\", 0)\n\t\t\t\t\t.set(\"modification_time\", 0)\n\t\t\t\t\t.set(\"timescale\", options.timescale || 1)\n\t\t\t\t\t.set(\"duration\", options.media_duration || 0)\n\t\t\t\t\t.set(\"language\", options.language || \"und\");\n\n\tmdia.add(\"hdlr\").set(\"handler\", options.hdlr || \"vide\")\n\t\t\t\t\t.set(\"name\", options.name || \"Track created with MP4Box.js\");\n\n\tmdia.add(\"elng\").set(\"extended_language\", options.language || \"fr-FR\");\n\n\tvar minf = mdia.add(\"minf\");\n\tif (BoxParser[options.type+\"SampleEntry\"] === undefined) return;\n\tvar sample_description_entry = new BoxParser[options.type+\"SampleEntry\"]();\n\tsample_description_entry.data_reference_index = 1;\n\tvar media_type = \"\";\n\tfor (var mediaType in BoxParser.sampleEntryCodes) {\n\t\tvar codes = BoxParser.sampleEntryCodes[mediaType];\n\t\tfor (var i = 0; i < codes.length; i++) {\n\t\t\tif (codes.indexOf(options.type) > -1) {\n\t\t\t\tmedia_type = mediaType;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tswitch(media_type) {\n\t\tcase \"Visual\":\n\t\t\tminf.add(\"vmhd\").set(\"graphicsmode\",0).set(\"opcolor\", [ 0, 0, 0 ]);\n\t\t\tsample_description_entry.set(\"width\", options.width)\n\t\t\t\t\t\t.set(\"height\", options.height)\n\t\t\t\t\t\t.set(\"horizresolution\", 0x48<<16)\n\t\t\t\t\t\t.set(\"vertresolution\", 0x48<<16)\n\t\t\t\t\t\t.set(\"frame_count\", 1)\n\t\t\t\t\t\t.set(\"compressorname\", options.type+\" Compressor\")\n\t\t\t\t\t\t.set(\"depth\", 0x18);\n\t\t\tif (options.avcDecoderConfigRecord) {\n\t\t\t\tvar avcC = new BoxParser.avcCBox();\n\t\t\t\tvar stream = new MP4BoxStream(options.avcDecoderConfigRecord);\n\t\t\t\tavcC.parse(stream);\n\t\t\t\tsample_description_entry.addBox(avcC);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"Audio\":\n\t\t\tminf.add(\"smhd\").set(\"balance\", options.balance || 0);\n\t\t\tsample_description_entry.set(\"channel_count\", options.channel_count || 2)\n\t\t\t\t\t\t.set(\"samplesize\", options.samplesize || 16)\n\t\t\t\t\t\t.set(\"samplerate\", options.samplerate || 1<<16);\n\t\t\tbreak;\n\t\tcase \"Hint\":\n\t\t\tminf.add(\"hmhd\"); // TODO: add properties\n\t\t\tbreak;\n\t\tcase \"Subtitle\":\n\t\t\tminf.add(\"sthd\");\n\t\t\tswitch (options.type) {\n\t\t\t\tcase \"stpp\":\n\t\t\t\t\tsample_description_entry.set(\"namespace\", options.namespace || \"nonamespace\")\n\t\t\t\t\t\t\t\t.set(\"schema_location\", options.schema_location || \"\")\n\t\t\t\t\t\t\t\t.set(\"auxiliary_mime_types\", options.auxiliary_mime_types || \"\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"Metadata\":\n\t\t\tminf.add(\"nmhd\");\n\t\t\tbreak;\n\t\tcase \"System\":\n\t\t\tminf.add(\"nmhd\");\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tminf.add(\"nmhd\");\n\t\t\tbreak;\n\t}\n\tif (options.description) {\n\t\tsample_description_entry.addBox(options.description);\n\t}\n\tif (options.description_boxes) {\n\t\toptions.description_boxes.forEach(function (b) {\n\t\t\tsample_description_entry.addBox(b);\n\t\t});\n\t}\n\tminf.add(\"dinf\").add(\"dref\").addEntry((new BoxParser[\"url Box\"]()).set(\"flags\", 0x1));\n\tvar stbl = minf.add(\"stbl\");\n\tstbl.add(\"stsd\").addEntry(sample_description_entry);\n\tstbl.add(\"stts\").set(\"sample_counts\", [])\n\t\t\t\t\t.set(\"sample_deltas\", []);\n\tstbl.add(\"stsc\").set(\"first_chunk\", [])\n\t\t\t\t\t.set(\"samples_per_chunk\", [])\n\t\t\t\t\t.set(\"sample_description_index\", []);\n\tstbl.add(\"stco\").set(\"chunk_offsets\", []);\n\tstbl.add(\"stsz\").set(\"sample_sizes\", []);\n\n\tthis.moov.mvex.add(\"trex\").set(\"track_id\", options.id)\n\t\t\t\t\t\t\t  .set(\"default_sample_description_index\", options.default_sample_description_index || 1)\n\t\t\t\t\t\t\t  .set(\"default_sample_duration\", options.default_sample_duration || 0)\n\t\t\t\t\t\t\t  .set(\"default_sample_size\", options.default_sample_size || 0)\n\t\t\t\t\t\t\t  .set(\"default_sample_flags\", options.default_sample_flags || 0);\n\tthis.buildTrakSampleLists(trak);\n\treturn options.id;\n}\n\nBoxParser.Box.prototype.computeSize = function(stream_) {\n\tvar stream = stream_ || new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tthis.write(stream);\n}\n\nISOFile.prototype.addSample = function (track_id, data, _options) {\n\tvar options = _options || {};\n\tvar sample = {};\n\tvar trak = this.getTrackById(track_id);\n\tif (trak === null) return;\n    sample.number = trak.samples.length;\n\tsample.track_id = trak.tkhd.track_id;\n\tsample.timescale = trak.mdia.mdhd.timescale;\n\tsample.description_index = (options.sample_description_index ? options.sample_description_index - 1: 0);\n\tsample.description = trak.mdia.minf.stbl.stsd.entries[sample.description_index];\n\tsample.data = data;\n\tsample.size = data.byteLength;\n\tsample.alreadyRead = sample.size;\n\tsample.duration = options.duration || 1;\n\tsample.cts = options.cts || 0;\n\tsample.dts = options.dts || 0;\n\tsample.is_sync = options.is_sync || false;\n\tsample.is_leading = options.is_leading || 0;\n\tsample.depends_on = options.depends_on || 0;\n\tsample.is_depended_on = options.is_depended_on || 0;\n\tsample.has_redundancy = options.has_redundancy || 0;\n\tsample.degradation_priority = options.degradation_priority || 0;\n\tsample.offset = 0;\n\tsample.subsamples = options.subsamples;\n\ttrak.samples.push(sample);\n\ttrak.samples_size += sample.size;\n\ttrak.samples_duration += sample.duration;\n\tif (!trak.first_dts) {\n\t\ttrak.first_dts = options.dts;\n\t}\n\n\tthis.processSamples();\n\t\n\tvar moof = this.createSingleSampleMoof(sample);\n\tthis.addBox(moof);\n\tmoof.computeSize();\n\t/* adjusting the data_offset now that the moof size is known*/\n\tmoof.trafs[0].truns[0].data_offset = moof.size+8; //8 is mdat header\n\tthis.add(\"mdat\").data = new Uint8Array(data);\n\treturn sample;\n}\n\nISOFile.prototype.createSingleSampleMoof = function(sample) {\n\tvar sample_flags = 0;\n\tif (sample.is_sync)\n\t\tsample_flags = (1 << 25);  // sample_depends_on_none (I picture)\n\telse\n\t\tsample_flags = (1 << 16);  // non-sync\n\n\tvar moof = new BoxParser.moofBox();\n\tmoof.add(\"mfhd\").set(\"sequence_number\", this.nextMoofNumber);\n\tthis.nextMoofNumber++;\n\tvar traf = moof.add(\"traf\");\n\tvar trak = this.getTrackById(sample.track_id);\n\ttraf.add(\"tfhd\").set(\"track_id\", sample.track_id)\n\t\t\t\t\t.set(\"flags\", BoxParser.TFHD_FLAG_DEFAULT_BASE_IS_MOOF);\n\ttraf.add(\"tfdt\").set(\"baseMediaDecodeTime\", (sample.dts - (trak.first_dts || 0)));\n\ttraf.add(\"trun\").set(\"flags\", BoxParser.TRUN_FLAGS_DATA_OFFSET | BoxParser.TRUN_FLAGS_DURATION | \n\t\t\t\t \t\t\t\t  BoxParser.TRUN_FLAGS_SIZE | BoxParser.TRUN_FLAGS_FLAGS | \n\t\t\t\t \t\t\t\t  BoxParser.TRUN_FLAGS_CTS_OFFSET)\n\t\t\t\t\t.set(\"data_offset\",0)\n\t\t\t\t\t.set(\"first_sample_flags\",0)\n\t\t\t\t\t.set(\"sample_count\",1)\n\t\t\t\t\t.set(\"sample_duration\",[sample.duration])\n\t\t\t\t\t.set(\"sample_size\",[sample.size])\n\t\t\t\t\t.set(\"sample_flags\",[sample_flags])\n\t\t\t\t\t.set(\"sample_composition_time_offset\", [sample.cts - sample.dts]);\n\treturn moof;\n}\n\n// file:src/isofile-sample-processing.js\n/* Index of the last moof box received */\nISOFile.prototype.lastMoofIndex = 0;\n\n/* size of the buffers allocated for samples */\nISOFile.prototype.samplesDataSize = 0;\n\n/* Resets all sample tables */\nISOFile.prototype.resetTables = function () {\n\tvar i;\n\tvar trak, stco, stsc, stsz, stts, ctts, stss;\n\tthis.initial_duration = this.moov.mvhd.duration;\n\tthis.moov.mvhd.duration = 0;\n\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\ttrak = this.moov.traks[i];\n\t\ttrak.tkhd.duration = 0;\n\t\ttrak.mdia.mdhd.duration = 0;\n\t\tstco = trak.mdia.minf.stbl.stco || trak.mdia.minf.stbl.co64;\n\t\tstco.chunk_offsets = [];\n\t\tstsc = trak.mdia.minf.stbl.stsc;\n\t\tstsc.first_chunk = [];\n\t\tstsc.samples_per_chunk = [];\n\t\tstsc.sample_description_index = [];\n\t\tstsz = trak.mdia.minf.stbl.stsz || trak.mdia.minf.stbl.stz2;\n\t\tstsz.sample_sizes = [];\n\t\tstts = trak.mdia.minf.stbl.stts;\n\t\tstts.sample_counts = [];\n\t\tstts.sample_deltas = [];\n\t\tctts = trak.mdia.minf.stbl.ctts;\n\t\tif (ctts) {\n\t\t\tctts.sample_counts = [];\n\t\t\tctts.sample_offsets = [];\n\t\t}\n\t\tstss = trak.mdia.minf.stbl.stss;\n\t\tvar k = trak.mdia.minf.stbl.boxes.indexOf(stss);\n\t\tif (k != -1) trak.mdia.minf.stbl.boxes[k] = null;\n\t}\n}\n\nISOFile.initSampleGroups = function(trak, traf, sbgps, trak_sgpds, traf_sgpds) {\n\tvar l;\n\tvar k;\n\tvar sample_groups_info;\n\tvar sample_group_info;\n\tvar sample_group_key;\n\tfunction SampleGroupInfo(_type, _parameter, _sbgp) {\n\t\tthis.grouping_type = _type;\n\t\tthis.grouping_type_parameter = _parameter;\n\t\tthis.sbgp = _sbgp;\n\t\tthis.last_sample_in_run = -1;\n\t\tthis.entry_index = -1;\t\t\n\t}\n\tif (traf) {\n\t\ttraf.sample_groups_info = [];\n\t} \n\tif (!trak.sample_groups_info) {\n\t\ttrak.sample_groups_info = [];\n\t}\n\tfor (k = 0; k < sbgps.length; k++) {\n\t\tsample_group_key = sbgps[k].grouping_type +\"/\"+ sbgps[k].grouping_type_parameter;\n\t\tsample_group_info = new SampleGroupInfo(sbgps[k].grouping_type, sbgps[k].grouping_type_parameter, sbgps[k]);\n\t\tif (traf) {\n\t\t\ttraf.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t}\n\t\tif (!trak.sample_groups_info[sample_group_key]) {\n\t\t\ttrak.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t}\n\t\tfor (l=0; l <trak_sgpds.length; l++) {\n\t\t\tif (trak_sgpds[l].grouping_type === sbgps[k].grouping_type) {\n\t\t\t\tsample_group_info.description = trak_sgpds[l];\n\t\t\t\tsample_group_info.description.used = true;\n\t\t\t}\n\t\t}\n\t\tif (traf_sgpds) {\n\t\t\tfor (l=0; l <traf_sgpds.length; l++) {\n\t\t\t\tif (traf_sgpds[l].grouping_type === sbgps[k].grouping_type) {\n\t\t\t\t\tsample_group_info.fragment_description = traf_sgpds[l];\n\t\t\t\t\tsample_group_info.fragment_description.used = true;\n\t\t\t\t\tsample_group_info.is_fragment = true;\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t}\n\t}\n\tif (!traf) {\n\t\tfor (k = 0; k < trak_sgpds.length; k++) {\n\t\t\tif (!trak_sgpds[k].used && trak_sgpds[k].version >= 2) {\n\t\t\t\tsample_group_key = trak_sgpds[k].grouping_type +\"/0\";\n\t\t\t\tsample_group_info = new SampleGroupInfo(trak_sgpds[k].grouping_type, 0);\n\t\t\t\tif (!trak.sample_groups_info[sample_group_key]) {\n\t\t\t\t\ttrak.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (traf_sgpds) {\n\t\t\tfor (k = 0; k < traf_sgpds.length; k++) {\n\t\t\t\tif (!traf_sgpds[k].used && traf_sgpds[k].version >= 2) {\n\t\t\t\t\tsample_group_key = traf_sgpds[k].grouping_type +\"/0\";\n\t\t\t\t\tsample_group_info = new SampleGroupInfo(traf_sgpds[k].grouping_type, 0);\n\t\t\t\t\tsample_group_info.is_fragment = true;\n\t\t\t\t\tif (!traf.sample_groups_info[sample_group_key]) {\n\t\t\t\t\t\ttraf.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.setSampleGroupProperties = function(trak, sample, sample_number, sample_groups_info) {\n\tvar k;\n\tvar index;\n\tsample.sample_groups = [];\n\tfor (k in sample_groups_info) {\n\t\tsample.sample_groups[k] = {};\n\t\tsample.sample_groups[k].grouping_type = sample_groups_info[k].grouping_type;\n\t\tsample.sample_groups[k].grouping_type_parameter = sample_groups_info[k].grouping_type_parameter;\n\t\tif (sample_number >= sample_groups_info[k].last_sample_in_run) {\n\t\t\tif (sample_groups_info[k].last_sample_in_run < 0) {\n\t\t\t\tsample_groups_info[k].last_sample_in_run = 0;\n\t\t\t}\n\t\t\tsample_groups_info[k].entry_index++;\t\n\t\t\tif (sample_groups_info[k].entry_index <= sample_groups_info[k].sbgp.entries.length - 1) {\n\t\t\t\tsample_groups_info[k].last_sample_in_run += sample_groups_info[k].sbgp.entries[sample_groups_info[k].entry_index].sample_count;\n\t\t\t}\n\t\t}\n\t\tif (sample_groups_info[k].entry_index <= sample_groups_info[k].sbgp.entries.length - 1) {\n\t\t\tsample.sample_groups[k].group_description_index = sample_groups_info[k].sbgp.entries[sample_groups_info[k].entry_index].group_description_index;\n\t\t} else {\n\t\t\tsample.sample_groups[k].group_description_index = -1; // special value for not defined\n\t\t}\n\t\tif (sample.sample_groups[k].group_description_index !== 0) {\n\t\t\tvar description;\n\t\t\tif (sample_groups_info[k].fragment_description) {\n\t\t\t\tdescription = sample_groups_info[k].fragment_description;\n\t\t\t} else {\n\t\t\t\tdescription = sample_groups_info[k].description;\n\t\t\t}\n\t\t\tif (sample.sample_groups[k].group_description_index > 0) {\n\t\t\t\tif (sample.sample_groups[k].group_description_index > 65535) {\n\t\t\t\t\tindex = (sample.sample_groups[k].group_description_index >> 16)-1;\n\t\t\t\t} else {\n\t\t\t\t\tindex = sample.sample_groups[k].group_description_index-1;\n\t\t\t\t}\n\t\t\t\tif (description && index >= 0) {\n\t\t\t\t\tsample.sample_groups[k].description = description.entries[index];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (description && description.version >= 2) {\n\t\t\t\t\tif (description.default_group_description_index > 0) {\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tsample.sample_groups[k].description = description.entries[description.default_group_description_index-1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.process_sdtp = function (sdtp, sample, number) {\n\tif (!sample) {\n\t\treturn;\n\t}\n\tif (sdtp) {\n\t\tsample.is_leading = sdtp.is_leading[number];\n\t\tsample.depends_on = sdtp.sample_depends_on[number];\n\t\tsample.is_depended_on = sdtp.sample_is_depended_on[number];\n\t\tsample.has_redundancy = sdtp.sample_has_redundancy[number];\n\t} else {\n\t\tsample.is_leading = 0;\n\t\tsample.depends_on = 0;\n\t\tsample.is_depended_on = 0\n\t\tsample.has_redundancy = 0;\n\t}\t\n}\n\n/* Build initial sample list from  sample tables */\nISOFile.prototype.buildSampleLists = function() {\t\n\tvar i;\n\tvar trak;\n\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\ttrak = this.moov.traks[i];\n\t\tthis.buildTrakSampleLists(trak);\n\t}\n}\n\nISOFile.prototype.buildTrakSampleLists = function(trak) {\t\n\tvar j, k;\n\tvar stco, stsc, stsz, stts, ctts, stss, stsd, subs, sbgps, sgpds, stdp;\n\tvar chunk_run_index, chunk_index, last_chunk_in_run, offset_in_chunk, last_sample_in_chunk;\n\tvar last_sample_in_stts_run, stts_run_index, last_sample_in_ctts_run, ctts_run_index, last_stss_index, last_subs_index, subs_entry_index, last_subs_sample_index;\n\n\ttrak.samples = [];\n\ttrak.samples_duration = 0;\n\ttrak.samples_size = 0;\n\tstco = trak.mdia.minf.stbl.stco || trak.mdia.minf.stbl.co64;\n\tstsc = trak.mdia.minf.stbl.stsc;\n\tstsz = trak.mdia.minf.stbl.stsz || trak.mdia.minf.stbl.stz2;\n\tstts = trak.mdia.minf.stbl.stts;\n\tctts = trak.mdia.minf.stbl.ctts;\n\tstss = trak.mdia.minf.stbl.stss;\n\tstsd = trak.mdia.minf.stbl.stsd;\n\tsubs = trak.mdia.minf.stbl.subs;\n\tstdp = trak.mdia.minf.stbl.stdp;\n\tsbgps = trak.mdia.minf.stbl.sbgps;\n\tsgpds = trak.mdia.minf.stbl.sgpds;\n\t\n\tlast_sample_in_stts_run = -1;\n\tstts_run_index = -1;\n\tlast_sample_in_ctts_run = -1;\n\tctts_run_index = -1;\n\tlast_stss_index = 0;\n\tsubs_entry_index = 0;\n\tlast_subs_sample_index = 0;\t\t\n\n\tISOFile.initSampleGroups(trak, null, sbgps, sgpds);\n\n\tif (typeof stsz === \"undefined\") {\n\t\treturn;\n\t}\n\n\t/* we build the samples one by one and compute their properties */\n\tfor (j = 0; j < stsz.sample_sizes.length; j++) {\n\t\tvar sample = {};\n\t\tsample.number = j;\n\t\tsample.track_id = trak.tkhd.track_id;\n\t\tsample.timescale = trak.mdia.mdhd.timescale;\n\t\tsample.alreadyRead = 0;\n\t\ttrak.samples[j] = sample;\n\t\t/* size can be known directly */\n\t\tsample.size = stsz.sample_sizes[j];\n\t\ttrak.samples_size += sample.size;\n\t\t/* computing chunk-based properties (offset, sample description index)*/\n\t\tif (j === 0) {\t\t\t\t\n\t\t\tchunk_index = 1; /* the first sample is in the first chunk (chunk indexes are 1-based) */\n\t\t\tchunk_run_index = 0; /* the first chunk is the first entry in the first_chunk table */\n\t\t\tsample.chunk_index = chunk_index;\n\t\t\tsample.chunk_run_index = chunk_run_index;\n\t\t\tlast_sample_in_chunk = stsc.samples_per_chunk[chunk_run_index];\n\t\t\toffset_in_chunk = 0;\n\n\t\t\t/* Is there another entry in the first_chunk table ? */\n\t\t\tif (chunk_run_index + 1 < stsc.first_chunk.length) {\n\t\t\t\t/* The last chunk in the run is the chunk before the next first chunk */\n\t\t\t\tlast_chunk_in_run = stsc.first_chunk[chunk_run_index+1]-1; \t\n\t\t\t} else {\n\t\t\t\t/* There is only one entry in the table, it is valid for all future chunks*/\n\t\t\t\tlast_chunk_in_run = Infinity;\n\t\t\t}\n\t\t} else {\n\t\t\tif (j < last_sample_in_chunk) {\n\t\t\t\t/* the sample is still in the current chunk */\n\t\t\t\tsample.chunk_index = chunk_index;\n\t\t\t\tsample.chunk_run_index = chunk_run_index;\n\t\t\t} else {\n\t\t\t\t/* the sample is in the next chunk */\n\t\t\t\tchunk_index++;\n\t\t\t\tsample.chunk_index = chunk_index;\n\t\t\t\t/* reset the accumulated offset in the chunk */\n\t\t\t\toffset_in_chunk = 0;\n\t\t\t\tif (chunk_index <= last_chunk_in_run) {\n\t\t\t\t\t/* stay in the same entry of the first_chunk table */\n\t\t\t\t\t/* chunk_run_index unmodified */\n\t\t\t\t} else {\n\t\t\t\t\tchunk_run_index++;\n\t\t\t\t\t/* Is there another entry in the first_chunk table ? */\n\t\t\t\t\tif (chunk_run_index + 1 < stsc.first_chunk.length) {\n\t\t\t\t\t\t/* The last chunk in the run is the chunk before the next first chunk */\n\t\t\t\t\t\tlast_chunk_in_run = stsc.first_chunk[chunk_run_index+1]-1; \t\n\t\t\t\t\t} else {\n\t\t\t\t\t\t/* There is only one entry in the table, it is valid for all future chunks*/\n\t\t\t\t\t\tlast_chunk_in_run = Infinity;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tsample.chunk_run_index = chunk_run_index;\n\t\t\t\tlast_sample_in_chunk += stsc.samples_per_chunk[chunk_run_index];\n\t\t\t}\n\t\t}\n\n\t\tsample.description_index = stsc.sample_description_index[sample.chunk_run_index]-1;\n\t\tsample.description = stsd.entries[sample.description_index];\n\t\tsample.offset = stco.chunk_offsets[sample.chunk_index-1] + offset_in_chunk; /* chunk indexes are 1-based */\n\t\toffset_in_chunk += sample.size;\n\n\t\t/* setting dts, cts, duration and rap flags */\n\t\tif (j > last_sample_in_stts_run) {\n\t\t\tstts_run_index++;\n\t\t\tif (last_sample_in_stts_run < 0) {\n\t\t\t\tlast_sample_in_stts_run = 0;\n\t\t\t}\n\t\t\tlast_sample_in_stts_run += stts.sample_counts[stts_run_index];\t\t\t\t\n\t\t}\n\t\tif (j > 0) {\n\t\t\ttrak.samples[j-1].duration = stts.sample_deltas[stts_run_index];\n\t\t\ttrak.samples_duration += trak.samples[j-1].duration;\n\t\t\tsample.dts = trak.samples[j-1].dts + trak.samples[j-1].duration;\n\t\t} else {\n\t\t\tsample.dts = 0;\n\t\t}\n\t\tif (ctts) {\n\t\t\tif (j >= last_sample_in_ctts_run) {\n\t\t\t\tctts_run_index++;\n\t\t\t\tif (last_sample_in_ctts_run < 0) {\n\t\t\t\t\tlast_sample_in_ctts_run = 0;\n\t\t\t\t}\n\t\t\t\tlast_sample_in_ctts_run += ctts.sample_counts[ctts_run_index];\t\t\t\t\n\t\t\t}\n\t\t\tsample.cts = trak.samples[j].dts + ctts.sample_offsets[ctts_run_index];\n\t\t} else {\n\t\t\tsample.cts = sample.dts;\n\t\t}\n\t\tif (stss) {\n\t\t\tif (j == stss.sample_numbers[last_stss_index] - 1) { // sample numbers are 1-based\n\t\t\t\tsample.is_sync = true;\n\t\t\t\tlast_stss_index++;\n\t\t\t} else {\n\t\t\t\tsample.is_sync = false;\t\t\t\t\n\t\t\t\tsample.degradation_priority = 0;\n\t\t\t}\n\t\t\tif (subs) {\n\t\t\t\tif (subs.entries[subs_entry_index].sample_delta + last_subs_sample_index == j+1) {\n\t\t\t\t\tsample.subsamples = subs.entries[subs_entry_index].subsamples;\n\t\t\t\t\tlast_subs_sample_index += subs.entries[subs_entry_index].sample_delta;\n\t\t\t\t\tsubs_entry_index++;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tsample.is_sync = true;\n\t\t}\n\t\tISOFile.process_sdtp(trak.mdia.minf.stbl.sdtp, sample, sample.number);\n\t\tif (stdp) {\n\t\t\tsample.degradation_priority = stdp.priority[j];\n\t\t} else {\n\t\t\tsample.degradation_priority = 0;\n\t\t}\n\t\tif (subs) {\n\t\t\tif (subs.entries[subs_entry_index].sample_delta + last_subs_sample_index == j) {\n\t\t\t\tsample.subsamples = subs.entries[subs_entry_index].subsamples;\n\t\t\t\tlast_subs_sample_index += subs.entries[subs_entry_index].sample_delta;\n\t\t\t}\n\t\t}\n\t\tif (sbgps.length > 0 || sgpds.length > 0) {\n\t\t\tISOFile.setSampleGroupProperties(trak, sample, j, trak.sample_groups_info);\n\t\t}\n\t}\n\tif (j>0) {\n\t\ttrak.samples[j-1].duration = Math.max(trak.mdia.mdhd.duration - trak.samples[j-1].dts, 0);\n\t\ttrak.samples_duration += trak.samples[j-1].duration;\n\t}\n}\n\n/* Update sample list when new 'moof' boxes are received */\nISOFile.prototype.updateSampleLists = function() {\t\n\tvar i, j, k;\n\tvar default_sample_description_index, default_sample_duration, default_sample_size, default_sample_flags;\n\tvar last_run_position;\n\tvar box, moof, traf, trak, trex;\n\tvar sample;\n\tvar sample_flags;\n\t\n\tif (this.moov === undefined) {\n\t\treturn;\n\t}\n\t/* if the input file is fragmented and fetched in multiple downloads, we need to update the list of samples */\n\twhile (this.lastMoofIndex < this.moofs.length) {\n\t\tbox = this.moofs[this.lastMoofIndex];\n\t\tthis.lastMoofIndex++;\n\t\tif (box.type == \"moof\") {\n\t\t\tmoof = box;\n\t\t\tfor (i = 0; i < moof.trafs.length; i++) {\n\t\t\t\ttraf = moof.trafs[i];\n\t\t\t\ttrak = this.getTrackById(traf.tfhd.track_id);\n\t\t\t\ttrex = this.getTrexById(traf.tfhd.track_id);\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC) {\n\t\t\t\t\tdefault_sample_description_index = traf.tfhd.default_sample_description_index;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_description_index = (trex ? trex.default_sample_description_index: 1);\n\t\t\t\t}\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR) {\n\t\t\t\t\tdefault_sample_duration = traf.tfhd.default_sample_duration;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_duration = (trex ? trex.default_sample_duration : 0);\n\t\t\t\t}\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE) {\n\t\t\t\t\tdefault_sample_size = traf.tfhd.default_sample_size;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_size = (trex ? trex.default_sample_size : 0);\n\t\t\t\t}\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS) {\n\t\t\t\t\tdefault_sample_flags = traf.tfhd.default_sample_flags;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_flags = (trex ? trex.default_sample_flags : 0);\n\t\t\t\t}\n\t\t\t\ttraf.sample_number = 0;\n\t\t\t\t/* process sample groups */\n\t\t\t\tif (traf.sbgps.length > 0) {\n\t\t\t\t\tISOFile.initSampleGroups(trak, traf, traf.sbgps, trak.mdia.minf.stbl.sgpds, traf.sgpds);\n\t\t\t\t}\n\t\t\t\tfor (j = 0; j < traf.truns.length; j++) {\n\t\t\t\t\tvar trun = traf.truns[j];\n\t\t\t\t\tfor (k = 0; k < trun.sample_count; k++) {\n\t\t\t\t\t\tsample = {};\n\t\t\t\t\t\tsample.moof_number = this.lastMoofIndex;\n\t\t\t\t\t\tsample.number_in_traf = traf.sample_number;\n\t\t\t\t\t\ttraf.sample_number++;\n\t\t\t            sample.number = trak.samples.length;\n\t\t\t\t\t\ttraf.first_sample_index = trak.samples.length;\n\t\t\t\t\t\ttrak.samples.push(sample);\n\t\t\t\t\t\tsample.track_id = trak.tkhd.track_id;\n\t\t\t\t\t\tsample.timescale = trak.mdia.mdhd.timescale;\n\t\t\t\t\t\tsample.description_index = default_sample_description_index-1;\n\t\t\t\t\t\tsample.description = trak.mdia.minf.stbl.stsd.entries[sample.description_index];\n\t\t\t\t\t\tsample.size = default_sample_size;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\t\t\t\t\t\tsample.size = trun.sample_size[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrak.samples_size += sample.size;\n\t\t\t\t\t\tsample.duration = default_sample_duration;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\t\t\t\t\t\tsample.duration = trun.sample_duration[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrak.samples_duration += sample.duration;\n\t\t\t\t\t\tif (trak.first_traf_merged || k > 0) {\n\t\t\t\t\t\t\tsample.dts = trak.samples[trak.samples.length-2].dts+trak.samples[trak.samples.length-2].duration;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (traf.tfdt) {\n\t\t\t\t\t\t\t\tsample.dts = traf.tfdt.baseMediaDecodeTime;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsample.dts = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttrak.first_traf_merged = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsample.cts = sample.dts;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\t\t\t\t\t\tsample.cts = sample.dts + trun.sample_composition_time_offset[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsample_flags = default_sample_flags;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\t\t\t\t\t\tsample_flags = trun.sample_flags[k];\n\t\t\t\t\t\t} else if (k === 0 && (trun.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG)) {\n\t\t\t\t\t\t\tsample_flags = trun.first_sample_flags;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsample.is_sync = ((sample_flags >> 16 & 0x1) ? false : true);\n\t\t\t\t\t\tsample.is_leading = (sample_flags >> 26 & 0x3);\n\t\t\t\t\t\tsample.depends_on = (sample_flags >> 24 & 0x3);\n\t\t\t\t\t\tsample.is_depended_on = (sample_flags >> 22 & 0x3);\n\t\t\t\t\t\tsample.has_redundancy = (sample_flags >> 20 & 0x3);\n\t\t\t\t\t\tsample.degradation_priority = (sample_flags & 0xFFFF);\n\t\t\t\t\t\t//ISOFile.process_sdtp(traf.sdtp, sample, sample.number_in_traf);\n\t\t\t\t\t\tvar bdop = (traf.tfhd.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET) ? true : false;\n\t\t\t\t\t\tvar dbim = (traf.tfhd.flags & BoxParser.TFHD_FLAG_DEFAULT_BASE_IS_MOOF) ? true : false;\n\t\t\t\t\t\tvar dop = (trun.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) ? true : false;\n\t\t\t\t\t\tvar bdo = 0;\n\t\t\t\t\t\tif (!bdop) {\n\t\t\t\t\t\t\tif (!dbim) {\n\t\t\t\t\t\t\t\tif (j === 0) { // the first track in the movie fragment\n\t\t\t\t\t\t\t\t\tbdo = moof.start; // the position of the first byte of the enclosing Movie Fragment Box\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tbdo = last_run_position; // end of the data defined by the preceding *track* (irrespective of the track id) fragment in the moof\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbdo = moof.start;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbdo = traf.tfhd.base_data_offset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (j === 0 && k === 0) {\n\t\t\t\t\t\t\tif (dop) {\n\t\t\t\t\t\t\t\tsample.offset = bdo + trun.data_offset; // If the data-offset is present, it is relative to the base-data-offset established in the track fragment header\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsample.offset = bdo; // the data for this run starts the base-data-offset defined by the track fragment header\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsample.offset = last_run_position; // this run starts immediately after the data of the previous run\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlast_run_position = sample.offset + sample.size;\n\t\t\t\t\t\tif (traf.sbgps.length > 0 || traf.sgpds.length > 0 ||\n\t\t\t\t\t\t\ttrak.mdia.minf.stbl.sbgps.length > 0 || trak.mdia.minf.stbl.sgpds.length > 0) {\n\t\t\t\t\t\t\tISOFile.setSampleGroupProperties(trak, sample, sample.number_in_traf, traf.sample_groups_info);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (traf.subs) {\n\t\t\t\t\ttrak.has_fragment_subsamples = true;\n\t\t\t\t\tvar sample_index = traf.first_sample_index;\n\t\t\t\t\tfor (j = 0; j < traf.subs.entries.length; j++) {\n\t\t\t\t\t\tsample_index += traf.subs.entries[j].sample_delta;\n\t\t\t\t\t\tsample = trak.samples[sample_index-1];\n\t\t\t\t\t\tsample.subsamples = traf.subs.entries[j].subsamples;\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\t\n}\n\n/* Try to get sample data for a given sample:\n   returns null if not found\n   returns the same sample if already requested\n */\nISOFile.prototype.getSample = function(trak, sampleNum) {\t\n\tvar buffer;\n\tvar sample = trak.samples[sampleNum];\n\t\n\tif (!this.moov) {\n\t\treturn null;\n\t}\n\n\tif (!sample.data) {\n\t\t/* Not yet fetched */\n\t\tsample.data = new Uint8Array(sample.size);\n\t\tsample.alreadyRead = 0;\n\t\tthis.samplesDataSize += sample.size;\n\t\tLog.debug(\"ISOFile\", \"Allocating sample #\"+sampleNum+\" on track #\"+trak.tkhd.track_id+\" of size \"+sample.size+\" (total: \"+this.samplesDataSize+\")\");\n\t} else if (sample.alreadyRead == sample.size) {\n\t\t/* Already fetched entirely */\n\t\treturn sample;\n\t}\n\n\t/* The sample has only been partially fetched, we need to check in all buffers */\n\twhile(true) {\n\t\tvar index =\tthis.stream.findPosition(true, sample.offset + sample.alreadyRead, false);\n\t\tif (index > -1) {\n\t\t\tbuffer = this.stream.buffers[index];\n\t\t\tvar lengthAfterStart = buffer.byteLength - (sample.offset + sample.alreadyRead - buffer.fileStart);\n\t\t\tif (sample.size - sample.alreadyRead <= lengthAfterStart) {\n\t\t\t\t/* the (rest of the) sample is entirely contained in this buffer */\n\n\t\t\t\tLog.debug(\"ISOFile\",\"Getting sample #\"+sampleNum+\" data (alreadyRead: \"+sample.alreadyRead+\" offset: \"+\n\t\t\t\t\t(sample.offset+sample.alreadyRead - buffer.fileStart)+\" read size: \"+(sample.size - sample.alreadyRead)+\" full size: \"+sample.size+\")\");\n\n\t\t\t\tDataStream.memcpy(sample.data.buffer, sample.alreadyRead,\n\t\t\t\t                  buffer, sample.offset+sample.alreadyRead - buffer.fileStart, sample.size - sample.alreadyRead);\n\n\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\tbuffer.usedBytes += sample.size - sample.alreadyRead;\n\t\t\t\tthis.stream.logBufferLevel();\n\n\t\t\t\tsample.alreadyRead = sample.size;\n\n\t\t\t\treturn sample;\n\t\t\t} else {\n\t\t\t\t/* the sample does not end in this buffer */\n\n\t\t\t\tif (lengthAfterStart === 0) return null;\n\n\t\t\t\tLog.debug(\"ISOFile\",\"Getting sample #\"+sampleNum+\" partial data (alreadyRead: \"+sample.alreadyRead+\" offset: \"+\n\t\t\t\t\t(sample.offset+sample.alreadyRead - buffer.fileStart)+\" read size: \"+lengthAfterStart+\" full size: \"+sample.size+\")\");\n\n\t\t\t\tDataStream.memcpy(sample.data.buffer, sample.alreadyRead,\n\t\t\t\t                  buffer, sample.offset+sample.alreadyRead - buffer.fileStart, lengthAfterStart);\n\t\t\t\tsample.alreadyRead += lengthAfterStart;\n\n\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\tbuffer.usedBytes += lengthAfterStart;\n\t\t\t\tthis.stream.logBufferLevel();\n\n\t\t\t\t/* keep looking in the next buffer */\n\t\t\t}\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\n/* Release the memory used to store the data of the sample */\nISOFile.prototype.releaseSample = function(trak, sampleNum) {\t\n\tvar sample = trak.samples[sampleNum];\n\tif (sample.data) {\n\t\tthis.samplesDataSize -= sample.size;\n\t\tsample.data = null;\n\t\tsample.alreadyRead = 0;\n\t\treturn sample.size;\n\t} else {\n\t\treturn 0;\n\t}\n}\n\nISOFile.prototype.getAllocatedSampleDataSize = function() {\n\treturn this.samplesDataSize;\n}\n\n/* Builds the MIME Type 'codecs' sub-parameters for the whole file */\nISOFile.prototype.getCodecs = function() {\t\n\tvar i;\n\tvar codecs = \"\";\n\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\tvar trak = this.moov.traks[i];\n\t\tif (i>0) {\n\t\t\tcodecs+=\",\"; \n\t\t}\n\t\tcodecs += trak.mdia.minf.stbl.stsd.entries[0].getCodec();\t\t\n\t}\n\treturn codecs;\n}\n\n/* Helper function */\nISOFile.prototype.getTrexById = function(id) {\t\n\tvar i;\n\tif (!this.moov || !this.moov.mvex) return null;\n\tfor (i = 0; i < this.moov.mvex.trexs.length; i++) {\n\t\tvar trex = this.moov.mvex.trexs[i];\n\t\tif (trex.track_id == id) return trex;\n\t}\n\treturn null;\n}\n\n/* Helper function */\nISOFile.prototype.getTrackById = function(id) {\n\tif (this.moov === undefined) {\n\t\treturn null;\n\t}\n\tfor (var j = 0; j < this.moov.traks.length; j++) {\n\t\tvar trak = this.moov.traks[j];\n\t\tif (trak.tkhd.track_id == id) return trak;\n\t}\n\treturn null;\n}\n// file:src/isofile-item-processing.js\nISOFile.prototype.items = [];\n/* size of the buffers allocated for samples */\nISOFile.prototype.itemsDataSize = 0;\n\nISOFile.prototype.flattenItemInfo = function() {\t\n\tvar items = this.items;\n\tvar i, j;\n\tvar item;\n\tvar meta = this.meta;\n\tif (meta === null || meta === undefined) return;\n\tif (meta.hdlr === undefined) return;\n\tif (meta.iinf === undefined) return;\n\tfor (i = 0; i < meta.iinf.item_infos.length; i++) {\n\t\titem = {};\n\t\titem.id = meta.iinf.item_infos[i].item_ID;\n\t\titems[item.id] = item;\n\t\titem.ref_to = [];\n\t\titem.name = meta.iinf.item_infos[i].item_name;\n\t\tif (meta.iinf.item_infos[i].protection_index > 0) {\n\t\t\titem.protection = meta.ipro.protections[meta.iinf.item_infos[i].protection_index-1];\n\t\t}\n\t\tif (meta.iinf.item_infos[i].item_type) {\n\t\t\titem.type = meta.iinf.item_infos[i].item_type;\n\t\t} else {\n\t\t\titem.type = \"mime\";\n\t\t}\n\t\titem.content_type = meta.iinf.item_infos[i].content_type;\n\t\titem.content_encoding = meta.iinf.item_infos[i].content_encoding;\n\t}\n\tif (meta.iloc) {\n\t\tfor(i = 0; i < meta.iloc.items.length; i++) {\n\t\t\tvar offset;\n\t\t\tvar itemloc = meta.iloc.items[i];\n\t\t\titem = items[itemloc.item_ID];\n\t\t\tif (itemloc.data_reference_index !== 0) {\n\t\t\t\tLog.warn(\"Item storage with reference to other files: not supported\");\n\t\t\t\titem.source = meta.dinf.boxes[itemloc.data_reference_index-1];\n\t\t\t}\n\t\t\tswitch(itemloc.construction_method) {\n\t\t\t\tcase 0: // offset into the file referenced by the data reference index\n\t\t\t\tbreak;\n\t\t\t\tcase 1: // offset into the idat box of this meta box\n\t\t\t\tLog.warn(\"Item storage with construction_method : not supported\");\n\t\t\t\tbreak;\n\t\t\t\tcase 2: // offset into another item\n\t\t\t\tLog.warn(\"Item storage with construction_method : not supported\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\titem.extents = [];\n\t\t\titem.size = 0;\n\t\t\tfor (j = 0; j < itemloc.extents.length; j++) {\n\t\t\t\titem.extents[j] = {};\n\t\t\t\titem.extents[j].offset = itemloc.extents[j].extent_offset + itemloc.base_offset;\n\t\t\t\titem.extents[j].length = itemloc.extents[j].extent_length;\n\t\t\t\titem.extents[j].alreadyRead = 0;\n\t\t\t\titem.size += item.extents[j].length;\n\t\t\t}\n\t\t}\n\t}\n\tif (meta.pitm) {\n\t\titems[meta.pitm.item_id].primary = true;\n\t}\n\tif (meta.iref) {\n\t\tfor (i=0; i <meta.iref.references.length; i++) {\n\t\t\tvar ref = meta.iref.references[i];\n\t\t\tfor (j=0; j<ref.references.length; j++) {\n\t\t\t\titems[ref.from_item_ID].ref_to.push({type: ref.type, id: ref.references[j]});\n\t\t\t}\n\t\t}\n\t}\n\tif (meta.iprp) {\n\t\tfor (var k = 0; k < meta.iprp.ipmas.length; k++) {\n\t\t\tvar ipma = meta.iprp.ipmas[k];\n\t\t\tfor (i = 0; i < ipma.associations.length; i++) {\n\t\t\t\tvar association = ipma.associations[i];\n\t\t\t\titem = items[association.id];\n\t\t\t\tif (item.properties === undefined) {\n\t\t\t\t\titem.properties = {};\n\t\t\t\t\titem.properties.boxes = [];\n\t\t\t\t}\n\t\t\t\tfor (j = 0; j < association.props.length; j++) {\n\t\t\t\t\tvar propEntry = association.props[j];\n\t\t\t\t\tif (propEntry.property_index > 0 && propEntry.property_index-1 < meta.iprp.ipco.boxes.length) {\n\t\t\t\t\t\tvar propbox = meta.iprp.ipco.boxes[propEntry.property_index-1];\n\t\t\t\t\t\titem.properties[propbox.type] = propbox;\n\t\t\t\t\t\titem.properties.boxes.push(propbox);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.prototype.getItem = function(item_id) {\t\n\tvar buffer;\n\tvar item;\n\t\n\tif (!this.meta) {\n\t\treturn null;\n\t}\n\n \titem = this.items[item_id];\n\tif (!item.data && item.size) {\n\t\t/* Not yet fetched */\n\t\titem.data = new Uint8Array(item.size);\n\t\titem.alreadyRead = 0;\n\t\tthis.itemsDataSize += item.size;\n\t\tLog.debug(\"ISOFile\", \"Allocating item #\"+item_id+\" of size \"+item.size+\" (total: \"+this.itemsDataSize+\")\");\n\t} else if (item.alreadyRead === item.size) {\n\t\t/* Already fetched entirely */\n\t\treturn item;\n\t}\n\n\t/* The item has only been partially fetched, we need to check in all buffers to find the remaining extents*/\n\n\tfor (var i = 0; i < item.extents.length; i++) {\n\t\tvar extent = item.extents[i];\n\t\tif (extent.alreadyRead === extent.length) {\n\t\t\tcontinue;\n\t\t} else {\n\t\t\tvar index =\tthis.stream.findPosition(true, extent.offset + extent.alreadyRead, false);\n\t\t\tif (index > -1) {\n\t\t\t\tbuffer = this.stream.buffers[index];\n\t\t\t\tvar lengthAfterStart = buffer.byteLength - (extent.offset + extent.alreadyRead - buffer.fileStart);\n\t\t\t\tif (extent.length - extent.alreadyRead <= lengthAfterStart) {\n\t\t\t\t\t/* the (rest of the) extent is entirely contained in this buffer */\n\n\t\t\t\t\tLog.debug(\"ISOFile\",\"Getting item #\"+item_id+\" extent #\"+i+\" data (alreadyRead: \"+extent.alreadyRead+\n\t\t\t\t\t\t\" offset: \"+(extent.offset+extent.alreadyRead - buffer.fileStart)+\" read size: \"+(extent.length - extent.alreadyRead)+\n\t\t\t\t\t\t\" full extent size: \"+extent.length+\" full item size: \"+item.size+\")\");\n\n\t\t\t\t\tDataStream.memcpy(item.data.buffer, item.alreadyRead, \n\t\t\t\t\t                  buffer, extent.offset+extent.alreadyRead - buffer.fileStart, extent.length - extent.alreadyRead);\n\n\t\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\t\tbuffer.usedBytes += extent.length - extent.alreadyRead;\n\t\t\t\t\tthis.stream.logBufferLevel();\n\n\t\t\t\t\titem.alreadyRead += (extent.length - extent.alreadyRead);\n\t\t\t\t\textent.alreadyRead = extent.length;\n\t\t\t\t} else {\n\t\t\t\t\t/* the sample does not end in this buffer */\n\n\t\t\t\t\tLog.debug(\"ISOFile\",\"Getting item #\"+item_id+\" extent #\"+i+\" partial data (alreadyRead: \"+extent.alreadyRead+\" offset: \"+\n\t\t\t\t\t\t(extent.offset+extent.alreadyRead - buffer.fileStart)+\" read size: \"+lengthAfterStart+\n\t\t\t\t\t\t\" full extent size: \"+extent.length+\" full item size: \"+item.size+\")\");\n\n\t\t\t\t\tDataStream.memcpy(item.data.buffer, item.alreadyRead, \n\t\t\t\t\t                  buffer, extent.offset+extent.alreadyRead - buffer.fileStart, lengthAfterStart);\n\t\t\t\t\textent.alreadyRead += lengthAfterStart;\n\t\t\t\t\titem.alreadyRead += lengthAfterStart;\n\n\t\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\t\tbuffer.usedBytes += lengthAfterStart;\n\t\t\t\t\tthis.stream.logBufferLevel();\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\tif (item.alreadyRead === item.size) {\n\t\t/* fetched entirely */\n\t\treturn item;\n\t} else {\n\t\treturn null;\n\t}\n}\n\n/* Release the memory used to store the data of the item */\nISOFile.prototype.releaseItem = function(item_id) {\t\n\tvar item = this.items[item_id];\n\tif (item.data) {\n\t\tthis.itemsDataSize -= item.size;\n\t\titem.data = null;\n\t\titem.alreadyRead = 0;\n\t\tfor (var i = 0; i < item.extents.length; i++) {\n\t\t\tvar extent = item.extents[i];\n\t\t\textent.alreadyRead = 0;\n\t\t}\n\t\treturn item.size;\n\t} else {\n\t\treturn 0;\n\t}\n}\n\n\nISOFile.prototype.processItems = function(callback) {\n\tfor(var i in this.items) {\n\t\tvar item = this.items[i];\n\t\tthis.getItem(item.id);\n\t\tif (callback && !item.sent) {\n\t\t\tcallback(item);\n\t\t\titem.sent = true;\n\t\t\titem.data = null;\n\t\t}\n\t}\n}\n\nISOFile.prototype.hasItem = function(name) {\n\tfor(var i in this.items) {\n\t\tvar item = this.items[i];\n\t\tif (item.name === name) {\n\t\t\treturn item.id;\n\t\t}\n\t}\n\treturn -1;\n}\n\nISOFile.prototype.getMetaHandler = function() {\n\tif (!this.meta) {\n\t\treturn null;\n\t} else {\n\t\treturn this.meta.hdlr.handler;\t\t\n\t}\n}\n\nISOFile.prototype.getPrimaryItem = function() {\n\tif (!this.meta || !this.meta.pitm) {\n\t\treturn null;\n\t} else {\n\t\treturn this.getItem(this.meta.pitm.item_id);\n\t}\n}\n\nISOFile.prototype.itemToFragmentedTrackFile = function(_options) {\n\tvar options = _options || {};\n\tvar item = null;\n\tif (options.itemId) {\n\t\titem = this.getItem(options.itemId);\n\t} else {\n\t\titem = this.getPrimaryItem();\n\t}\n\tif (item == null) return null;\n\n\tvar file = new ISOFile();\n\tfile.discardMdatData = false;\n\t// assuming the track type is the same as the item type\n\tvar trackOptions = { type: item.type, description_boxes: item.properties.boxes};\n\tif (item.properties.ispe) {\n\t\ttrackOptions.width = item.properties.ispe.image_width;\n\t\ttrackOptions.height = item.properties.ispe.image_height;\n\t}\n\tvar trackId = file.addTrack(trackOptions);\n\tif (trackId) {\n\t\tfile.addSample(trackId, item.data);\n\t\treturn file;\n\t} else {\n\t\treturn null;\n\t}\n}\n\n// file:src/isofile-write.js\n/* Rewrite the entire file */\nISOFile.prototype.write = function(outstream) {\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tthis.boxes[i].write(outstream);\n\t}\n}\n\nISOFile.prototype.createFragment = function(track_id, sampleNumber, stream_) {\n\tvar trak = this.getTrackById(track_id);\n\tvar sample = this.getSample(trak, sampleNumber);\n\tif (sample == null) {\n\t\tsample = trak.samples[sampleNumber];\n\t\tif (this.nextSeekPosition) {\n\t\t\tthis.nextSeekPosition = Math.min(sample.offset+sample.alreadyRead,this.nextSeekPosition);\n\t\t} else {\n\t\t\tthis.nextSeekPosition = trak.samples[sampleNumber].offset+sample.alreadyRead;\n\t\t}\n\t\treturn null;\n\t}\n\t\n\tvar stream = stream_ || new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\n\tvar moof = this.createSingleSampleMoof(sample);\n\tmoof.write(stream);\n\n\t/* adjusting the data_offset now that the moof size is known*/\n\tmoof.trafs[0].truns[0].data_offset = moof.size+8; //8 is mdat header\n\tLog.debug(\"MP4Box\", \"Adjusting data_offset with new value \"+moof.trafs[0].truns[0].data_offset);\n\tstream.adjustUint32(moof.trafs[0].truns[0].data_offset_position, moof.trafs[0].truns[0].data_offset);\n\t\t\n\tvar mdat = new BoxParser.mdatBox();\n\tmdat.data = sample.data;\n\tmdat.write(stream);\n\treturn stream;\n}\n\n/* Modify the file and create the initialization segment */\nISOFile.writeInitializationSegment = function(ftyp, moov, total_duration, sample_duration) {\n\tvar i;\n\tvar index;\n\tvar mehd;\n\tvar trex;\n\tvar box;\n\tLog.debug(\"ISOFile\", \"Generating initialization segment\");\n\n\tvar stream = new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tftyp.write(stream);\n\t\n\t/* we can now create the new mvex box */\n\tvar mvex = moov.add(\"mvex\");\n\tif (total_duration) {\n\t\tmvex.add(\"mehd\").set(\"fragment_duration\", total_duration);\n\t}\n\tfor (i = 0; i < moov.traks.length; i++) {\n\t\tmvex.add(\"trex\").set(\"track_id\", moov.traks[i].tkhd.track_id)\n\t\t\t\t\t\t.set(\"default_sample_description_index\", 1)\n\t\t\t\t\t\t.set(\"default_sample_duration\", sample_duration)\n\t\t\t\t\t\t.set(\"default_sample_size\", 0)\n\t\t\t\t\t\t.set(\"default_sample_flags\", 1<<16)\n\t}\n\tmoov.write(stream);\n\n\treturn stream.buffer;\n\n}\n\nISOFile.prototype.save = function(name) {\n\tvar stream = new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tthis.write(stream);\n\tstream.save(name);\t\n}\n\nISOFile.prototype.getBuffer = function() {\n\tvar stream = new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tthis.write(stream);\n\treturn stream.buffer;\n}\n\nISOFile.prototype.initializeSegmentation = function() {\n\tvar i;\n\tvar j;\n\tvar box;\n\tvar initSegs;\n\tvar trak;\n\tvar seg;\n\tif (this.onSegment === null) {\n\t\tLog.warn(\"MP4Box\", \"No segmentation callback set!\");\n\t}\n\tif (!this.isFragmentationInitialized) {\n\t\tthis.isFragmentationInitialized = true;\t\t\n\t\tthis.nextMoofNumber = 0;\n\t\tthis.resetTables();\n\t}\t\n\tinitSegs = [];\t\n\tfor (i = 0; i < this.fragmentedTracks.length; i++) {\n\t\tvar moov = new BoxParser.moovBox();\n\t\tmoov.mvhd = this.moov.mvhd;\n\t    moov.boxes.push(moov.mvhd);\n\t\ttrak = this.getTrackById(this.fragmentedTracks[i].id);\n\t\tmoov.boxes.push(trak);\n\t\tmoov.traks.push(trak);\n\t\tseg = {};\n\t\tseg.id = trak.tkhd.track_id;\n\t\tseg.user = this.fragmentedTracks[i].user;\n\t\tseg.buffer = ISOFile.writeInitializationSegment(this.ftyp, moov, (this.moov.mvex && this.moov.mvex.mehd ? this.moov.mvex.mehd.fragment_duration: undefined), (this.moov.traks[i].samples.length>0 ? this.moov.traks[i].samples[0].duration: 0));\n\t\tinitSegs.push(seg);\n\t}\n\treturn initSegs;\n}\n\n// file:src/box-print.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.Box.prototype.printHeader = function(output) {\n\tthis.size += 8;\n\tif (this.size > MAX_SIZE) {\n\t\tthis.size += 8;\n\t}\n\tif (this.type === \"uuid\") {\n\t\tthis.size += 16;\n\t}\n\toutput.log(output.indent+\"size:\"+this.size);\n\toutput.log(output.indent+\"type:\"+this.type);\n}\n\nBoxParser.FullBox.prototype.printHeader = function(output) {\n\tthis.size += 4;\n\tBoxParser.Box.prototype.printHeader.call(this, output);\n\toutput.log(output.indent+\"version:\"+this.version);\n\toutput.log(output.indent+\"flags:\"+this.flags);\n}\n\nBoxParser.Box.prototype.print = function(output) {\n\tthis.printHeader(output);\n}\n\nBoxParser.ContainerBox.prototype.print = function(output) {\n\tthis.printHeader(output);\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tif (this.boxes[i]) {\n\t\t\tvar prev_indent = output.indent;\n\t\t\toutput.indent += \" \";\n\t\t\tthis.boxes[i].print(output);\n\t\t\toutput.indent = prev_indent;\n\t\t}\n\t}\n}\n\nISOFile.prototype.print = function(output) {\n\toutput.indent = \"\";\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tif (this.boxes[i]) {\n\t\t\tthis.boxes[i].print(output);\n\t\t}\n\t}\t\n}\n\nBoxParser.mvhdBox.prototype.print = function(output) {\n\tBoxParser.FullBox.prototype.printHeader.call(this, output);\n\toutput.log(output.indent+\"creation_time: \"+this.creation_time);\n\toutput.log(output.indent+\"modification_time: \"+this.modification_time);\n\toutput.log(output.indent+\"timescale: \"+this.timescale);\n\toutput.log(output.indent+\"duration: \"+this.duration);\n\toutput.log(output.indent+\"rate: \"+this.rate);\n\toutput.log(output.indent+\"volume: \"+(this.volume>>8));\n\toutput.log(output.indent+\"matrix: \"+this.matrix.join(\", \"));\n\toutput.log(output.indent+\"next_track_id: \"+this.next_track_id);\n}\n\nBoxParser.tkhdBox.prototype.print = function(output) {\n\tBoxParser.FullBox.prototype.printHeader.call(this, output);\n\toutput.log(output.indent+\"creation_time: \"+this.creation_time);\n\toutput.log(output.indent+\"modification_time: \"+this.modification_time);\n\toutput.log(output.indent+\"track_id: \"+this.track_id);\n\toutput.log(output.indent+\"duration: \"+this.duration);\n\toutput.log(output.indent+\"volume: \"+(this.volume>>8));\n\toutput.log(output.indent+\"matrix: \"+this.matrix.join(\", \"));\n\toutput.log(output.indent+\"layer: \"+this.layer);\n\toutput.log(output.indent+\"alternate_group: \"+this.alternate_group);\n\toutput.log(output.indent+\"width: \"+this.width);\n\toutput.log(output.indent+\"height: \"+this.height);\n}// file:src/mp4box.js\n/*\n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar MP4Box = {};\n\nMP4Box.createFile = function (_keepMdatData, _stream) {\n\t/* Boolean indicating if bytes containing media data should be kept in memory */\n\tvar keepMdatData = (_keepMdatData !== undefined ? _keepMdatData : true);\n\tvar file = new ISOFile(_stream);\n\tfile.discardMdatData = (keepMdatData ? false : true);\n\treturn file;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.createFile = MP4Box.createFile;\n}\n","import { FactoryObject } from \"../../types/dash/Factory\";\nimport { ContentType, RequestHeader, RequestMethod, ResponseType } from \"../../types/dash/Net\";\n\nexport default class HTTPRequest {\n    sendRequestTime: number | null;\n    getResponseTime: number | null;\n    header: RequestHeader | null;\n    method: RequestMethod | null;\n    url:string = \"\";\n    responseType: ResponseType | null;\n    xhr?:XMLHttpRequest;\n    constructor(config: FactoryObject){\n        this.sendRequestTime = new Date().getTime();\n        this.url = config.url;\n        this.header = config.header;\n        this.method = config.method;\n        this.responseType = config.responseType;\n        this.xhr = config.xhr\n    }\n}","import { BaseConstructor } from \"../class/BaseConstructor\";\nimport { FactoryFunction, FactoryObject } from \"../types/dash/Factory\";\n\nconst FactoryMaker = (function () {\n  class FactoryMaker {\n    __class_factoryMap: { [props: string]: FactoryFunction<any> };\n    __single_factoryMap: { [props:string]: FactoryFunction<any> };\n    __single_instanceMap:{ [props:string]: any };\n    constructor() {\n      this.__class_factoryMap = {};\n      this.__single_factoryMap = {};\n      this.__single_instanceMap = {};\n    }\n\n    getClassFactory<T>(classConstructor: BaseConstructor<T>): FactoryFunction<T> {\n      let factory = this.__class_factoryMap[classConstructor.name] as FactoryFunction<T>;\n      let ctx = this;\n      if (!factory) {\n        // context为调用factory函数时传入的上下文，也就是函数的执行环境\n        factory = function (context?: FactoryObject) {\n          if (!context) context = {};\n          // 返回了一个create函数，需要手动调用\n          return {\n            create(...args: any[]) {\n              return ctx.merge<T>(classConstructor, context, ...args);\n            },\n          };\n        };\n        this.__class_factoryMap[classConstructor.name] = factory;\n      }\n      return factory;\n    }\n\n    getSingleFactory<T>(classConstructor:BaseConstructor<T>): FactoryFunction<T> {\n      let factory = this.__single_factoryMap[classConstructor.name];\n      let ctx = this;\n      if(!factory) {\n        factory = function(context) {\n          if(!context) context = {}\n          return {\n            getInstance(...args): T {\n              let instance = ctx.__single_instanceMap[classConstructor.name];\n              if(!instance) {\n                instance = new classConstructor({context},...args);\n                ctx.__single_instanceMap[classConstructor.name] = instance;\n              }\n              return instance;\n            },\n          }\n        }\n      }\n\n      return factory;\n    }\n\n    merge<T>(\n      classConstructor: BaseConstructor<T>,\n      context: FactoryObject,\n      ...args: any[]\n    ): T {\n      let extensionObject = context[classConstructor.name];\n      if (extensionObject) {\n        // 如果获取到的上下文的属性classConstructor.name对应的对象上具有覆写（override）属性，则意味着需要覆写classConstructor上对应的属性\n        if (extensionObject.override) {\n          let instance = new classConstructor({ context }, ...args);\n          let override = new extensionObject.instance({\n            context,\n            parent: instance,\n          });\n\n          for (let props in override) {\n            if (instance.hasOwnProperty(props)) {\n              instance[props] = parent[props];\n            }\n          }\n        } else {\n          // 如果不需要覆写，则意味着直接拿context中传入的构造函数来替换这个构造函数\n          return new extensionObject.instance({\n            context,\n          });\n        }\n      } else {\n        return new classConstructor({ context }, ...args);\n      }\n    }\n  }\n\n  return new FactoryMaker();\n})();\n\nexport default FactoryMaker;\n","import { FactoryFunction, FactoryObject } from \"../../types/dash/Factory\";\nimport { XHRConfig } from \"../../types/dash/Net\";\nimport FactoryMaker from \"../FactoryMaker\";\n\nclass XHRLoader {\n    private config: FactoryObject = {};\n    constructor(ctx: FactoryObject, ...args: any[]) {\n        this.config = ctx.context;\n        this.setup();\n    }\n\n    setup() { }\n\n    load(config: XHRConfig) {\n        let request = config.request;\n        let xhr: XMLHttpRequest;\n        if (request.xhr) {\n            xhr = request.xhr;\n        } else {\n            xhr = new XMLHttpRequest();\n            request.xhr = xhr;\n        }\n        xhr.open(request.method || \"get\", request.url);\n        xhr.responseType = request.responseType || \"arraybuffer\";\n        if (request.header) {\n            for (let key in request.header) {\n                xhr.setRequestHeader(key, request.header[key]);\n            }\n        }\n        xhr.onreadystatechange = (e) => {\n            if (xhr.readyState === 4) {\n                if ((xhr.status >= 200 && xhr.status < 300) || (xhr.status === 304)) {\n                    config.success && config.success.call(xhr, xhr.response);\n                } else {\n                    config.error && config.error.call(xhr, e);\n                }\n            }\n        }\n\n        xhr.onabort = (e) => {\n            config.abort && config.abort.call(xhr, e);\n        }\n\n        xhr.onerror = (e) => {\n            config.error && config.error.call(xhr, e);\n        }\n\n        xhr.onprogress = (e) => {\n            config.progress && config.progress.call(xhr, e);\n        }\n\n        xhr.send();\n    }\n}\n\nconst factory = FactoryMaker.getSingleFactory(XHRLoader);\nexport default factory;\nexport { XHRLoader }","import { Log } from \"mp4box\";\r\nimport HTTPRequest from \"../../dash/net/HTTPRequest\";\r\nimport XHRLoaderFactory from \"../../dash/net/XHRLoader\";\r\nimport { RequestHeader } from \"../../types/dash/Net\";\r\nclass DownLoader {\r\n    isActive: boolean = false;  //下载器是否处于活动状态\r\n    realtime: boolean = false;  // 是否实时下载\r\n    // chunkStart指的是请求的Chunk在整个文件中的初始偏移量\r\n    chunkStart: number = 0;\r\n    chunkSize: number = 0;\r\n    totalLength: number = 0;\r\n    chunkTimeout: number = 1000;   //请求超出时间\r\n    timeoutID: number = 0;      //超时计时器的ID\r\n    url: string = \"\";\r\n    callback: Function = null;   // 下载完成后的回调函数\r\n    eof: boolean = false;    // 是否以达到文件末尾\r\n    constructor(url?: string) {\r\n        this.url = url || '';\r\n    }\r\n\r\n    // 从开头去请求文件，也就是初始化文件的请求过程直到所有文件都请求完成\r\n    start() {\r\n        Log.info(\"Downloader\", \"Starting flie download\");\r\n        this.chunkStart = 0;\r\n        this.resume();\r\n        return this\r\n    }\r\n    // 重置下载器的状态\r\n    reset() {\r\n        this.chunkStart = 0;\r\n        this.totalLength = 0;\r\n        this.eof = false  //文件结束符？\r\n        return this\r\n    }\r\n    // 停止下载器，清除计时器和标记下载器为非活动状态\r\n    stop() {\r\n        clearTimeout(this.timeoutID);\r\n        this.timeoutID = 0;\r\n        this.isActive = false;\r\n        return this\r\n    }\r\n    // 恢复下载，resume和start不同的是resume可能是在文件的请求暂停后重新设置了chunkStart之后再去重新请求新的chunk\r\n    resume() {\r\n        Log.info(\"Downloader\", \"Resuming file download\");\r\n        this.isActive = true;\r\n        if (this.chunkSize === 0) {\r\n            this.chunkSize = Infinity;\r\n        }\r\n        this.getFile();\r\n        return this;\r\n    }\r\n    // 设置文件url\r\n    setUrl(_url: string): this {\r\n        this.url = _url;\r\n        return this;\r\n    }\r\n    // 设置是否为实时下载\r\n    setRealTime(_realtime: boolean): this {\r\n        this.realtime = _realtime;\r\n        return this;\r\n    }\r\n    // 设置每个chunk大小\r\n    setChunkSize(_size: number) {\r\n        this.chunkSize = _size;\r\n        return this;\r\n    }\r\n    // 设置数据块的起始位置\r\n    setChunkStart(_start: number) {\r\n        this.chunkStart = _start;\r\n        this.eof = false;\r\n        return this;\r\n    }\r\n    // 设置数据块超时时间\r\n    setInterval(_timeout: number) {\r\n        this.chunkTimeout = _timeout;\r\n        return this;\r\n    }\r\n    // 设置下载完成后的回调函数\r\n    setCallback(_callback: Function) {\r\n        this.callback = _callback;\r\n        return this;\r\n    }\r\n    // 获取文件的总长度\r\n    getFileLength() {\r\n        return this.totalLength;\r\n    }\r\n    // 检查下载器是否已停止\r\n    isStopped() {\r\n        return !this.isActive;\r\n    }\r\n\r\n    // 初始化http请求对象\r\n    initHTTPRequest(): HTTPRequest {\r\n        let xhr = new XMLHttpRequest();\r\n        let header: RequestHeader = {};\r\n        // 设置请求的范围，用于分段下载\r\n        (xhr as XMLHttpRequest & { [props: string]: any }).start = this.chunkStart;\r\n        if (this.chunkStart + this.chunkSize < Infinity) {\r\n            let endRange = 0;\r\n            // 请求范围从 chunkStart 到 (chunkStart + chunkSize -1)\r\n            let range = 'byter=' + this.chunkStart + '-';\r\n            endRange = this.chunkStart + this.chunkSize - 1;\r\n            range += endRange;\r\n            header.Range = range;\r\n        }\r\n\r\n        // 创建HTTP请求对象\r\n        let request = new HTTPRequest({\r\n            url: this.url,\r\n            header: header,\r\n            method: 'get',\r\n            xhr: xhr\r\n        });\r\n        return request\r\n\r\n    }\r\n    /** \r\n    * @description 发送网络请求，请求对应的媒体文件\r\n    */\r\n\r\n    getFile(){\r\n        let ctx = this;\r\n        // 如果已经请求完整个媒体文件，则设置 eof 为 true\r\n        if (ctx.totalLength && ctx.chunkStart >= ctx.totalLength) {\r\n            ctx.eof = true;\r\n        }\r\n\r\n        // 如果已经到达文件末尾，触发回调函数并传递 true\r\n        if (ctx.eof === true) {\r\n            Log.info(\"Downloader\", \"File download done.\");\r\n            ctx.callback(null, true);\r\n            return;\r\n        }\r\n\r\n        // 初始化HTTP请求对象\r\n        let request = this.initHTTPRequest();\r\n        let loader = XHRLoaderFactory({}).getInstance();\r\n\r\n        // 发送HTTP请求\r\n        loader.load({\r\n            request:request,\r\n            error: error,\r\n            success: success\r\n        })\r\n\r\n        function error(e) {\r\n            ctx.callback(null,false,true)\r\n        }\r\n\r\n        function success(res) {\r\n            let xhr = this;\r\n            let rangeReceived =xhr.getResponseHeader(\"Content-Range\");\r\n\r\n            // 如果没有获取到文件的总长度，解析 Content-Range 头部\r\n            if (!ctx.totalLength && rangeReceived) {\r\n                let sizeIndex;\r\n                sizeIndex = rangeReceived.indexOf(\"/\");\r\n                if (sizeIndex > -1) {\r\n                    ctx.totalLength = +rangeReceived.slice(sizeIndex + 1);\r\n                }\r\n            }\r\n\r\n\r\n            // 判断是否已到达文件末尾\r\n            ctx.eof = (xhr.response.byteLength ! == ctx.chunkSize) || (xhr.response.byteLength === ctx.totalLength);\r\n\r\n            // 获取数据并传递给回调函数\r\n            let buffer = xhr.response;\r\n            buffer.fileStart = xhr.start;\r\n            ctx.callback(buffer,ctx.eof);\r\n\r\n            // 如果下载器处于活动状态且文件未完全下载，设置下一次请求的超时定时器\r\n            if(ctx.isActive === true && ctx.eof === false) {\r\n                let timeoutDuration = ctx.chunkTimeout;\r\n                ctx.timeoutID = window.setTimeout(ctx.getFile.bind(ctx), timeoutDuration);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport {DownLoader}","import MP4Box ,{ MP4File, Log, MP4ArrayBuffer, MP4Info, MP4SourceBuffer, MP4MediaSource } from \"mp4box\"\r\nimport { FactoryObject } from \"../types/dash/Factory\";\r\nimport { MoovBoxInfo, MediaTrack } from \"../types/mp4\";\r\nimport { DownLoader } from \"./net/DownLoader\";\r\nclass MediaPlayer {\r\n    url: string;\r\n    video: HTMLVideoElement;\r\n    mp4boxfile: MP4File;\r\n    mediaSource: MediaSource;\r\n    mediaInfo: MoovBoxInfo;\r\n    downloader: DownLoader;\r\n    lastSeekTime: number = 0;\r\n    constructor(url:string, video:HTMLVideoElement) {\r\n        this.url = url;\r\n        this.video = video;\r\n        this.init()\r\n    }\r\n\r\n    init() {\r\n        this.mp4boxfile = MP4Box.createFile();  // 解析MP4文件\r\n        this.downloader = new DownLoader(this.url);  // 用于下载媒体文件\r\n        this.mediaSource = new MediaSource();  // 管理媒体数据的缓冲和播放\r\n        this.video.src = window.URL.createObjectURL(this.mediaSource);\r\n        this.initEvent();\r\n        this.loadFile();\r\n    }\r\n\r\n    initEvent() {\r\n        console.log('start--',this.mp4boxfile);\r\n        let ctx = this;\r\n        this.mp4boxfile.onMoovStart = function () {\r\n            Log.info(\"Application\", \"Starting to parse movie information\");\r\n        }\r\n        this.mp4boxfile.onReady = function (info: MoovBoxInfo) {\r\n            Log.info(\"Application\", \"Movie information received\");\r\n            ctx.mediaInfo = info;\r\n            console.log(info,'infoo');\r\n            // 是否存在分段数据,\r\n            if (info.isFragmented) {\r\n                // 持续时间 / 时间刻度\r\n                ctx.mediaSource.duration = info.fragment_duration / info.timescale;\r\n            } else {\r\n                ctx.mediaSource.duration = info.duration / info.timescale;\r\n            }\r\n            // 当请求到了MP4 Box的 moov box之后解析其中包含的视频的元信息，暂停发送进一步的http请求\r\n            ctx.stop();\r\n            // 初始化所有SourceBuffer\r\n            ctx.initializeAllSourceBuffers();\r\n        }\r\n\r\n        this.mp4boxfile.onSegment = function(id,user,buffer,sampleNum,is_last) { \r\n            //sb = sourcebuffer\r\n            var sb = user;\r\n\t\t    // saveBuffer(buffer, 'track-'+id+'-segment-'+sb.segmentIndex+'.m4s');\r\n            sb.segmentIndex++;\r\n            sb.pendingAppends.\r\n                push({ id: id, buffer: buffer, sampleNum: sampleNum, is_last: is_last });\r\n            ctx.onUpdateEnd.call(sb, true, false, ctx);\r\n        }\r\n\r\n        this.mp4boxfile.onItem = function(item) {\r\n            debugger\r\n        }\r\n        // 用户跳转\r\n        this.video.onseeking = (e) => {\r\n            var i, start, end;\r\n            var seek_info;\r\n            // 检查上一次跳跃操作的时间（this.lastSeekTime）是否与当前时间不同。如果不同，表示发生了跳跃操作\r\n            if (this.lastSeekTime !== this.video.currentTime) {\r\n                for (i = 0; i < this.video.buffered.length; i++) {\r\n                    start = this.video.buffered.start(i);\r\n                    end = this.video.buffered.end(i);\r\n                    if (this.video.currentTime >= start && this.video.currentTime <= end) {\r\n                        return;\r\n                    }\r\n                }\r\n                this.downloader.stop();\r\n                // 根据当前播放时间进行跳跃，获取跳跃后的信息。\r\n                seek_info = this.mp4boxfile.seek(this.video.currentTime, true);\r\n                this.downloader.setChunkStart(seek_info.offset);\r\n                this.downloader.resume();\r\n                this.lastSeekTime = this.video.currentTime;\r\n            }\r\n        }\r\n    }\r\n\r\n    start() {\r\n        this.downloader.setChunkStart(this.mp4boxfile.seek(0, true).offset);\r\n        // 启动MP4Box解析媒体文件\r\n        this.mp4boxfile.start();\r\n        // 恢复下载器，开始下载媒体数据。\r\n        this.downloader.resume();\r\n    }\r\n\r\n    reset() {\r\n\r\n    }\r\n    //停止当前还在发送中的http请求\r\n    stop() {\r\n        if (!this.downloader.isStopped()) {\r\n            this.downloader.stop();\r\n        }\r\n    }\r\n    /**\r\n     * @description 根据传入的媒体轨道的类型构建对应的SourceBuffer\r\n     * @param mp4track \r\n     */\r\n    addBuffer(mp4track: MediaTrack) {\r\n        var track_id = mp4track.id;\r\n        var codec = mp4track.codec;\r\n        var mime = 'video/mp4; codecs=\\\"'+ codec +'\\\"';\r\n        // var kind = mp4track.kind;\r\n        var sb: MP4SourceBuffer;\r\n        if (MediaSource.isTypeSupported(mime)) {\r\n            try {\r\n                console.log(\"MSE - SourceBuffer #\"+track_id,\"Creation with type '\"+mime+\"'\")\r\n                Log.info(\"MSE - SourceBuffer #\"+track_id,\"Creation with type '\"+mime+\"'\");\r\n                // 根据moov box中解析出来的track去一一创建对应的sourcebuffer\r\n                sb = this.mediaSource.addSourceBuffer(mime);\r\n                sb.addEventListener(\"error\", function(e) {\r\n                    Log.error(\"MSE SourceBuffer #\"+track_id , e);\r\n                });\r\n                sb.ms = this.mediaSource;\r\n                sb.id = track_id;\r\n                this.mp4boxfile.setSegmentOptions(track_id, sb, { nbSamples: 1000 });\r\n                sb.pendingAppends = [];\r\n            } catch (e) {\r\n                Log.error(\"MSE - SourceBuffer #\" + track_id,\"Cannot create buffer with type '\" + mime + \"'\" + e);\r\n            }\r\n        } else {\r\n            throw new Error(`你的浏览器不支持${mime}媒体类型`)\r\n        }\r\n    }\r\n\r\n    // 开始加载视频媒体文件\r\n    loadFile() {\r\n        let ctx = this;\r\n        if(this.mediaSource.readyState !== \"open\") {\r\n            this.mediaSource.onsourceopen = this.loadFile.bind(ctx);\r\n            return;\r\n        }\r\n        // 先写死，之后在修改\r\n        this.downloader.setInterval(500);\r\n\t    this.downloader.setChunkSize(1000000);\r\n\t    this.downloader.setUrl(this.url);\r\n        this.downloader.setCallback(\r\n            // end表示这一次的请求是否已经将整个视频文件加载过来\r\n            function(response: MP4ArrayBuffer, end: boolean, error: FactoryObject) {\r\n                var nextStart = 0;\r\n                if (response) {\r\n                    // 设置文件加载的进度条\r\n                    nextStart = ctx.mp4boxfile.appendBuffer(response, end);\r\n                }\r\n                if (end) {\r\n                    // 如果存在end的话则意味着所有的chunk已经加载完毕\r\n                    ctx.mp4boxfile.flush();\r\n                } else {\r\n                    ctx.downloader.setChunkStart(nextStart); \t\t\t\r\n                }\r\n                if (error) {\r\n                    ctx.reset();\r\n                }\r\n            }\r\n        )\r\n        // 开始下载媒体文件\r\n        this.downloader.start();\r\n        // 开始播放视频\r\n        this.video.play();\r\n    }\r\n    // 初始化 SourceBuffer\r\n    initializeAllSourceBuffers() {\r\n        if (this.mediaInfo) {\r\n            var info = this.mediaInfo;\r\n            // 遍历所有的媒体轨道\r\n            for (var i = 0; i < info.tracks.length; i++) {\r\n                var track = info.tracks[i];\r\n                // 为每个轨道调用 addBuffer 方法，以创建对应的 SourceBuffer。\r\n                this.addBuffer(track);\r\n            }\r\n            this.initializeSourceBuffers();\r\n        }\r\n    }\r\n\r\n    initializeSourceBuffers() {\r\n        // 获取初始化段（initSegs）的信息。\r\n        var initSegs = this.mp4boxfile.initializeSegmentation();\r\n        for (var i = 0; i < initSegs.length; i++) {\r\n            var sb = initSegs[i].user;\r\n            if (i === 0) {\r\n                sb.ms.pendingInits = 0;\r\n            }\r\n            this.onInitAppended = this.onInitAppended.bind(this);\r\n            sb.addEventListener(\"updateend\", this.onInitAppended);\r\n            Log.info(\"MSE - SourceBuffer #\" + sb.id, \"Appending initialization data\");\r\n            sb.appendBuffer(initSegs[i].buffer);\r\n            sb.segmentIndex = 0;\r\n            sb.ms.pendingInits++;\r\n        }\r\n    }\r\n    // 处理初始化数据追加的事件回调\r\n    onInitAppended(e:Event) {\r\n        console.log(this,'this');\r\n        let ctx = this;\r\n        var sb = e.target as MP4SourceBuffer;\r\n        // MediaSource 处于打开状态\r\n\t    if (sb.ms.readyState === \"open\") {\r\n            sb.sampleNum = 0;\r\n            // 防止重复触发\r\n            sb.removeEventListener('updateend', this.onInitAppended);\r\n            sb.addEventListener('updateend', this.onUpdateEnd.bind(sb, true, true, ctx));\r\n            /* In case there are already pending buffers we call onUpdateEnd to start appending them*/\r\n            this.onUpdateEnd.call(sb, false, true, ctx);\r\n            sb.ms.pendingInits--;\r\n            if (sb.ms.pendingInits === 0) {\r\n                this.start();\r\n            }\r\n        }\r\n    }\r\n\r\n    onUpdateEnd(isNotInit: boolean, isEndOfAppend: boolean, ctx: MediaPlayer) {\r\n        if (isEndOfAppend === true) {\r\n            if (isNotInit === true) {\r\n                // updateBufferedString(this, \"Update ended\");\r\n            }\r\n            if ((this as unknown as MP4SourceBuffer).sampleNum) {\r\n                ctx.mp4boxfile.releaseUsedSamples((this as unknown as MP4SourceBuffer).id, (this as unknown as MP4SourceBuffer).sampleNum);\r\n                delete (this as unknown as MP4SourceBuffer).sampleNum;\r\n            }\r\n            // 如果媒体文件的结尾标志 (is_last) 被设置，表示媒体流已结束，触发 endOfStream\r\n            if ((this as unknown as MP4SourceBuffer).is_last) {\r\n                (this as unknown as MP4SourceBuffer).ms.endOfStream();\r\n            }\r\n        }\r\n        if ((this as unknown as MP4SourceBuffer).ms.readyState === \"open\" && (this as unknown as MP4SourceBuffer).updating === false && (this as unknown as MP4SourceBuffer).pendingAppends.length > 0) {\r\n            var obj = (this as unknown as MP4SourceBuffer).pendingAppends.shift();\r\n            (this as unknown as MP4SourceBuffer).sampleNum = obj.sampleNum;\r\n            (this as unknown as MP4SourceBuffer).is_last = obj.is_last;\r\n            (this as unknown as MP4SourceBuffer).appendBuffer(obj.buffer);\r\n        }\r\n    }\r\n}\r\nexport default MediaPlayer;","export function getFileExtension(file:string): string | never {\r\n    for(let i = file.length - 1; i>=0 ;i--) {\r\n        if(file[i] ==='.') {\r\n            return file.slice(i+1,file.length);\r\n        }\r\n    }\r\n    throw new Error(\"传入的文件没有扩展名\")\r\n}","import { FactoryObject } from \"../../types/dash/Factory\";\nimport FactoryMaker from \"../FactoryMaker\";\nclass EventBus {\n    private config: FactoryObject = {};\n    private __events: {[props:string]: Array<{cb:Function,scope:FactoryObject}>} = {};\n    constructor(ctx:FactoryObject,...args:any[]) {\n        this.config = ctx.context;\n        this.setup();\n    }\n\n    setup() {\n\n    }\n\n    on(type: string,listener:Function,scope:FactoryObject): void | never {\n        if(!this.__events[type]) {\n            this.__events[type] = [{\n                cb: listener,\n                scope\n            }]\n            return;\n        }\n        if(this.__events[type].filter(event=>{\n            return event.cb === listener && event.scope === scope;\n        }).length > 0) {\n            throw new Error(\"请勿重复绑定监听器\");\n        }\n        this.__events[type].push({\n            cb:listener,\n            scope\n        })\n    }\n\n    off(type:string,listener:Function,scope:FactoryObject): void | never {\n        if(!this.__events[type] || this.__events[type].filter(event => {\n            return event.cb === listener && event.scope === scope;\n        })) {\n            throw new Error(\"不存在该事件\");\n        }\n        this.__events[type] = this.__events[type].filter(event => {\n            return event.cb === listener && event.scope === scope;\n        })\n    }\n\n    trigger(type:string,...payload:any[]): void | never {\n        if(this.__events[type]) {\n            this.__events[type].forEach(event=>{\n                event.cb.call(event.scope,...payload);\n            })\n        }\n    }\n}\n\nconst factory = FactoryMaker.getSingleFactory(EventBus);\nexport default factory;\nexport {EventBus}","export const EventConstants = {\n    MANIFEST_LOADED: \"manifestLoaded\",\n    MANIFEST_PARSE_COMPLETED:\"manifestParseCompleted\",\n    SOURCE_ATTACHED:\"sourceAttached\",\n    SEGEMTN_LOADED:\"segmentLoaded\",\n    SEGEMTN_REQUEST: \"segmentRequest\",\n    BUFFER_APPENDED:\"bufferAppended\",\n    SEGMENT_CONSUMED:\"segmentConsumed\",\n    MEDIA_PLAYBACK_FINISHED:\"mediaPlaybackFinished\",\n    FIRST_REQUEST_COMPLETED:\"firstRequestCompleted\"\n}","import { FactoryObject } from \"../../types/dash/Factory\";\nimport { RequestType, URLConfig, XHRConfig } from \"../../types/dash/Net\";\nimport EventBusFactory, { EventBus } from \"../event/EventBus\";\nimport { EventConstants } from \"../event/EventConstants\";\nimport FactoryMaker from \"../FactoryMaker\";\nimport HTTPRequest from \"./HTTPRequest\";\nimport XHRLoaderFactory, {XHRLoader} from \"./XHRLoader\";\n\nclass URLLoader {\n    private config: FactoryObject = {};\n    private xhrLoader:XHRLoader;\n    private eventBus: EventBus;\n    private xhrArray: HTTPRequest[] = [];\n    constructor(ctx:FactoryObject,...args:any[]) {\n        this.config = ctx.context;\n        this.setup();\n    }\n    private _loadManifest(config:XHRConfig) {\n        this.xhrLoader.load(config);\n    }\n\n    private _loadSegment(config:XHRConfig) {\n        this.xhrLoader.load(config);\n    }\n\n    setup() {\n        this.xhrLoader = XHRLoaderFactory({}).getInstance();\n        this.eventBus = EventBusFactory({}).getInstance();\n    }\n    // 每调用一次load函数就发送一次请求\n    load(config: URLConfig,type: RequestType):Promise<any> | void {\n        //一个HTTPRequest对象才对应一个请求\n        let request = new HTTPRequest(config);\n        let ctx = this;\n        this.xhrArray.push(request);\n        if(type === \"Manifest\") {\n            ctx._loadManifest({\n                request: request,\n                success: function(data) {\n                    request.getResponseTime = new Date().getTime();\n                    ctx.eventBus.trigger(EventConstants.MANIFEST_LOADED, data);\n                },\n                error: function(error) {\n                    console.log(error);\n                },\n                load: function() {\n                    ctx.deleteRequestFromArray(request,ctx.xhrArray);\n                },\n                abort: function() {\n                    ctx.deleteRequestFromArray(request,ctx.xhrArray);\n                }\n            })\n        } else if(type === \"Segment\") {\n            return new Promise((res,rej)=>{\n                ctx._loadSegment({\n                    request:request,\n                    success:function(data) {\n                        res(data);\n                    },\n                    error:function(error) {\n                        rej(error);\n                    },\n                    load:function() {\n                        ctx.deleteRequestFromArray(request,ctx.xhrArray);\n                    },\n                    abort: function(e) {\n                        ctx.deleteRequestFromArray(request,ctx.xhrArray);\n                    }\n                })\n            })\n        }\n    }\n\n    abortAllXHR() {\n        this.xhrArray.forEach(xhr=>{\n            if(xhr.xhr) {\n                xhr.xhr.abort();\n            }\n        })\n    }\n\n    deleteRequestFromArray(request:HTTPRequest,array:HTTPRequest[]) {\n        let index = array.indexOf(request);\n        if(index !== -1) {\n            array.splice(index,1);\n        }\n    }\n}\n\nconst factory = FactoryMaker.getSingleFactory(URLLoader);\nexport default factory;\nexport {URLLoader};","import {\r\n    AdaptationSet, \r\n    Initialization,\r\n    Mpd,\r\n    MpdDocument,\r\n    Period,\r\n    Representation,\r\n    SegmentBase,\r\n    SegmentList,\r\n    SegmentTemplate,\r\n    SegmentURL,\r\n} from \"./MpdFile\";\r\n\r\nexport enum DOMNodeTypes {\r\n    ELEMENT_NODE = 1,\r\n    TEXT_NODE =3,\r\n    CDATA_SECTION_NODE = 4,\r\n    COMMENT_NODE = 8,\r\n    DOCUMENT_NODE = 9,\r\n}\r\n\r\nexport type ManifestObjectNode = {\r\n    Document: MpdDocument;  \r\n    Mpd: Mpd;\r\n    Period: Period;\r\n    AdaptationSet: AdaptationSet;\r\n    Representation: Representation;\r\n    SegmentTemplate: SegmentTemplate;\r\n    SegmentList: SegmentList;\r\n    SegmentBase: SegmentBase;\r\n    SegmentURL: SegmentURL;\r\n    Initialization: Initialization;\r\n    [props: string]: { [props: string]: any };\r\n}","import { FactoryObject } from \"../../types/dash/Factory\";\nimport { AdaptationSet, Mpd, Period, Representation, SegmentTemplate } from \"../../types/dash/MpdFile\";\nimport FactoryMaker from \"../FactoryMaker\";\nimport { DashParser } from \"./DashParser\";\n/**\n * @description 该类仅用于处理MPD文件中具有SegmentTemplate此种情况\n */\nclass SegmentTemplateParser { \n    private config: FactoryObject;\n    constructor(ctx:FactoryObject,...args:any[]) {\n        this.config = ctx.context;\n        this.setup();\n    }\n\n    setup(){}\n\n    parse(Mpd: Mpd | Period | AdaptationSet) {\n        this.parseNodeSegmentTemplate(Mpd as Mpd);\n    } \n\n    parseNodeSegmentTemplate(Mpd:Mpd) {\n        Mpd[\"Period_asArray\"].forEach(Period=>{\n          Period[\"AdaptationSet_asArray\"].forEach(AdaptationSet=>{\n            AdaptationSet[\"Representation_asArray\"].forEach(Representation=>{\n              let SegmentTemplate = Representation[\"SegmentTemplate\"];\n              if(SegmentTemplate) {\n                this.generateInitializationURL(SegmentTemplate,Representation);\n                this.generateMediaURL(SegmentTemplate,Representation);\n              }\n            })\n          })\n        })\n    }\n    \n    generateInitializationURL(SegmentTemplate:SegmentTemplate,parent:Representation) {\n        let templateReg:RegExp = /\\$(.+?)\\$/ig;\n        let initialization = SegmentTemplate.initialization;\n        let r;\n        let formatArray = new Array<string>();\n        let replaceArray = new Array<string>();\n        if(templateReg.test(initialization)) {\n          templateReg.lastIndex = 0;\n          while(r = templateReg.exec(initialization)) {\n            formatArray.push(r[0]);\n            if(r[1] === \"Number\") {\n              r[1] = \"1\";\n            } else if(r[1] === \"RepresentationID\") {\n              r[1] = parent.id!;\n            }\n            replaceArray.push(r[1]);\n          }    \n          let index = 0;\n          while(index < replaceArray.length) {\n            initialization = initialization.replace(formatArray[index],replaceArray[index]);\n            index++;\n          }\n        }\n        parent.initializationURL = initialization;\n    }\n    \n    generateMediaURL(SegmentTemplate:SegmentTemplate,parent:Representation) {\n        let templateReg:RegExp = /\\$(.+?)\\$/ig;\n        let media = SegmentTemplate.media;\n        let r;\n        let formatArray = new Array<string>();\n        let replaceArray = new Array<string>();\n        parent.mediaURL = new Array<string>();\n        if(templateReg.test(media)) {\n            templateReg.lastIndex = 0;\n            while(r = templateReg.exec(media)) {\n                formatArray.push(r[0]);\n                if(r[1] === \"Number\") {\n                    r[1] = \"@Number@\";\n                } else if(r[1] === \"RepresentationID\") {\n                    r[1] = parent.id;\n                }\n                replaceArray.push(r[1]);\n            }\n        }\n        \n        let index = 0;\n        while(index < replaceArray.length) {\n            media = media.replace(formatArray[index],replaceArray[index]);\n            index++;\n        }\n        for(let i = 1;i <= Math.ceil(parent.duration / parent.segmentDuration); i++) {\n            let s = media;\n            while(s.includes(\"@Number@\")) {\n                s = s.replace(\"@Number@\",`${i}`);\n            }\n            parent.mediaURL.push(s);\n        }\n    }\n}\n\nconst factory = FactoryMaker.getSingleFactory(SegmentTemplateParser);\nexport default factory;\nexport {SegmentTemplateParser};\n\n","import { FactoryFunction, FactoryObject } from \"../../types/dash/Factory\";\nimport FactoryMaker from \"../FactoryMaker\";\n\nclass URLUtils {\n    private config:FactoryObject;\n    constructor(ctx:FactoryObject,...args:any[]) {\n        this.config = ctx.context;\n    }\n\n    setup(){}\n\n    resolve(...urls:string[]): string {\n        let index = 0;\n        let str = \"\";\n        while(index < urls.length) {\n            let url = urls[index];\n            // 如果url不以/或者./,../这种形式开头的话\n            if(/^(?!(\\.|\\/))/.test(url)) {\n                if(str[str.length - 1] !== '/' && str !== \"\") {\n                    str += '/';\n                }\n            } else if(/^\\/.+/.test(url)) {\n                // 如果url以/开头\n                if(str[str.length - 1] === \"/\") {\n                    url = url.slice(1);\n                }\n            } else if(/^(\\.).+/.test(url)) {\n                //TODO： 如果url以 ./,../,../../之类的形式开头\n            }\n            str += url;\n            index ++;\n        }\n        return str;\n    }\n\n    sliceLastURLPath(url:string): string {\n        for(let i = url.length - 1;i>=0;i--) {\n            if(url[i] === \"/\") {\n                return url.slice(0,i);\n            }\n        }\n        return url;\n    }\n\n}\n\nconst factory = FactoryMaker.getSingleFactory(URLUtils);\nexport default factory;\nexport {URLUtils};","import { DOMNodeTypes, ManifestObjectNode } from \"../../types/dash/DomNodeTypes\";\nimport { FactoryObject } from \"../../types/dash/Factory\";\nimport { Mpd, SegmentTemplate } from \"../../types/dash/MpdFile\";\nimport SegmentTemplateParserFactory,{SegmentTemplateParser} from \"./SegmentTemplateParser\";\nimport FactoryMaker from \"../FactoryMaker\";\nimport { parseDuration, switchToSeconds } from \"../../utils/format\";\nimport EventBusFactory, { EventBus } from \"../event/EventBus\";\nimport { EventConstants } from \"../event/EventConstants\";\nimport URLUtilsFactory, { URLUtils } from \"../utils/URLUtils\";\nclass DashParser {\n  private config: FactoryObject = {};\n  private segmentTemplateParser:SegmentTemplateParser;\n  private eventBus: EventBus;\n  private mpdURL: string;\n  private URLUtils:URLUtils;\n  constructor(ctx: FactoryObject, ...args: any[]) {\n    this.config = ctx.context;\n    this.setup();\n    this.initialEvent();\n  }\n\n  setup() {\n    this.segmentTemplateParser = SegmentTemplateParserFactory().getInstance();\n    this.eventBus = EventBusFactory().getInstance();\n    this.URLUtils = URLUtilsFactory().getInstance();\n  }\n\n  initialEvent() {\n    this.eventBus.on(EventConstants.SOURCE_ATTACHED, this.onSourceAttached, this);\n  }\n\n  string2xml(s: string): Document {\n    let parser = new DOMParser();\n    return parser.parseFromString(s, \"text/xml\");\n  }\n\n  // 解析请求到的xml类型的文本字符串，生成MPD对象,方便后续的解析\n  parse(manifest: string): ManifestObjectNode[\"MpdDocument\"] | ManifestObjectNode[\"Mpd\"] {\n    let xml = this.string2xml(manifest);\n    let Mpd;\n    if(this.config.override) {\n      Mpd = this.parseDOMChildren(\"Mpd\", xml);\n    } else {\n      Mpd = this.parseDOMChildren(\"MpdDocument\",xml);\n    }\n    \n    this.mergeNodeSegementTemplate(Mpd);\n    this.setResolvePowerForRepresentation(Mpd);\n    this.setDurationForRepresentation(Mpd);\n    this.setSegmentDurationForRepresentation(Mpd);\n    this.setBaseURLForMpd(Mpd);\n    this.segmentTemplateParser.parse(Mpd);\n    console.log(Mpd);\n    return Mpd;\n  }\n\n  parseDOMChildren<T extends string>(name:T,node: Node): ManifestObjectNode[T] {\n    //如果node的类型为文档类型\n    if (node.nodeType === DOMNodeTypes.DOCUMENT_NODE) {\n      let result = {\n        tag: node.nodeName,\n        __children: [],\n      };\n      // 文档类型的节点一定只有一个子节点\n      for (let index in node.childNodes) {\n        if(node.childNodes[index].nodeType === DOMNodeTypes.ELEMENT_NODE) {\n          // 如果在配置指定需要忽略根节点的话，也就是忽略MpdDocument节点\n          if(!this.config.ignoreRoot) {\n            result.__children[index] = this.parseDOMChildren(\n              node.childNodes[index].nodeName,node.childNodes[index]\n            );\n            result[node.childNodes[index].nodeName] = this.parseDOMChildren(\n              node.childNodes[index].nodeName,node.childNodes[index]\n            );\n          } else {\n            return this.parseDOMChildren(node.childNodes[index].nodeName,node.childNodes[index]);\n          }\n        }\n      }\n      return result;\n    } else if (node.nodeType === DOMNodeTypes.ELEMENT_NODE) {\n      let result: FactoryObject = {\n        tag: node.nodeName,\n        __chilren: [],\n      };\n      // 1.解析node的子节点\n      for (let index = 0; index<node.childNodes.length; index++) {\n        let child = node.childNodes[index];\n        result.__chilren[index] = this.parseDOMChildren(child.nodeName,child);\n        if (!result[child.nodeName]) {\n          result[child.nodeName] = this.parseDOMChildren(child.nodeName,child);\n          continue;\n        }\n        if (result[child.nodeName] && !Array.isArray(result[child.nodeName])) {\n          result[child.nodeName] = [result[child.nodeName]];\n        }\n        if (result[child.nodeName]) {\n          result[child.nodeName].push(this.parseDOMChildren(child.nodeName,child));\n        }\n      }\n      // 2. 将node中的具有多个相同标签的子标签合并为一个数组\n      for (let key in result) {\n        if (key !== \"tag\" && key !== \"__children\") {\n          result[key + \"_asArray\"] = Array.isArray(result[key])\n            ? [...result[key]]\n            : [result[key]];\n        }\n      }\n      // 3.如果该Element节点中含有text节点，则需要合并为一个整体\n      result[\"#text_asArray\"] && result[\"#text_asArray\"].forEach(text=>{\n        result.__text = result.__text || \"\";\n        result.__text += `${text.text}/n`\n      })\n      // 4.解析node上挂载的属性\n      for (let prop of (node as Element).attributes) {\n        result[prop.name] = prop.value;\n      }\n      \n      return result;\n    } else if (node.nodeType === DOMNodeTypes.TEXT_NODE) {\n      return {\n        tag: \"#text\",\n        text: node.nodeValue\n      }\n    }\n  }\n\n  mergeNode(node:FactoryObject,compare:FactoryObject) {\n    if(node[compare.tag]) {\n      let target = node[`${compare.tag}_asArray`];\n      target.forEach(element => {\n        for(let key in compare) {\n          if(!element.hasOwnProperty(key)) {\n            element[key] = compare[key];\n          }\n        }\n      });\n\n    } else {\n      node[compare.tag] = compare;\n      node.__children = node.__children || [];\n      node.__children.push(compare);\n      node[`${compare.tag}__asArray`] = [compare];\n    }\n  }\n\n  mergeNodeSegementTemplate(Mpd:Mpd) {\n    let segmentTemplate: SegmentTemplate | null = null;\n    Mpd[\"Period_asArray\"].forEach(Period=>{\n      if(Period[\"SegmentTemplate_asArray\"]) {\n        segmentTemplate = Period[\"SegmentTemplate_asArray\"][0];\n      }\n      Period[\"AdaptationSet_asArray\"].forEach(AdaptationSet=>{\n        let template = segmentTemplate;\n        if(segmentTemplate) {\n          this.mergeNode(AdaptationSet,segmentTemplate);\n        }\n        if(AdaptationSet[\"SegmentTemplate_asArray\"]) {\n          segmentTemplate = AdaptationSet[\"SegmentTemplate_asArray\"][0];\n        }\n        AdaptationSet[\"Representation_asArray\"].forEach(Representation=>{\n          if(segmentTemplate) {\n            this.mergeNode(Representation,segmentTemplate);\n          }\n        })\n        segmentTemplate = template;\n      })\n    })\n  }\n\n  setBaseURLForMpd(Mpd:Mpd) {\n    Mpd.baseURL = this.URLUtils.sliceLastURLPath(this.mpdURL);\n  }\n\n  //给每个Representation上挂载分辨率属性\n  setResolvePowerForRepresentation(Mpd:Mpd) {\n    Mpd[\"Period_asArray\"].forEach(Period=>{ \n      Period[\"AdaptationSet_asArray\"].forEach(AdaptationSet=>{\n        if(AdaptationSet.mimeType === \"video/mp4\") {\n          AdaptationSet[\"Representation_asArray\"].forEach(Representation=>{\n            if(Representation.width && Representation.height) {\n              Representation.resolvePower = `${Representation.width}*${Representation.height}`;\n            }\n          })\n        } else if(AdaptationSet.mimeType === \"audio/mp4\") {\n          AdaptationSet[\"Representation_asArray\"].forEach(Representation=>{\n            if(Representation.audioSamplingRate) {\n              Representation.resolvePower = Representation.audioSamplingRate;\n            }\n          })\n        }\n        \n      })\n    })\n  }\n\n  getSegmentDuration(Mpd:Mpd,streamId:number): number | never {\n    let Period = Mpd[\"Period_asArray\"][streamId];\n    if(!Period) {\n      throw new Error(\"传入的流不存在\");\n    }\n    let segmentDuration = 0;\n    Period[\"AdaptationSet_asArray\"].forEach(AdaptationSet=>{\n      AdaptationSet[\"Representation_asArray\"].forEach(Representation=>{\n        if(Representation.segmentDuration) {\n          segmentDuration = Number(Representation.segmentDuration);\n        }\n      })\n    })\n    return segmentDuration;\n  }\n\n  getTotalDuration(Mpd:Mpd): number | never {\n    let totalDuration = 0;\n    let MpdDuration = -1;\n    if(Mpd.mediaPresentationDuration) {\n      MpdDuration = switchToSeconds(parseDuration(Mpd.mediaPresentationDuration));\n    }\n    // MPD文件的总时间要么是由Mpd标签上的availabilityStartTime指定，要么是每一个Period上的duration之和\n    if(MpdDuration < 0) {\n      Mpd.forEach(Period => {\n        if(Period.duration) {\n          totalDuration += switchToSeconds(parseDuration(Period.duration));\n        } else {\n          throw new Error(\"MPD文件格式错误\")\n        }\n      })\n    } else {\n      totalDuration = MpdDuration;\n    }\n    return totalDuration;\n  }\n\n  // 给每一个Representation对象上挂载duration属性，此处的duration指的是Representation所属的Period所代表的媒体的总时长\n  setDurationForRepresentation(Mpd: Mpd) {\n    //1. 如果只有一个Period\n    if(Mpd[\"Period_asArray\"].length === 1) {\n        let totalDuration = this.getTotalDuration(Mpd);\n        Mpd[\"Period_asArray\"].forEach(Period=>{\n          Period.duration = Period.duration || totalDuration;\n          Period[\"AdaptationSet_asArray\"].forEach(AdaptationSet=>{\n            AdaptationSet.duration = totalDuration;\n            AdaptationSet[\"Representation_asArray\"].forEach(Representation=>{\n              Representation.duration = totalDuration;\n            })\n          })\n        })\n      } else {\n        Mpd[\"Period_asArray\"].forEach(Period=>{\n          if(!Period.duration) {\n            throw new Error(\"MPD文件格式错误\");\n          }\n          let duration = Period.duration;\n          Period[\"AdaptationSet_asArray\"].forEach(AdaptationSet=>{\n            AdaptationSet.duration = duration;\n            AdaptationSet[\"Representation_asArray\"].forEach(Representation=>{\n              Representation.duration = duration;\n            })\n          })\n        })\n      }\n  }\n\n  // 给每一个Rpresentation对象上挂载segmentDuration属性，用来标识该Representation每一个Segment的时长\n  setSegmentDurationForRepresentation(Mpd:Mpd) {\n    let maxSegmentDuration = switchToSeconds(parseDuration(Mpd.maxSegmentDuration));\n    Mpd[\"Period_asArray\"].forEach(Period => {\n        Period[\"AdaptationSet_asArray\"].forEach(AdaptationSet => {\n          AdaptationSet[\"Representation_asArray\"].forEach(Representation => {\n            if(Representation[\"SegmentTemplate\"]) {\n                if((Representation[\"SegmentTemplate\"] as SegmentTemplate).duration) {\n                    let duration = (Representation[\"SegmentTemplate\"] as SegmentTemplate).duration\n                    let timescale = (Representation[\"SegmentTemplate\"] as SegmentTemplate).timescale || 1;\n                    Representation.segmentDuration = (duration / timescale).toFixed(1);\n                } else {\n                    if(maxSegmentDuration) {\n                        Representation.segmentDuration = maxSegmentDuration;\n                    } else {\n                        throw new Error(\"MPD文件格式错误\")\n                    }\n                }\n            }\n          })\n        })\n      })\n  }\n\n  onSourceAttached(url:string) {\n    this.mpdURL = url;\n  }\n}\n\nconst factory = FactoryMaker.getSingleFactory(DashParser);\nexport default factory;\nexport {DashParser};","import { FactoryObject } from \"../../types/dash/Factory\";\nimport { Path } from \"../../types/dash/Location\";\nimport { Mpd } from \"../../types/dash/MpdFile\";\nimport FactoryMaker from \"../FactoryMaker\";\nclass URLNode {\n    url:string | null;\n    children: URLNode[] = [];\n    constructor(url:string | null) {\n        this.url = url || null;\n    }\n\n    setChild(index:number,child:URLNode) {\n        this.children[index] = child;\n    }\n\n    getChild(index:number): URLNode {\n        return this.children[index];\n    }\n}\n\nclass BaseURLParser {\n    private config: FactoryObject = {};\n    constructor(ctx:FactoryObject,...args:any[]) {\n        this.config = ctx.context;\n        this.setup();\n    }\n\n    setup() {}\n\n    parseManifestForBaseURL(manifest:Mpd):URLNode {\n        let root = new URLNode(null);\n        //1. 首先遍历每一个Period，规定BaseURL节点只可能出现在Period,AdaptationSet,Representation中\n        manifest[\"Period_asArray\"].forEach((p,pId)=>{\n            let url = null;\n            if(p[\"BaseURL_asArray\"]) {\n                url = p[\"BaseURL_asArray\"][0];\n            }\n            let periodNode = new URLNode(url);\n            root.setChild(pId,periodNode);\n            p[\"AdaptationSet_asArray\"].forEach((a,aId)=>{\n                let url = null;\n                if(a[\"BaseURL_asArray\"]) {\n                    url = a[\"BaseURL_asArray\"][0];\n                }\n                let adaptationSetNode = new URLNode(url);\n                periodNode.setChild(aId,adaptationSetNode);\n\n                a[\"Representation_asArray\"].forEach((r,rId)=>{\n                    let url = null;\n                    if(r[\"BaseURL_asArray\"]) {\n                        url = r[\"BaseURL_asArray\"][0];\n                    }\n                    let representationNode = new URLNode(url);\n                    adaptationSetNode.setChild(rId,representationNode);\n                })\n            })\n        })\n        return root;\n    }\n\n    getBaseURLByPath(path:Path, urlNode:URLNode): string {\n        let baseURL = \"\";\n        let root = urlNode;\n        for(let i = 0;i<path.length;i++) {\n            if(path[i] >= root.children.length || path[i] < 0) {\n                throw new Error(\"传入的路径不正确\");\n            }\n            if(root.children[path[i]].url) {\n                baseURL += root.children[path[i]].url;\n            }\n            root = root.children[path[i]];\n        }\n        if(root.children.length > 0) {\n            throw new Error(\"传入的路径不正确\");\n        }\n        return baseURL;\n    }\n}\nconst factory = FactoryMaker.getSingleFactory(BaseURLParser);\nexport default factory;\nexport { BaseURLParser,URLNode};","import { FactoryFunction, FactoryObject } from \"../../types/dash/Factory\";\r\nimport { Mpd } from \"../../types/dash/MpdFile\";\r\nimport { VideoBuffers  } from \"../../types/dash/Stream\"\r\nimport FactoryMaker from \"../FactoryMaker\";\r\nimport DashParserFactory, { DashParser } from \"../parser/DashParser\"\r\n\r\nclass TimeRangeUtils {\r\n    private config: FactoryObject = {};\r\n    private dashParser: DashParser;\r\n    constructor(ctx:FactoryObject,...args:any[]){\r\n        this.config = ctx.context;\r\n        this.setup();\r\n    }\r\n\r\n    setup(){\r\n        this.dashParser = DashParserFactory().getInstance();\r\n    }\r\n    /**\r\n     * @description 返回特定stream之前的所有stream的时间总和\r\n     * @param streamId \r\n     * @param Mpd \r\n     * @returns {number} Number\r\n     */\r\n    getSummaryTimeBeforeStream(streamId:number,Mpd:Mpd): number {\r\n        if(streamId === 0) return 0;\r\n        let Period = Mpd[\"Period_asArray\"];\r\n        let sum = 0;\r\n        for(let i = 0; i<streamId; i++) {\r\n            sum += Period[i].duration;\r\n        }\r\n        return sum;\r\n    }\r\n\r\n    getOffestTimeOfMediaSegment(streamId:number,mediaId:number,Mpd:Mpd): number {\r\n        let beforeTime = this.getSummaryTimeBeforeStream(streamId,Mpd);\r\n        let segmentDuration = this.dashParser.getSegmentDuration(Mpd,streamId);\r\n        return beforeTime + segmentDuration * (mediaId + 1);\r\n    }\r\n\r\n    inVideoBuffered(time:number,ranges:VideoBuffers): boolean {\r\n        for(let range of ranges) {\r\n            if(time >= range.start && time <= range.end) return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    inSpecificStreamRange(streamId:number,currentTime:number,Mpd:Mpd): boolean{\r\n        let totalTime = this.dashParser.getTotalDuration(Mpd);\r\n        if(currentTime > totalTime) return false;\r\n        let start = this.getSummaryTimeBeforeStream(streamId,Mpd);\r\n        let end = start + Mpd[\"Period_asArray\"][streamId].duration;\r\n        if(currentTime < start || currentTime > end) return false;\r\n        return true;\r\n    }\r\n\r\n    getSegmentAndStreamIndexByTime(streamId: number, currentTime:number, Mpd:Mpd): \r\n        [number,number] | never \r\n    {\r\n        if(this.inSpecificStreamRange(streamId,currentTime,Mpd)) {\r\n            let segmentDuration = this.dashParser.getSegmentDuration(Mpd,streamId);\r\n            console.log(segmentDuration,'segmentDuration')\r\n            let index = Math.floor(currentTime / segmentDuration);\r\n            return [streamId,index];\r\n        } else {\r\n            let totalTime = this.dashParser.getTotalDuration(Mpd);\r\n            if(currentTime > totalTime) {\r\n                throw new Error(\"传入的当前时间大于媒体的总时长\");\r\n            }\r\n            let sum = 0;\r\n            for(let i = 0 ;i<Mpd[\"Period_asArray\"].length;i++) {\r\n                let Period = Mpd[\"Period_asArray\"][i]\r\n                sum += Period.duration;\r\n                if(sum > currentTime) {\r\n                    let segmentDuration = this.dashParser.getSegmentDuration(Mpd,i);\r\n                    let index = Math.floor(currentTime / segmentDuration);\r\n                    return [i,index];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst factory = FactoryMaker.getSingleFactory(TimeRangeUtils);\r\nexport default factory;\r\nexport { TimeRangeUtils };","import { FactoryObject } from \"../../types/dash/Factory\";\nimport { AdaptationSet, Mpd } from \"../../types/dash/MpdFile\";\nimport { \n    AdaptationSetAudioSegmentRequest, \n    AdaptationSetVideoSegmentRequest, \n    MpdSegmentRequest, \n    PeriodSegmentRequest, \n    PlayerBuffer\n} from \"../../types/dash/Net\";\nimport FactoryMaker from \"../FactoryMaker\";\nimport BaseURLParserFactory,{ BaseURLParser, URLNode } from \"../parser/BaseURLParser\";\nimport URLUtilsFactory, { URLUtils } from \"../utils/URLUtils\";\nimport EventBusFactory, { EventBus } from \"../event/EventBus\";\nimport { EventConstants } from \"../event/EventConstants\";\nimport URLLoaderFactory, { URLLoader } from \"../net/URLLoader\";\nimport TimeRangeUtilsFactory, { TimeRangeUtils } from \"../utils/TimeRangeUtils\";\nimport { VideoBuffers } from \"../../types/dash/Stream\";\nclass StreamController {\n    private config:FactoryObject = {};\n    private baseURLParser: BaseURLParser;\n    private baseURLPath: URLNode;\n    private URLUtils:URLUtils;\n    private eventBus: EventBus;\n    private urlLoader: URLLoader;\n    private timeRangeUtils:TimeRangeUtils;\n    // 音视频的分辨率\n    private videoResolvePower: string = \"1920*1080\";\n    private audioResolvePower: string = \"48000\"\n    // 和索引相关的变量\n    private mediaId: number = 0;\n    private streamId: number = 0;\n    // 整个MPD文件所需要发送请求的结构体对象\n    private firstRequestNumber: number;\n    private segmentRequestStruct:MpdSegmentRequest;\n    private Mpd: Mpd;\n    constructor(ctx:FactoryObject,...args:any[]) {\n        this.config = ctx.context;\n        this.firstRequestNumber = this.config.num || 23;\n        this.setup();\n        this.initialEvent();\n    }\n\n    setup(){\n        this.baseURLParser = BaseURLParserFactory().getInstance();\n        this.URLUtils = URLUtilsFactory().getInstance();\n        this.eventBus = EventBusFactory().getInstance();\n        this.urlLoader = URLLoaderFactory().getInstance();\n        this.timeRangeUtils = TimeRangeUtilsFactory().getInstance();\n    }\n\n    initialEvent() {\n        this.eventBus.on(EventConstants.MANIFEST_PARSE_COMPLETED,this.onManifestParseCompleted,this);\n        this.eventBus.on(EventConstants.SEGMENT_CONSUMED,this.onSegmentConsumed,this);\n        this.eventBus.on(EventConstants.SEGEMTN_REQUEST,this.onSegmentRequest,this);\n    }\n\n    onManifestParseCompleted(mainifest:Mpd) {\n        this.segmentRequestStruct = this.generateSegmentRequestStruct(mainifest);\n        this.Mpd = mainifest;\n        this.startStream(mainifest);\n    }\n\n    generateBaseURLPath(Mpd:Mpd) {\n        this.baseURLPath = this.baseURLParser.parseManifestForBaseURL(Mpd as Mpd);\n    }\n\n    generateSegmentRequestStruct(Mpd:Mpd):MpdSegmentRequest {\n        this.generateBaseURLPath(Mpd);\n        let baseURL = Mpd[\"baseURL\"] || \"\";\n        let mpdSegmentRequest:MpdSegmentRequest = {\n            type:\"MpdSegmentRequest\",\n            request:[]\n        };\n        for(let i = 0;i < Mpd[\"Period_asArray\"].length; i++) {\n            let Period = Mpd[\"Period_asArray\"][i];\n            let periodSegmentRequest: PeriodSegmentRequest = {\n                VideoSegmentRequest:[],\n                AudioSegmentRequest:[]\n            };\n            for(let j = 0;j<Period[\"AdaptationSet_asArray\"].length;j++) {\n                let AdaptationSet = Period[\"AdaptationSet_asArray\"][j];\n                let res = this.generateAdaptationSetVideoOrAudioSegmentRequest(AdaptationSet,baseURL,i,j)\n                if(AdaptationSet.mimeType === \"video/mp4\") {\n                    periodSegmentRequest.VideoSegmentRequest.push({\n                        type: \"video\",\n                        video: res\n                   })\n                } else if(AdaptationSet.mimeType === \"audio/mp4\") {\n                    periodSegmentRequest.AudioSegmentRequest.push({\n                        lang: AdaptationSet.lang || \"en\",\n                        audio: res\n                    })\n                }\n            }\n            mpdSegmentRequest.request.push(periodSegmentRequest);\n        }\n\n        return mpdSegmentRequest;\n    }\n\n    generateAdaptationSetVideoOrAudioSegmentRequest(AdaptationSet:AdaptationSet,baseURL:string,i:number,j:number): \n        AdaptationSetVideoSegmentRequest | AdaptationSetAudioSegmentRequest {\n        let res = {}\n        for(let k = 0;k<AdaptationSet[\"Representation_asArray\"].length;k++) {\n            let Representation = AdaptationSet[\"Representation_asArray\"][k];\n            let url = this.URLUtils.\n                resolve(baseURL, this.baseURLParser.getBaseURLByPath([i,j,k],this.baseURLPath));\n            res[Representation.resolvePower] = [];\n            res[Representation.resolvePower].push(this.URLUtils.resolve(url,Representation.initializationURL))\n            res[Representation.resolvePower].push(Representation.mediaURL.map(item=>{\n                return this.URLUtils.resolve(url,item);\n            }))     \n        }\n        return res;\n    }\n\n    getNumberOfMediaSegmentForPeriod(streamId:number): number {\n        return this.segmentRequestStruct.request[this.streamId].VideoSegmentRequest[0].video[this.videoResolvePower][1].length;\n    }   \n\n    //初始化播放流，一次至多加载23个Segement过来\n    async startStream(Mpd:Mpd) {\n        let p = Mpd[\"Period_asArray\"][this.streamId];\n\n        let ires = await this.loadInitialSegment(this.streamId);\n            \n        this.eventBus.trigger(EventConstants.SEGEMTN_LOADED,{data: ires,streamId:this.streamId}); \n        let number = this.getNumberOfMediaSegmentForPeriod(this.streamId);\n\n        for(let i = 0;i < (number >= this.firstRequestNumber ? this.firstRequestNumber : number); i++) {\n            let mres = await this.loadMediaSegment();\n            this.mediaId++;\n            this.eventBus.trigger(EventConstants.SEGEMTN_LOADED,{data: mres,streamId:this.streamId,mediaId:this.mediaId});\n        }\n\n    }\n    /**\n     * @description 只有在触发seek事件后才会触发此方法\n     * @param tuple \n     */\n    async onSegmentRequest(tuple:[number,number]) {\n        // 如果此时video发生缓存内容之外的跳转，则需要重新请求对应的segment，因此需要中断正在发送还没有收到结果的请求\n        this.abortAllXHR();\n        let [streamId,mediaId] = tuple;\n        this.streamId = streamId;\n        this.mediaId = mediaId;\n        let mres = await this.loadMediaSegment();\n        this.eventBus.trigger(EventConstants.SEGEMTN_LOADED,{data: mres,streamId:this.streamId,mediaId:mediaId})\n    }\n\n    //播放器消费一个Segment我就继续请求一个Segment\n    async onSegmentConsumed(range: VideoBuffers) {\n        if(!this.segmentRequestStruct.request[this.streamId]) return;\n        let total = this.getNumberOfMediaSegmentForPeriod(this.streamId);\n        if(this.mediaId >= total) {\n            this.mediaId = 0;\n            this.streamId ++;\n        } else {\n            this.mediaId ++;\n        }\n\n        if(this.segmentRequestStruct.request[this.streamId] === undefined) {\n            this.eventBus.trigger(EventConstants.MEDIA_PLAYBACK_FINISHED);\n        } else {\n            let time = this.timeRangeUtils.getOffestTimeOfMediaSegment(this.streamId,this.mediaId,this.Mpd);\n            console.log(time,range);\n            if(!this.timeRangeUtils.inVideoBuffered(time,range)) {\n                let mres = await this.loadMediaSegment();\n                this.eventBus.trigger\n                    (EventConstants.SEGEMTN_LOADED,{data:mres, streamId:this.streamId,mediaId:this.mediaId});\n            }\n        }\n    }\n    \n    //此处的streamId标识具体的Period对象\n    loadInitialSegment(streamId) {\n        let stream = this.segmentRequestStruct.request[this.streamId]\n        // 先默认选择音视频的第一个版本\n        let audioRequest = stream.AudioSegmentRequest[0].audio;\n        let videoRequest = stream.VideoSegmentRequest[0].video;\n        return this.loadSegment(videoRequest[this.videoResolvePower][0],audioRequest[this.audioResolvePower][0]);\n    }\n\n    loadMediaSegment() {\n        let stream = this.segmentRequestStruct.request[this.streamId]\n        // 先默认选择音视频的第一个版本\n        let audioRequest = stream.AudioSegmentRequest[0].audio;\n        let videoRequest = stream.VideoSegmentRequest[0].video;\n        return this.\n            loadSegment(videoRequest[this.videoResolvePower][1][this.mediaId],\n                        audioRequest[this.audioResolvePower][1][this.mediaId]\n                        );\n    }\n\n    loadSegment(videoURL,audioURL) {\n        let p1 = this.urlLoader.load({url:videoURL,responseType:\"arraybuffer\"},\"Segment\") as Promise<any>;\n        let p2 = this.urlLoader.load({url:audioURL,responseType:\"arraybuffer\"},\"Segment\") as Promise<any>;\n        return Promise.all([p1,p2]);\n    }\n\n    abortAllXHR() {\n        this.urlLoader.abortAllXHR();\n    }\n}\n\nconst factory = FactoryMaker.getClassFactory(StreamController);\nexport default factory;\nexport { StreamController };\n\n","import { FactoryObject } from \"../../types/dash/Factory\";\nimport { PlayerBuffer } from \"../../types/dash/Net\";\nimport FactoryMaker from \"../FactoryMaker\";\n\nclass MediaPlayerBuffer {\n    private config: FactoryObject = {};\n    private arrayBuffer: Array<PlayerBuffer> = new Array<PlayerBuffer>();\n    constructor(ctx: FactoryObject,...args: any[]) {\n        this.config = ctx.context;\n    }\n\n    push(buffer:PlayerBuffer) {\n        this.arrayBuffer.push(buffer);\n    }\n\n    clear() {\n        this.arrayBuffer = []\n    }\n\n    isEmpty() {\n        return this.arrayBuffer.length === 0;\n    }\n\n    delete(buffer:PlayerBuffer) {\n        if(this.arrayBuffer.includes(buffer)) {\n            let index = this.arrayBuffer.indexOf(buffer);\n            this.arrayBuffer.splice(index,1);\n        }\n    }\n\n    top() {\n        return this.arrayBuffer[0] || null;\n    }\n\n    pop() {\n        this.arrayBuffer.length && this.arrayBuffer.pop();\n    }\n}\n\nconst factory = FactoryMaker.getSingleFactory(MediaPlayerBuffer);\nexport default factory;\nexport { MediaPlayerBuffer };","import { FactoryObject } from \"../../types/dash/Factory\";\nimport { Mpd } from \"../../types/dash/MpdFile\";\nimport { PlayerBuffer } from \"../../types/dash/Net\";\nimport { VideoBuffers } from \"../../types/dash/Stream\";\nimport EventBusFactory, { EventBus } from \"../event/EventBus\";\nimport { EventConstants } from \"../event/EventConstants\";\nimport FactoryMaker from \"../FactoryMaker\";\nimport TimeRangeUtilsFactory, { TimeRangeUtils } from \"../utils/TimeRangeUtils\";\nimport MediaPlayerBufferFactory,{ MediaPlayerBuffer } from \"../vo/MediaPlayerBuffer\";\nclass MediaPlayerController {\n    // 控制器\n    private config: FactoryObject = {};\n    private video: HTMLVideoElement;\n    private mediaSource: MediaSource;\n    private videoSourceBuffer: SourceBuffer;\n    private audioSourceBuffer: SourceBuffer;\n    private buffer: MediaPlayerBuffer;\n    private eventBus: EventBus;\n    private timeRangeUtils: TimeRangeUtils;\n    // 属性\n    private isFirstRequestCompleted:boolean = false;\n    private mediaDuration:number = 0;\n    private currentStreamId: number = 0;\n    private Mpd: Mpd;\n    constructor(ctx:FactoryObject,...args:any[]) {\n        this.config = ctx.context;\n        if(this.config.video) {\n            this.video = this.config.video;\n        }\n        this.setup();\n        this.initEvent(); \n        this.initPlayer();   \n    }\n    setup(){\n        this.mediaSource = new MediaSource();\n       \n        this.buffer = MediaPlayerBufferFactory().getInstance();\n        this.eventBus = EventBusFactory().getInstance();\n        this.timeRangeUtils = TimeRangeUtilsFactory().getInstance();\n    }\n\n    initEvent() {\n        \n        this.eventBus.on(EventConstants.BUFFER_APPENDED,(id:number)=>{\n            // // 当视频和音频源缓冲都没有在更新时，执行回调函数，执行数据追加操作，并更新当前流的标识\n            if(!this.videoSourceBuffer.updating && !this.audioSourceBuffer.updating) {\n                console.log(\"append\")\n                this.appendSource();\n                this.currentStreamId = id;\n                console.log(this.currentStreamId,'当视频和音频源缓冲都没有在更新时，执行回调函数，执行数据追加操作，并更新当前流的标识');\n                \n            }\n        },this)\n\n        this.eventBus.on(EventConstants.FIRST_REQUEST_COMPLETED,()=>{\n            this.isFirstRequestCompleted = true;\n        },this)\n\n        this.eventBus.on(EventConstants.MEDIA_PLAYBACK_FINISHED,this.onMediaPlaybackFinished,this)\n        this.eventBus.on(EventConstants.MANIFEST_PARSE_COMPLETED,(manifest,duration,Mpd)=>{\n            this.mediaDuration = duration;\n            this.Mpd = Mpd;\n            if(this.mediaSource.readyState === \"open\") {\n                this.setMediaSource();\n            }\n        },this)\n    }\n\n    initPlayer() {\n        this.video.src = window.URL.createObjectURL(this.mediaSource);\n        this.mediaSource.addEventListener(\"sourceopen\",this.onSourceopen.bind(this));\n        this.video.addEventListener(\"seeking\",this.onMediaSeeking.bind(this));\n    }\n\n    /**\n     * @description 配置MediaSource的相关选项和属性\n     */\n    setMediaSource() {\n        // 将媒体源的持续时间设置为媒体时长。\n        this.mediaSource.duration = this.mediaDuration;\n        this.mediaSource.setLiveSeekableRange(0,this.mediaDuration);\n    }\n\n    getVideoBuffered(video:HTMLVideoElement): VideoBuffers {\n        let buffer = this.video.buffered;\n        let res:VideoBuffers = [];\n        console.log(res,'已缓存范围.每个范围的开始和结束时间存储在 res 数组');\n        \n        for(let i = 0;i < buffer.length;i++) {\n            let start = buffer.start(i);\n            let end = buffer.end(i);\n            res.push({start,end})\n        }\n        return res;\n    }\n\n    appendSource() {\n        let data = this.buffer.top();\n        if(data) {\n            this.buffer.delete(data);\n            this.appendVideoSource(data.video);\n            this.appendAudioSource(data.audio);\n        }\n    }\n\n    appendVideoSource(data:ArrayBuffer) {\n        this.videoSourceBuffer.appendBuffer(new Uint8Array(data));\n    }\n\n    appendAudioSource(data:ArrayBuffer) {\n        this.audioSourceBuffer.appendBuffer(new Uint8Array(data));\n    }\n\n    /**\n     * @description 当进度条发生跳转时触发\n     * @param { EventTarget} e \n     */\n    onMediaSeeking(e) {\n        let currentTime = this.video.currentTime;\n        let [streamId,mediaId] = this.timeRangeUtils.\n            getSegmentAndStreamIndexByTime(this.currentStreamId,currentTime,this.Mpd);\n\n        let ranges = this.getVideoBuffered(this.video);\n        if(!this.timeRangeUtils.inVideoBuffered(currentTime,ranges)) {\n            console.log(\"超出缓存范围\")\n            this.buffer.clear();\n            \n            this.eventBus.trigger(EventConstants.SEGEMTN_REQUEST,[streamId,mediaId]);\n        } else {\n            console.log(\"在缓存范围之内\")\n        }\n    }\n    \n    onSourceopen(e) {\n\n        this.videoSourceBuffer = this.mediaSource.addSourceBuffer('video/mp4; codecs=\"avc1.64001E\"');\n        this.audioSourceBuffer = this.mediaSource.addSourceBuffer('audio/mp4; codecs=\"mp4a.40.2\"');\n\n        this.videoSourceBuffer.addEventListener(\"updateend\",this.onUpdateend.bind(this));\n        this.audioSourceBuffer.addEventListener(\"updateend\",this.onUpdateend.bind(this));\n    }\n\n    onUpdateend() {\n        if(!this.videoSourceBuffer.updating && !this.audioSourceBuffer.updating) {\n            if(this.isFirstRequestCompleted) {\n                let ranges = this.getVideoBuffered(this.video);\n                this.eventBus.trigger(EventConstants.SEGMENT_CONSUMED,ranges);\n            }\n            this.appendSource();\n        }\n    }\n\n    onMediaPlaybackFinished() {\n        // this.mediaSource.endOfStream();\n        // 虽然存储了 URL-Blob映射，从内部映射中删除引用，从而允许删除 Blob（如果没有其他引用），并释放内存。\n        window.URL.revokeObjectURL(this.video.src);\n        console.log(\"播放流加载结束\")\n    }\n}\n\nconst factory = FactoryMaker.getClassFactory(MediaPlayerController);\nexport default factory;\nexport { MediaPlayerController };","import { FactoryObject } from \"../types/dash/Factory\";\nimport { Mpd } from \"../types/dash/MpdFile\";\nimport { ConsumedSegment } from \"../types/dash/Stream\";\nimport EventBusFactory, { EventBus } from \"./event/EventBus\";\nimport { EventConstants } from \"./event/EventConstants\";\nimport FactoryMaker from \"./FactoryMaker\";\nimport URLLoaderFactory, { URLLoader } from \"./net/URLLoader\";\nimport DashParserFactory, { DashParser } from \"./parser/DashParser\";\nimport StreamControllerFactory, { StreamController } from \"./stream/StreamController\";\nimport MediaPlayerBufferFactory, { MediaPlayerBuffer } from \"./vo/MediaPlayerBuffer\";\nimport MediaPlayerControllerFactory, { MediaPlayerController } from \"./vo/MediaPlayerController\";\n/**\n * @description 整个dash处理流程的入口类MediaPlayer,类似于项目的中转中心，用于接收任务并且将任务分配给不同的解析器去完成\n */\nclass MediaPlayer {\n    // 控制器\n    private urlLoader: URLLoader;\n    private eventBus: EventBus;\n    private dashParser: DashParser;\n    private streamController: StreamController;\n    private mediaPlayerController: MediaPlayerController;\n    private video: HTMLVideoElement;\n    private buffer: MediaPlayerBuffer;\n\n    // 私有属性\n    private config: FactoryObject = {};\n    private firstCurrentRequest: number = 0;\n    // 当前视频流的具体ID，也就是在请求第几个Period媒体片段\n    private currentStreamId: number = 0;\n    // 媒体的总时长 -- duration\n    private duration: number = 0;\n\n    constructor(ctx: FactoryObject, ...args: any[]) {\n        this.config = ctx.context;\n        this.setup();\n        this.initializeEvent();\n    }\n\n    //初始化类\n    setup() {\n        this.urlLoader = URLLoaderFactory().getInstance();\n        this.eventBus = EventBusFactory().getInstance();\n        // ignoreRoot -> 忽略Document节点，从MPD开始作为根节点\n        this.dashParser = DashParserFactory({ ignoreRoot: true }).getInstance();\n        this.streamController = StreamControllerFactory({ num: 23 }).create();\n\n        this.buffer = MediaPlayerBufferFactory().getInstance();\n    }\n\n    initializeEvent() {\n        this.eventBus.on(EventConstants.MANIFEST_LOADED, this.onManifestLoaded, this);\n        this.eventBus.on(EventConstants.SEGEMTN_LOADED, this.onSegmentLoaded, this);;\n    }\n\n    resetEvent() {\n        this.eventBus.off(EventConstants.MANIFEST_LOADED, this.onManifestLoaded, this);\n        this.eventBus.off(EventConstants.SEGEMTN_LOADED, this.onSegmentLoaded, this);\n    }\n\n    //MPD文件请求成功获得对应的data数据\n    onManifestLoaded(data: string) {\n        let manifest = this.dashParser.parse(data);\n        this.duration = this.dashParser.getTotalDuration(manifest as Mpd);\n        this.eventBus.\n            trigger(EventConstants.MANIFEST_PARSE_COMPLETED, manifest, this.duration, manifest);\n    }\n\n    onSegmentLoaded(res: ConsumedSegment) {\n        console.log(\"加载Segment成功\", res.mediaId);\n        this.firstCurrentRequest++;\n        if (this.firstCurrentRequest === 23) {\n            this.eventBus.trigger(EventConstants.FIRST_REQUEST_COMPLETED);\n        }\n        let data = res.data;\n        let id = res.streamId;\n        let videoBuffer = data[0];\n        let audioBuffer = data[1];\n        this.currentStreamId = id;\n        this.buffer.push({\n            video: videoBuffer,\n            audio: audioBuffer,\n            streamId: res.streamId\n        })\n        this.eventBus.trigger(EventConstants.BUFFER_APPENDED, this.currentStreamId);\n    }\n\n    /**\n     * @description 发送MPD文件的网络请求，我要做的事情很纯粹，具体实现细节由各个Loader去具体实现\n     * @param url \n     */\n    public attachSource(url: string) {\n        this.eventBus.trigger(EventConstants.SOURCE_ATTACHED, url);\n        this.urlLoader.load({ url, responseType: \"text\" }, \"Manifest\");\n    }\n\n    /**\n * @description 让MediaPlayer类去接管传入的video dom元素\n * @param video \n */\n\n    public attachVideo(video: HTMLVideoElement) {\n        this.video = video;\n        this.mediaPlayerController = MediaPlayerControllerFactory({ video: video, duration: this.duration }).create();\n    }\n}\n\nconst factory = FactoryMaker.getClassFactory(MediaPlayer);\nexport { MediaPlayer }\nexport default factory;","import {\r\n  ComponentItem,\r\n  DOMProps,\r\n  PlayerOptions,\r\n  ToolBar,\r\n  registerOptions,\r\n} from \"../index\";\r\nimport \"./player.less\";\r\nimport \"../main.less\";\r\nimport { Component } from \"../class/Component\";\r\nimport { $, patchComponent } from \"../utils/domUtils\";\r\nimport { Plugin } from \"../index\";\r\nimport Mp4MediaPlayer from \"../mp4/MediaPlayer\";\r\nimport { getFileExtension } from \"../utils/play\";\r\nimport  MpdMediaPlayerFactory  from \"../dash/MediaPlayer\";\r\nimport { CONTROL_COMPONENT_STORE } from \"../utils/store\";\r\nclass Player extends Component implements ComponentItem {\r\n  readonly id = \"Player\";\r\n  // 播放器的默认配置\r\n  readonly playerOptions:PlayerOptions = {\r\n    url: \"\",\r\n    container:document.body,\r\n    autoplay: false,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  };\r\n  video: HTMLVideoElement;\r\n  toolBar: ToolBar;\r\n  container: HTMLElement;\r\n  props:DOMProps;\r\n  constructor(options: PlayerOptions) {\r\n    super(options.container, \"div.video-wrapper\");\r\n    this.playerOptions = Object.assign(this.playerOptions, options);\r\n    options.container.className = \"video-container\";\r\n    options.container.style.width = this.playerOptions.width ;\r\n    options.container.style.height = this.playerOptions.height;\r\n    this.container = options.container;\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.video = $(\"video\");\r\n    this.el.appendChild(this.video);\r\n    this.attachSource(this.playerOptions.url);\r\n    this.toolBar = new ToolBar(this, this.el, \"div\");\r\n    this.initEvent();\r\n    this.initPlugin();\r\n  }\r\n\r\n  initEvent() {\r\n    this.video.onplay = (e) => {\r\n      this.emit(\"play\", e)\r\n    }\r\n\r\n    this.video.onpause = (e) => {\r\n      this.emit(\"pause\", e)\r\n    }\r\n    this.el.onmousemove = (e) => {\r\n      this.emit(\"showtoolbar\", e);\r\n    }\r\n\r\n    this.el.onmouseenter = (e) => {\r\n      this.emit(\"showtoolbar\", e);\r\n    }\r\n\r\n    this.el.onmouseleave = (e) => {\r\n      this.emit(\"hidetoolbar\", e);\r\n    }\r\n\r\n    this.video.onloadedmetadata = (e) => {\r\n      this.emit(\"loadedmetadata\", e);\r\n    }\r\n\r\n    this.video.ontimeupdate = (e) => {\r\n      console.log(\"timeupdate\",e);\r\n      \r\n      this.emit(\"timeupdate\", e);\r\n    }\r\n\r\n    this.on(\"progress-click\", (e, ctx) => {\r\n      let scale = e.offsetX / ctx.el.offsetWidth;\r\n      if (scale < 0) {\r\n        scale = 0;\r\n      } else if (scale > 1) {\r\n        scale = 1;\r\n      }\r\n      this.video.currentTime = Math.floor(scale * this.video.duration);\r\n      this.video.paused && this.video.play();\r\n    })\r\n  }\r\n\r\n  initPlugin() {\r\n    if(this.playerOptions.plugins) {\r\n      this.playerOptions.plugins.forEach(plugin=>{\r\n        this.use(plugin);\r\n      })\r\n    }\r\n  }\r\n\r\n  initMp4Player(url:string) {\r\n    let player = new Mp4MediaPlayer(this.playerOptions.url,this.video)\r\n\r\n  }\r\n\r\n  initMpdPlayer(url:string) {\r\n    let player = MpdMediaPlayerFactory().create();\r\n    player.attachVideo(this.video);\r\n    player.attachSource(url);\r\n  }\r\n\r\n  attachSource(url: string) {\r\n    console.log('开始选择',getFileExtension(url));\r\n    \r\n    switch(getFileExtension(url)) {\r\n      case \"mp4\":\r\n        this.initMp4Player(url)\r\n        console.log('quzhe1llllllllllllll');\r\n      case \"mp3\":\r\n        this.initMp4Player(url);\r\n        break\r\n      case \"mpd\":\r\n        // this.initMpdPlayer(url);\r\n        break\r\n      case \"m3u8\":\r\n        // ToDo\r\n    }\r\n  }\r\n  registerControls(id:string,component:Partial<ComponentItem> & registerOptions) {\r\n    let store = CONTROL_COMPONENT_STORE;\r\n    if(store.has(id)) {\r\n      if(component.replaceElementType){\r\n        patchComponent(store.get(id),component,{replaceElementType:component.replaceElementType})\r\n      }else {\r\n        patchComponent(store.get(id),component);\r\n      }\r\n     \r\n    }else {\r\n      // 如果该组件实例是用户自创的话\r\n      if(!component.el) throw new Error(`传入的原创组件${id}没有对应的DOM元素`)\r\n\r\n      console.log('what',component.el);\r\n      \r\n      this.toolBar.controller.settings.appendChild(component.el)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @description 注册对应的组件\r\n   * @param plugin\r\n   */\r\n\r\n  use(plugin:Plugin) {\r\n    console.log(plugin,'pplu');\r\n    \r\n    plugin.install(this)\r\n  }\r\n}\r\n\r\nexport { Player };\r\n"],"names":["Log","start","Date","LOG_LEVEL_ERROR","LOG_LEVEL_WARNING","LOG_LEVEL_INFO","LOG_LEVEL_DEBUG","log_level","logObject","setLogLevel","level","debug","info","warn","error","module","msg","console","undefined","log","getDurationString","duration","_timescale","neg","pad","number","length","str","a","split","join","timescale","duration_sec","hours","Math","floor","minutes","msec","printRanges","ranges","i","end","exports","MP4BoxStream","arrayBuffer","ArrayBuffer","buffer","dataview","DataView","position","prototype","getPosition","getEndPosition","byteLength","getLength","seek","pos","npos","max","min","isNaN","isFinite","isEos","readAnyInt","size","signed","res","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","readUint8","readUint16","readUint24","readUint32","readUint64","readString","s","String","fromCharCode","readCString","arr","b","push","apply","readInt8","readInt16","readInt32","readInt64","readUint8Array","Uint8Array","readInt16Array","Int16Array","readUint16Array","readUint32Array","Uint32Array","readInt32Array","Int32Array","DataStream","byteOffset","endianness","_byteOffset","dataView","LITTLE_ENDIAN","_realloc","extra","_dynamicSize","req","blen","_buffer","_byteLength","buf","src","dst","set","_trimAlloc","BIG_ENDIAN","Object","defineProperty","get","v","_dataView","isEof","mapUint8Array","e","memcpy","BYTES_PER_ELEMENT","arrayToNative","readInt8Array","Int8Array","Uint16Array","readFloat64Array","Float64Array","readFloat32Array","Float32Array","readFloat32","getFloat32","readFloat64","getFloat64","dstOffset","srcOffset","dstU8","srcU8","array","arrayIsLittleEndian","flipArrayEndianness","nativeToEndian","littleEndian","u8","j","k","tmp","failurePosition","fromCharCodeUint8","uint8arr","encoding","TextDecoder","decode","len","MAX_SIZE","pow","save","filename","blob","Blob","window","URL","createObjectURL","url","document","createElement","body","appendChild","setAttribute","click","revokeObjectURL","shift","offset","writeInt32Array","mapInt32Array","writeInt32","writeInt16Array","mapInt16Array","writeInt16","writeInt8Array","mapInt8Array","writeInt8","writeUint32Array","mapUint32Array","writeUint32","writeUint16Array","mapUint16Array","writeUint16","writeUint8Array","writeUint8","writeFloat64Array","mapFloat64Array","writeFloat64","writeFloat32Array","mapFloat32Array","writeFloat32","setInt32","setInt16","setInt8","setUint32","setUint16","setUint8","setFloat32","setFloat64","writeUCS2String","lengthOverride","charCodeAt","writeString","TextEncoder","encode","substring","writeCString","writeStruct","structDefinition","struct","t","writeType","tp","Array","charset","test","parseInt","ta","writeUint64","h","writeUint24","adjustUint32","value","MultiBufferStream","buffers","bufferIndex","insertBuffer","initialized","firstBuffer","fileStart","logBufferLevel","concat","buffer1","buffer2","reduceBuffer","newLength","smallB","usedBytes","ab","to_add","splice","used","total","range","bufferedString","cleanBuffers","mergeNextBuffer","next_buffer","oldLength","oldUsedBytes","oldFileStart","findPosition","fromStart","filePosition","markAsUsed","abuffer","index","findEndContiguousBuf","inputindex","currentBuf","nextBuf","getEndFilePositionAfter","addUsedBytes","nbBytes","setAllUsedBytes","MPEG4DescriptorParser","ES_DescrTag","DecoderConfigDescrTag","DecSpecificInfoTag","SLConfigDescrTag","descTagToName","getDescriptorName","tag","that","classes","parseOneDescriptor","stream","desc","byteRead","Descriptor","parse","_tag","_size","descs","data","findDescriptor","parseRemainingDescriptors","ES_Descriptor","call","ES_ID","flags","dependsOn_ES_ID","l","OCR_ES_ID","getOTI","dcd","oti","getAudioConfig","dsi","audioObjectType","DecoderConfigDescriptor","streamType","bufferSize","maxBitrate","avgBitrate","DecoderSpecificInfo","SLConfigDescriptor","BoxParser","ERR_INVALID_DATA","ERR_NOT_ENOUGH_DATA","OK","BASIC_BOXES","FULL_BOXES","CONTAINER_BOXES","boxCodes","fullBoxCodes","containerBoxCodes","sampleEntryCodes","sampleGroupEntryCodes","trackGroupTypes","UUIDBoxes","UUIDs","initialize","FullBox","Box","ContainerBox","SampleEntry","TrackGroupTypeBox","forEach","type","createBoxCtor","createFullBoxCtor","types","createContainerBoxCtor","_type","_uuid","uuid","version","boxes","hdr_size","SampleGroupEntry","grouping_type","parseMethod","parseFullHeader","addSubBoxArrays","subBoxNames","nbSubBoxes","createMediaSampleEntryCtor","mediaType","createSampleEntryCtor","createEncryptedSampleEntryCtor","createSampleGroupCtor","createTrackGroupCtor","createUUIDBox","isFullBox","isContainerBox","TKHD_FLAG_ENABLED","TKHD_FLAG_IN_MOVIE","TKHD_FLAG_IN_PREVIEW","TFHD_FLAG_BASE_DATA_OFFSET","TFHD_FLAG_SAMPLE_DESC","TFHD_FLAG_SAMPLE_DUR","TFHD_FLAG_SAMPLE_SIZE","TFHD_FLAG_SAMPLE_FLAGS","TFHD_FLAG_DUR_EMPTY","TFHD_FLAG_DEFAULT_BASE_IS_MOOF","TRUN_FLAGS_DATA_OFFSET","TRUN_FLAGS_FIRST_FLAG","TRUN_FLAGS_DURATION","TRUN_FLAGS_SIZE","TRUN_FLAGS_FLAGS","TRUN_FLAGS_CTS_OFFSET","add","name","addBox","box","prop","addEntry","_prop","parseUUID","parseHex16","hex16","hex","toString","parseOneBox","headerOnly","parentSize","diff","code","box_type","has_unparsed_data","write","parseDataAndRewind","ret","indexOf","parseLanguage","language","chars","languageString","SAMPLE_ENTRY_TYPE_VISUAL","SAMPLE_ENTRY_TYPE_AUDIO","SAMPLE_ENTRY_TYPE_HINT","SAMPLE_ENTRY_TYPE_METADATA","SAMPLE_ENTRY_TYPE_SUBTITLE","SAMPLE_ENTRY_TYPE_SYSTEM","SAMPLE_ENTRY_TYPE_TEXT","parseHeader","data_reference_index","parseFooter","compressorname_length","width","height","horizresolution","vertresolution","frame_count","compressorname","depth","channel_count","samplesize","samplerate","large_size","FieldLength","layer_size","op_index","aux_type","aux_subtype_length","aux_subtype","seq_profile","seq_level_idx_0","seq_tier_0","high_bitdepth","twelve_bit","monochrome","chroma_subsampling_x","chroma_subsampling_y","chroma_sample_position","reserved_1","initial_presentation_delay_present","initial_presentation_delay_minus_one","reserved_2","configOBUs_length","configOBUs","toparse","configurationVersion","AVCProfileIndication","profile_compatibility","AVCLevelIndication","lengthSizeMinusOne","nb_SPS_nalus","SPS","nalu","nb_PPS_nalus","PPS","ext","bufferSizeDB","cleanApertureWidthN","cleanApertureWidthD","cleanApertureHeightN","cleanApertureHeightD","horizOffN","horizOffD","vertOffN","vertOffD","max_content_light_level","max_pic_average_light_level","entry_count","chunk_offsets","maxCLL","maxFALL","colour_type","colour_primaries","transfer_characteristics","matrix_coefficients","full_range_flag","ICC_profile","notice","compositionToDTSShift","leastDecodeToDisplayDelta","greatestDecodeToDisplayDelta","compositionStartTime","compositionEndTime","sample_counts","sample_offsets","tmp_byte1","tmp_byte2","tmp_byte3","fscod","bsid","bsmod","acmod","lfeon","bit_rate_code","tmp_16","data_rate","num_ind_sub","ind_subs","ind_sub","num_dep_sub","chan_loc","BLOCKTYPE_MASK","LASTMETADATABLOCKFLAG_MASK","boxesFound","knownBlockTypes","flagAndType","numMetadataBlocks","bytessent","time","Version","OutputChannelCount","PreSkip","InputSampleRate","OutputGain","ChannelMappingFamily","StreamCount","CoupledCount","ChannelMapping","entries","extended_language","entry","segment_duration","media_time","media_rate_integer","media_rate_fraction","presentation_time","event_duration","id","scheme_id_uri","presentation_time_delta","message_size","message_data","esd_data","esd_parser","esd","fieldCount","fieldOrdering","data_format","major_brand","minor_version","compatible_brands","handler","slice","tmp_byte","general_profile_space","general_tier_flag","general_profile_idc","general_profile_compatibility","general_constraint_indicator","general_level_idc","min_spatial_segmentation_idc","parallelismType","chroma_format_idc","bit_depth_luma_minus8","bit_depth_chroma_minus8","avgFrameRate","constantFrameRate","numTemporalLayers","temporalIdNested","nalu_arrays","numOfArrays","nalu_array","completeness","nalu_type","numNalus","item_infos","byte","offset_size","length_size","base_offset_size","index_size","items","item_count","item","item_ID","construction_method","base_offset","extent_count","extents","extent","extent_index","extent_offset","extent_length","reserved","axis","item_protection_index","item_name","content_type","content_encoding","extension_type","item_type","item_uri_type","associations","item_assoc","association_count","props","p","essential","property_index","references","SingleItemTypeReferenceBox","SingleItemTypeReferenceBoxLarge","angle","image_width","image_height","schemeURI","count","levels","track_ID","padding_flag","assignment_type","grouping_type_parameter","sub_track_id","layer_id","period","bytes","display_primaries","x","y","white_point","max_display_mastering_luminance","min_display_mastering_luminance","creation_time","modification_time","fragment_duration","sequence_number","rate","volume","matrix","next_track_id","packetssent","sample_count","padbits","hSpacing","vSpacing","text","payloadID","rtpmap_string","initial_delay","item_id","num_channels","bits_per_channels","ref_track_id","ntp_timestamp","system_id","kid","datasize","descriptionformat","sdptext","aux_info_type","aux_info_type_parameter","default_sample_info_size","sample_info_size","mime_format","namespace","schema_location","auxiliary_mime_types","displayFlags","horizontal_justification","vertical_justification","bg_color_rgba","box_record","style_record","roll_count","first_output_sample","sample_offset","remaining","description_length","num_output_samples","num_total_samples","layerNumber","accurateStatisticsFlag","avgBitRate","subSequenceIdentifier","durationFlag","avgRateFlag","dependency","numReferences","dependencyInfo","subSeqDirectionFlag","roll_distance","num_leading_samples_known","num_leading_samples","operation_point_count","target_rate_share","available_bitrate","maximum_bitrate","minimum_bitrate","discard_priority","crypt_byte_block","skip_byte_block","isProtected","Per_Sample_IV_Size","KID","constant_IV_size","constant_IV","NAL_unit_type","level_independently_decodable","group_description_index","scheme_type","scheme_version","scheme_uri","is_leading","sample_depends_on","sample_is_depended_on","sample_has_redundancy","default_length","default_group_description_index","reference_ID","earliest_presentation_time","first_offset","ref","tmp_32","reference_type","referenced_size","subsegment_duration","starts_with_SAP","SAP_type","SAP_delta_time","from_item_ID","primaryRChromaticity_x","primaryRChromaticity_y","primaryGChromaticity_x","primaryGChromaticity_y","primaryBChromaticity_x","primaryBChromaticity_y","whitePointChromaticity_x","whitePointChromaticity_y","luminanceMax","luminanceMin","balance","subsegments","subsegment_count","subsegment","range_count","range_size","priority","switch_group","alternate_group","attribute_list","first_chunk","samples_per_chunk","sample_description_index","entryCount","shadowed_sample_numbers","sync_sample_numbers","sample_numbers","sample_sizes","sample_size","delta","sample_deltas","tmp32","single_view_allowed","stereo_scheme","stereo_indication_type","ftypBox","field_size","subsample_count","sampleInfo","sample_delta","subsamples","subsample","discardable","codec_specific_parameters","default_crypt_byte_block","default_skip_byte_block","default_isProtected","default_Per_Sample_IV_Size","default_KID","default_constant_IV_size","default_constant_IV","baseMediaDecodeTime","readBytes","track_id","base_data_offset","default_sample_description_index","default_sample_duration","default_sample_size","default_sample_flags","length_size_of_traf_num","length_size_of_trun_num","length_size_of_sample_num","number_of_entries","moof_offset","traf_number","trun_number","sample_number","layer","track_group_id","TrackReferenceTypeBox","track_ids","trefBox","data_offset","first_sample_flags","sample_duration","sample_flags","sample_composition_time_offset","config","location","LiveServerManifest","replace","default_AlgorithmID","default_IV_size","fragment_count","absolute_time","absolute_duration","graphicsmode","opcolor","profile","bitDepth","chromaSubsampling","videoFullRangeFlag","colourPrimaries","transferCharacteristics","matrixCoefficients","codecIntializationDataSize","codecIntializationData","colorSpace","transferFunction","bitReader","held_bits","num_held_bits","stream_read_1_bytes","strm","stream_read_2_bytes","extract_bits","num_bits","ptl_present_flag","ols_idx","num_sublayers","constant_frame_rate","bit_depth_minus8","num_bytes_constraint_info","ptl_frame_only_constraint_flag","ptl_multilayer_enabled_flag","general_constraint_info","cnstr1","cnstr2","ptl_sublayer_present_mask","val","sublayer_level_idc","ptl_num_sub_profiles","general_sub_profile_idc","max_picture_width","max_picture_height","avg_frame_rate","VVC_NALU_OPI","VVC_NALU_DEC_PARAM","num_of_arrays","isVideo","isAudio","isSubtitle","isMetadata","isHint","getCodec","getWidth","getHeight","getChannelCount","getSampleRate","getSampleSize","VisualSampleEntry","AudioSampleEntry","SubtitleSampleEntry","MetadataSampleEntry","decimalToHex","d","padding","Number","avc1SampleEntry","avc2SampleEntry","avc3SampleEntry","avc4SampleEntry","baseCodec","avcC","hev1SampleEntry","hvc1SampleEntry","hvcC","reversed","hasByte","constraint_string","vvc1SampleEntry","vvi1SampleEntry","vvcC","ptl_frame_only_constraint","ptl_multilayer_enabled","last_nonzero","base32_chars","mp4aSampleEntry","esds","stxtSampleEntry","vp08SampleEntry","vp09SampleEntry","vpcC","av01SampleEntry","av1C","bitdepth","writeHeader","sizePosition","avcCBox","co64Box","cslgBox","cttsBox","drefBox","elngBox","elstBox","emsgBox","hdlrBox","kindBox","mdhdBox","mehdBox","mfhdBox","mvhdBox","writeFooter","stppSampleEntry","sbgpBox","sgpdBox","sidxBox","smhdBox","stcoBox","stscBox","stsdBox","stshBox","stssBox","stszBox","constant","sttsBox","tfdtBox","UINT32_MAX","tfhdBox","tkhdBox","trexBox","trunBox","data_offset_position","vmhdBox","unpack","samples","pts","dts","m","Infinity","description_index","chunk_index","DIFF_BOXES_PROP_NAMES","DIFF_PRIMITIVE_ARRAY_PROP_NAMES","boxEqualFields","box_a","box_b","boxEqual","XMLSubtitlein4Parser","parseSample","sample","resources","documentString","DOMParser","parseFromString","Textin4Parser","textString","parseConfig","ISOFile","mdats","moofs","isProgressive","moovStartFound","onMoovStart","moovStartSent","onReady","readySent","onSegment","onSamples","onError","sampleListBuilt","fragmentedTracks","extractedTracks","isFragmentationInitialized","sampleProcessingStarted","nextMoofNumber","itemListBuilt","onSidx","sidxSent","setSegmentOptions","user","options","trak","getTrackById","fragTrack","nextSample","segmentStream","nb_samples","rapAlignement","nbSamples","unsetSegmentOptions","setExtractionOptions","extractTrack","unsetExtractionOptions","parseBoxHeadersOnly","restoreParsePosition","hasIncompleteMdat","processIncompleteMdat","saveParsePosition","processIncompleteBox","updateUsedBytes","checkBuffer","appendBuffer","last","nextFileStart","moov","buildSampleLists","updateSampleLists","getInfo","processSamples","nextSeekPosition","nextParsePosition","sidx","meta","flattenItemInfo","processItems","onItem","getAllocatedSampleDataSize","movie","track","sample_desc","_1904","getTime","hasMoov","mvhd","isFragmented","mvex","mehd","hasIOD","iods","brands","ftyp","created","modified","tracks","audioTracks","videoTracks","subtitleTracks","metadataTracks","hintTracks","otherTracks","traks","mdia","minf","stbl","stsd","tkhd","hdlr","tref","edts","edits","elst","movie_duration","movie_timescale","track_width","track_height","mdhd","cts_shift","cslg","samples_duration","codec","kind","udta","kinds","elng","samples_size","bitrate","audio","sample_rate","video","mime","fragTrak","result","createFragment","extractTrak","getSample","getBox","getBoxes","returnEarly","_sweep","getTrackSamplesInfo","getTrackSample","releaseUsedSamples","sampleNum","lastValidSample","releaseSample","samplesDataSize","stop","flush","seekTrack","useRap","seek_offset","rap_seek_sample_num","seek_sample_num","cts","is_sync","alreadyRead","trak_seek_info","seek_info","equal","box_index","a_box","b_box","lastBoxStartPosition","parsingMdat","discardMdatData","merged","found","init","_options","addTrack","media_duration","sample_description_entry","media_type","codes","avcDecoderConfigRecord","description","description_boxes","buildTrakSampleLists","computeSize","stream_","addSample","depends_on","is_depended_on","has_redundancy","degradation_priority","first_dts","moof","createSingleSampleMoof","trafs","truns","moofBox","traf","lastMoofIndex","resetTables","stco","stsc","stsz","stts","ctts","stss","initial_duration","co64","stz2","initSampleGroups","sbgps","trak_sgpds","traf_sgpds","sample_group_info","sample_group_key","SampleGroupInfo","_parameter","_sbgp","sbgp","last_sample_in_run","entry_index","sample_groups_info","fragment_description","is_fragment","setSampleGroupProperties","sample_groups","process_sdtp","sdtp","subs","sgpds","stdp","chunk_run_index","last_chunk_in_run","offset_in_chunk","last_sample_in_chunk","last_sample_in_stts_run","stts_run_index","last_sample_in_ctts_run","ctts_run_index","last_stss_index","subs_entry_index","last_subs_sample_index","last_run_position","trex","tfhd","getTrexById","trun","moof_number","number_in_traf","first_sample_index","first_traf_merged","tfdt","bdop","dbim","dop","bdo","has_fragment_subsamples","sample_index","lengthAfterStart","getCodecs","codecs","trexs","itemsDataSize","iinf","ref_to","protection_index","protection","ipro","protections","iloc","itemloc","source","dinf","pitm","primary","iref","iprp","ipmas","ipma","association","properties","propEntry","ipco","propbox","getItem","releaseItem","callback","sent","hasItem","getMetaHandler","getPrimaryItem","itemToFragmentedTrackFile","itemId","file","trackOptions","ispe","trackId","outstream","sampleNumber","mdat","mdatBox","writeInitializationSegment","total_duration","getBuffer","initializeSegmentation","initSegs","seg","moovBox","printHeader","output","indent","print","prev_indent","MP4Box","createFile","_keepMdatData","_stream","keepMdatData","factory","XHRLoaderFactory","MediaPlayer","EventBusFactory","SegmentTemplateParserFactory","URLUtilsFactory","DashParserFactory","BaseURLParserFactory","URLLoaderFactory","TimeRangeUtilsFactory","MediaPlayerBufferFactory","StreamControllerFactory","MediaPlayerControllerFactory","Mp4MediaPlayer","MpdMediaPlayerFactory"],"mappings":"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"}